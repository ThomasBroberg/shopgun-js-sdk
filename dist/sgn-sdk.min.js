!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).SGN=t()}}(function(){return function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var p=n[s]={exports:{}};e[s][0].call(p.exports,function(t){var n=e[s][1][t];return r(n||t)},p,p.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){var i,r;void 0===r&&(r={browser:!0}),(i=t("./sgn")).request=t("./request/browser"),i.AuthKit=t("./kits/auth"),i.AssetsKit=t("./kits/assets"),i.EventsKit=t("./kits/events"),i.GraphKit=t("./kits/graph"),i.CoreKit=t("./kits/core"),i.PagedPublicationKit=t("./kits/paged_publication"),i.storage={local:t("./storage/client_local"),cookie:t("./storage/client_cookie")},i.client=function(){var t,e;return e=i.storage.local.get("client-id"),(t=null==e)&&(e=i.util.uuid(),i.storage.local.set("client-id",e)),{firstOpen:t,id:e}}(),i.startSession=function(){var t;null!=(t=i.config.get("eventTracker"))&&(!0===i.client.firstOpen&&t.trackEvent("first-client-session-opened",{},"1.0.0"),t.trackEvent("client-session-opened",{},"1.0.0"))},e.exports=i},{"./kits/assets":6,"./kits/auth":7,"./kits/core":8,"./kits/events":11,"./kits/graph":13,"./kits/paged_publication":20,"./request/browser":27,"./sgn":28,"./storage/client_cookie":29,"./storage/client_local":30}],2:[function(t,e,n){var i,r,o=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};i={},r=["appVersion","appKey","appSecret","authToken","eventTracker","locale"],e.exports={set:function(t){var e,n;null==t&&(t={});for(e in t)n=t[e],o.call(r,e)>=0&&(i[e]=n)},get:function(t){return i[t]}}},{}],3:[function(t,e,n){var i,r;i=t("./config"),r=t("./util"),e.exports={config:i,util:r}},{"./config":2,"./util":31}],4:[function(t,e,n){e.exports={ESC:27,ARROW_RIGHT:39,ARROW_LEFT:37,SPACE:32,NUMBER_ONE:49}},{}],5:[function(t,e,n){var i;i=t("../../sgn"),e.exports=function(t,e,n){var r,o;if(null==t&&(t={}),null==t.file)throw new Error("File is not defined");o="https://assets.service.shopgun.com/upload",(r=new FormData).append("file",t.file),i.request({method:"post",url:o,body:r,timeout:36e5,headers:{Accept:"application/json"}},function(t,n){null!=t?e(i.util.error(new Error("Request error"),{code:"RequestError"})):200===n.statusCode?e(null,JSON.parse(n.body)):e(i.util.error(new Error("Request error"),{code:"RequestError",statusCode:n.statusCode}))},function(t,e){"function"==typeof n&&n({progress:t/e,loaded:t,total:e})})}},{"../../sgn":28}],6:[function(t,e,n){e.exports={fileUpload:t("./file_upload")}},{"./file_upload":5}],7:[function(t,e,n){e.exports={}},{}],8:[function(t,e,n){var i,r;t("../../sgn"),i=t("./request"),r=t("./session"),e.exports={baseUrl:"https://api.etilbudsavis.dk",request:i,session:r}},{"../../sgn":28,"./request":9,"./session":10}],9:[function(t,e,n){var i;i=t("../../sgn"),e.exports=function(t,e){null==t&&(t={}),null==e&&(e=function(){}),i.CoreKit.session.ensure(function(n){var r,o,s,a,u,h,p,c,l,d;return null!=n?e(n):(u=null!=(c=t.headers)?c:{},d=i.CoreKit.session.get("token"),s=i.CoreKit.session.get("client_id"),o=i.config.get("appVersion"),r=i.config.get("appSecret"),h=i.config.get("locale"),p=null!=(l=t.qs)?l:{},a=t.geolocation,u["X-Token"]=d,null!=r&&(u["X-Signature"]=i.CoreKit.session.sign(r,d)),null!=h&&(p.r_locale=h),null!=o&&(p.api_av=o),null!=s&&(p.client_id=s),null!=a&&(null!=a.latitude&&null==p.r_lat&&(p.r_lat=a.latitude),null!=a.longitude&&null==p.r_lng&&(p.r_lng=a.longitude),null!=a.radius&&null==p.r_radius&&(p.r_radius=a.radius),null!=a.sensor&&null==p.r_sensor&&(p.r_sensor=a.sensor)),i.request({method:t.method,url:i.CoreKit.baseUrl+t.url,qs:p,body:t.body,headers:u,useCookies:!1},function(t,n){var r;null!=t?e(i.util.error(new Error("Core request error"),{code:"CoreRequestError"})):(d=i.CoreKit.session.get("token"),r=n.headers["x-token"],d!==r&&i.CoreKit.session.set("token",r),n.statusCode>=200&&n.statusCode<300||304===n.statusCode?e(null,JSON.parse(n.body)):e(i.util.error(new Error("Core API error"),{code:"CoreAPIError",statusCode:n.statusCode})))}))})}},{"../../sgn":28}],10:[function(t,e,n){var i,r,o,s;i=t("../../sgn"),s=t("sha256"),r=t("../../storage/client_cookie"),o={tokenTTL:5184e3,attrs:function(){var t;return null!=(t=r.get("sessions"))?t:{}}(),callbackQueue:[],getUrl:function(){return i.CoreKit.baseUrl+"/v2/sessions"},get:function(t){var e,n,r;return e=i.config.get("appKey"),null!=t?null!=(n=o.attrs[e])?n[t]:void 0:null!=(r=o.attrs[e])?r:{}},set:function(t,e){var n,s,a;s=null,"object"==typeof t?s=t:"string"==typeof t&&null!=e&&((s=o.attrs)[t]=e),n=i.config.get("appKey"),null==(a=r.get("sessions"))&&(a={}),a[n]=s,r.set("sessions",a),o.attrs=a},create:function(t){i.request({method:"post",url:o.getUrl(),headers:{Accept:"application/json"},qs:{api_key:i.config.get("appKey"),token_ttl:o.tokenTTL}},function(e,n){null!=e?t(e):201===n.statusCode?(o.set(JSON.parse(n.body)),t(e,o.get())):t(new Error("Could not create session"))})},update:function(t){var e,n,r;n={},r=o.get("token"),e=i.config.get("appSecret"),n["X-Token"]=r,null!=e&&(n["X-Signature"]=o.sign(e,r)),n.Accept="application/json",i.request({url:o.getUrl(),headers:n},function(e,n){null!=e?t(e):200===n.statusCode?(o.set(JSON.parse(n.body)),t(e,o.get())):t(new Error("Could not update session"))})},renew:function(t){var e,n,r;n={},r=o.get("token"),e=i.config.get("appSecret"),n["X-Token"]=r,null!=e&&(n["X-Signature"]=o.sign(e,r)),n.Accept="application/json",i.request({method:"put",url:o.getUrl(),headers:n},function(e,n){null!=e?t(e):200===n.statusCode?(o.set(JSON.parse(n.body)),t(e,o.get())):t(new Error("Could not renew session"))})},ensure:function(t){var e,n;n=o.callbackQueue.length,e=function(t){o.callbackQueue=o.callbackQueue.filter(function(e){return e(t),!1})},o.callbackQueue.push(t),0===n&&(null==o.get("token")?o.create(e):o.willExpireSoon(o.get("expires"))?o.renew(e):e())},willExpireSoon:function(t){return Date.now()>=Date.parse(t)-864e5},sign:function(t,e){return s([t,e].join(""))}},e.exports=o},{"../../sgn":28,"../../storage/client_cookie":29,sha256:41}],11:[function(t,e,n){e.exports={Tracker:t("./tracker")}},{"./tracker":12}],12:[function(t,e,n){var i,r,o,s;i=t("../../sgn"),r=t("../../storage/client_local"),s=(o=function(){var t;return t=r.get("event-tracker-pool"),!1===Array.isArray(t)&&(t=[]),t})(),r.set("event-tracker-pool",[]);try{window.addEventListener("unload",function(){s=s.concat(o()),r.set("event-tracker-pool",s)},!1)}catch(t){}e.exports=function(){function t(t){var e,n,r;null==t&&(t={}),n=this.defaultOptions;for(e in n)r=n[e],this[e]=t[e]||r;this.dispatching=!1,this.session={id:i.util.uuid()},this.client={trackId:this.trackId,id:i.client.id},this.view={path:[],previousPath:[],uri:null},this.location={},this.application={},this.identity={},this.interval=setInterval(this.dispatch.bind(this),this.dispatchInterval)}return t.prototype.defaultOptions={baseUrl:"https://events.service.shopgun.com",trackId:null,dispatchInterval:3e3,dispatchLimit:100,poolLimit:1e3,dryRun:!1},t.prototype.trackEvent=function(t,e,n){if(null==e&&(e={}),null==n&&(n="1.0.0"),"string"!=typeof t)throw i.util.error(new Error("Event type is required"));if(null!=this.trackId){for(s.push({id:i.util.uuid(),type:t,version:n,recordedAt:(new Date).toISOString(),sentAt:null,client:{id:this.client.id,trackId:this.client.trackId},context:this.getContext(),properties:e});this.getPoolSize()>this.poolLimit;)s.shift();return this}},t.prototype.identify=function(t){return this.identity.id=t,this},t.prototype.setLocation=function(t){var e,n;return null==t&&(t={}),this.location.determinedAt=new Date(t.timestamp).toISOString(),this.location.latitude=t.latitude,this.location.longitude=t.longitude,this.location.altitude=t.altitude,this.location.accuracy={horizontal:null!=(e=t.accuracy)?e.horizontal:void 0,vertical:null!=(n=t.accuracy)?n.vertical:void 0},this.location.speed=t.speed,this.location.floor=t.floor,this},t.prototype.setApplication=function(t){return null==t&&(t={}),this.application.name=t.name,this.application.version=t.version,this.application.build=t.build,this},t.prototype.setView=function(t){return this.view.previousPath=this.view.path,!0===Array.isArray(t)&&(this.view.path=t),this.view.uri=window.location.href,this},t.prototype.getView=function(){var t;return t={},this.view.path.length>0&&(t.path=this.view.path),this.view.previousPath.length>0&&(t.previousPath=this.view.previousPath),null!=this.view.uri&&(t.uri=this.view.uri),t},t.prototype.getContext=function(){var t,e,n,r,o,s,a,u;return u=i.util.getScreenDimensions(),o=i.util.getOS(),n={userAgent:window.navigator.userAgent,locale:navigator.language,timeZone:{utcOffsetSeconds:i.util.getUtcOffsetSeconds(),utcDstOffsetSeconds:i.util.getUtcDstOffsetSeconds()},device:{screen:{width:u.physical.width,height:u.physical.height,density:u.density}},session:{id:this.session.id},view:this.getView()},t={name:this.application.name,version:this.application.version,build:this.application.build},e={source:i.util.getQueryParam("utm_source"),medium:i.util.getQueryParam("utm_medium"),name:i.util.getQueryParam("utm_campaign"),term:i.util.getQueryParam("utm_term"),content:i.util.getQueryParam("utm_content")},r={determinedAt:this.location.determinedAt,latitude:this.location.latitude,longitude:this.location.longitude,altitude:this.location.altitude,speed:this.location.speed,floor:this.location.floor,accuracy:{horizontal:null!=(s=this.location.accuracy)?s.horizontal:void 0,vertical:null!=(a=this.location.accuracy)?a.vertical:void 0}},null!=o&&(n.os={name:o}),document.referrer.length>0&&(n.session.referrer=document.referrer),["name","version","build"].forEach(function(e){"string"==typeof t[e]&&0!==t[e].length||delete t[e]}),Object.keys(t).length>0&&(n.application=t),["source","medium","name","term","content"].forEach(function(t){"string"==typeof e[t]&&0!==e[t].length||delete e[t]}),Object.keys(e).length>0&&(n.campaign=e),["latitude","longitude","altitude","speed","floor"].forEach(function(t){"number"!=typeof r[t]&&delete r[t]}),"number"!=typeof r.accuracy.horizontal&&delete r.accuracy.horizontal,"number"!=typeof r.accuracy.vertical&&delete r.accuracy.vertical,0===Object.keys(r.accuracy).length&&delete r.accuracy,"string"==typeof r.determinedAt&&0!==r.determinedAt.length||delete r.determinedAt,Object.keys(r).length>0&&(n.location=r),null!=this.identity.id&&(n.personId=this.identity.id),n},t.prototype.getPoolSize=function(){return s.length},t.prototype.dispatch=function(){var t,e;if(!0!==this.dispatching&&0!==this.getPoolSize())return!0===this.dryRun?s.splice(0,this.dispatchLimit):(t=s.slice(0,this.dispatchLimit),e=0,this.dispatching=!0,this.ship(t,function(t){return function(n,i){t.dispatching=!1,null==n&&(i.events.forEach(function(t){"validation_error"===t.status||"ack"===t.status?s=s.filter(function(e){return e.id!==t.id}):e++}),t.getPoolSize()>=t.dispatchLimit&&0===e&&t.dispatch())}}(this)),this)},t.prototype.ship=function(t,e){var n,r,o;return null==t&&(t=[]),n=new XMLHttpRequest,o=this.baseUrl+"/track",r={events:t.map(function(t){return t.sentAt=(new Date).toISOString(),t})},n.open("POST",o),n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("Accept","application/json"),n.timeout=2e4,n.onload=function(){if(200===n.status)try{e(null,JSON.parse(n.responseText))}catch(t){t,e(i.util.error(new Error("Could not parse JSON")))}else e(i.util.error(new Error("Server did not accept request")))},n.onerror=function(){e(i.util.error(new Error("Could not perform network request")))},n.send(JSON.stringify(r)),this},t}()},{"../../sgn":28,"../../storage/client_local":30}],13:[function(t,e,n){e.exports={baseUrl:"https://graph.service.shopgun.com",request:t("./request")}},{"./request":14}],14:[function(t,e,n){var i,r;i=t("../../sgn"),r=function(t){var e;return null==t&&(t=[]),e={},t.map(function(t){var n,i,r;n=(i=t.split("; ")[0].split("="))[0],r=i[1],e[n]=r}),e},e.exports=function(t,e){var n,o,s;null==t&&(t={}),s=i.GraphKit.baseUrl,n=i.config.get("appKey"),o=i.config.get("authToken"),t={method:"post",url:s,headers:{"Content-Type":"application/json",Accept:"application/json"},timeout:12e3,body:JSON.stringify({query:t.query,operationName:t.operationName,variables:t.variables})},null!=n&&(t.headers.Authorization="Basic "+i.util.btoa("app-key:"+n)),i.util.isNode()&&null!=o?t.cookies=[{key:"shopgun-auth-token",value:o,url:s}]:i.util.isBrowser()&&(t.useCookies=!0),i.request(t,function(t,n){var o,s;null!=t?e(i.util.error(new Error("Graph request error"),{code:"GraphRequestError"})):(i.util.isNode()&&(o=r(null!=(s=n.headers)?s["set-cookie"]:void 0)["shopgun-auth-token"],i.config.get("authToken")!==o&&i.config.set("authToken",o)),200===n.statusCode?e(null,JSON.parse(n.body)):e(i.util.error(new Error("Graph API error"),{code:"GraphAPIError",statusCode:n.statusCode})))})}},{"../../sgn":28}],15:[function(t,e,n){var i,r,o,s;i=t("microevent"),o=t("../../sgn"),s=t("../../key_codes"),r=function(){function t(t,e){this.options=null!=e?e:{},this.els={root:t,progress:t.querySelector(".sgn-pp__progress"),progressBar:t.querySelector(".sgn-pp-progress__bar"),progressLabel:t.querySelector(".sgn-pp__progress-label"),prevControl:t.querySelector(".sgn-pp__control[data-direction=prev]"),nextControl:t.querySelector(".sgn-pp__control[data-direction=next]")},this.keyDownListener=o.util.throttle(this.keyDown,150,this),this.mouseMoveListener=o.util.throttle(this.mouseMove,50,this),!0===this.options.keyboard&&this.els.root.addEventListener("keydown",this.keyDownListener,!1),this.els.root.addEventListener("mousemove",this.mouseMoveListener,!1),null!=this.els.prevControl&&this.els.prevControl.addEventListener("click",this.prevClicked.bind(this),!1),null!=this.els.nextControl&&this.els.nextControl.addEventListener("click",this.nextClicked.bind(this),!1),this.bind("beforeNavigation",this.beforeNavigation.bind(this))}return t.prototype.destroy=function(){this.els.root.removeEventListener("keydown",this.keyDownListener),this.els.root.removeEventListener("mousemove",this.mouseMoveListener)},t.prototype.beforeNavigation=function(t){var e;e="string"==typeof t.progressLabel&&t.progressLabel.length>0,null!=this.els.progress&&null!=this.els.progressBar&&(this.els.progressBar.style.width=t.progress+"%",!0===e?this.els.progress.classList.remove("sgn-pp--hidden"):this.els.progress.classList.add("sgn-pp--hidden")),null!=this.els.progressLabel&&(!0===e?(this.els.progressLabel.textContent=t.progressLabel,this.els.progressLabel.classList.remove("sgn-pp--hidden")):this.els.progressLabel.classList.add("sgn-pp--hidden")),null!=this.els.prevControl&&(0===t.verso.newPosition?this.els.prevControl.classList.add("sgn-pp--hidden"):this.els.prevControl.classList.remove("sgn-pp--hidden")),null!=this.els.nextControl&&(t.verso.newPosition===t.pageSpreadCount-1?this.els.nextControl.classList.add("sgn-pp--hidden"):this.els.nextControl.classList.remove("sgn-pp--hidden"))},t.prototype.prevClicked=function(t){t.preventDefault(),this.trigger("prev")},t.prototype.nextClicked=function(t){t.preventDefault(),this.trigger("next")},t.prototype.keyDown=function(t){var e;e=t.keyCode,s.ARROW_LEFT===e?this.trigger("prev",{duration:0}):s.ARROW_RIGHT===e||s.SPACE===e?this.trigger("next",{duration:0}):s.NUMBER_ONE===e&&this.trigger("first",{duration:0})},t.prototype.mouseMove=function(){this.els.root.dataset.mouseMoving=!0,clearTimeout(this.mouseMoveTimeout),this.mouseMoveTimeout=setTimeout(function(t){return function(){t.els.root.dataset.mouseMoving=!1}}(this),4e3)},t}(),i.mixin(r),e.exports=r},{"../../key_codes":4,"../../sgn":28,microevent:38}],16:[function(t,e,n){var i,r,o,s;i=t("microevent"),r=t("./page_spreads"),t("../../storage/client_local"),s=t("../../sgn"),o=function(){function e(t,e){null==e&&(e={}),this.options=this.makeOptions(e,this.defaults),this.pageId=this.getOption("pageId"),this.els={root:t,pages:t.querySelector(".sgn-pp__pages"),verso:t.querySelector(".verso")},this.pageMode=this.getPageMode(),this.pageSpreads=new r({pages:this.getOption("pages"),maxZoomScale:this.getOption("pageSpreadMaxZoomScale"),width:this.getOption("pageSpreadWidth")}),this.pageSpreads.bind("pageLoaded",this.pageLoaded.bind(this)),this.pageSpreads.bind("pagesLoaded",this.pagesLoaded.bind(this)),this.setColor(this.getOption("color")),this.els.pages.parentNode.insertBefore(this.pageSpreads.update(this.pageMode).getFrag(),this.els.pages),this.verso=this.createVerso(),this.bind("started",this.start.bind(this)),this.bind("destroyed",this.destroy.bind(this))}return e.prototype.defaults={pages:[],pageSpreadWidth:100,pageSpreadMaxZoomScale:4,idleDelay:1e3,resizeDelay:400,color:"#ffffff"},e.prototype.start=function(){this.getVerso().start(),this.visibilityChangeListener=this.visibilityChange.bind(this),this.resizeListener=s.util.throttle(this.resize,this.getOption("resizeDelay"),this),this.unloadListener=this.unload.bind(this),document.addEventListener("visibilitychange",this.visibilityChangeListener,!1),window.addEventListener("resize",this.resizeListener,!1),window.addEventListener("beforeunload",this.unloadListener,!1),this.els.root.setAttribute("data-started",""),this.els.root.setAttribute("tabindex","-1"),this.els.root.focus()},e.prototype.destroy=function(){this.getVerso().destroy(),document.removeEventListener("visibilitychange",this.visibilityChangeListener,!1),window.removeEventListener("resize",this.resizeListener,!1)},e.prototype.makeOptions=function(t,e){var n,i,r;i={};for(n in t)t[n],i[n]=null!=(r=t[n])?r:e[n];return i},e.prototype.getOption=function(t){return this.options[t]},e.prototype.setColor=function(t){this.els.root.dataset.colorBrightness=s.util.getColorBrightness(t),this.els.root.style.backgroundColor=t},e.prototype.createVerso=function(){var e,n;return e=t("verso-browser"),(n=new e(this.els.verso,{pageId:this.pageId})).pageSpreads.forEach(this.overridePageSpreadContentRect.bind(this)),n.bind("beforeNavigation",this.beforeNavigation.bind(this)),n.bind("afterNavigation",this.afterNavigation.bind(this)),n.bind("attemptedNavigation",this.attemptedNavigation.bind(this)),n.bind("clicked",this.clicked.bind(this)),n.bind("doubleClicked",this.doubleClicked.bind(this)),n.bind("pressed",this.pressed.bind(this)),n.bind("panStart",this.panStart.bind(this)),n.bind("panEnd",this.panEnd.bind(this)),n.bind("zoomedIn",this.zoomedIn.bind(this)),n.bind("zoomedOut",this.zoomedOut.bind(this)),n},e.prototype.getVerso=function(){return this.verso},e.prototype.getContentRect=function(t){var e,n,i,r,o,s,a,u,h,p,c;return p={top:0,left:0,right:0,bottom:0,width:0,height:0},a=t.getPageEls(),s=a[0],o=a.length,c=this.getVerso().transform.scale,h=s.offsetWidth*o*c,u=s.offsetHeight*c,r=+s.dataset.height/(+s.dataset.width*o),e=u,n=e/r,n=Math.min(h,n),e=n*r,i=s.getBoundingClientRect(),p.width=n,p.height=e,p.top=i.top+(u-e)/2,p.left=i.left+(h-n)/2,p.right=p.width+p.left,p.bottom=p.height+p.top,p},e.prototype.formatProgressLabel=function(t){var e,n,i,r,o;return r=null!=(o=null!=t?t.options.pages:void 0)?o:[],n=r.map(function(t){return t.id}),i=r.map(function(t){return t.label}),e=this.getOption("pages").length,n.length>0?i.join("-")+" / "+e:null},e.prototype.renderPageSpreads=function(){return this.getVerso().pageSpreads.forEach(function(t){return function(e){var n,i;i=e.getVisibility(),null!=(n=t.pageSpreads.get(e.getId()))&&("visible"===i&&!1===n.contentsRendered&&setTimeout(n.renderContents.bind(n),0),"gone"===i&&!0===n.contentsRendered&&setTimeout(n.clearContents.bind(n),0))}}(this)),this},e.prototype.findPage=function(t){return this.getOption("pages").find(function(e){return e.id===t})},e.prototype.pageLoaded=function(t){this.trigger("pageLoaded",t)},e.prototype.pagesLoaded=function(t){this.trigger("pagesLoaded",t)},e.prototype.beforeNavigation=function(t){var e,n,i,r,o,s;i=t.newPosition,s=this.getVerso().getPageSpreadFromPosition(i),e=this.pageSpreads.get(s.getId()),r=(i+1)/(n=this.getVerso().getPageSpreadCount())*100,o=this.formatProgressLabel(e),this.renderPageSpreads(),this.resetIdleTimer(),this.startIdleTimer(),this.trigger("beforeNavigation",{verso:t,pageSpread:e,progress:r,progressLabel:o,pageSpreadCount:n})},e.prototype.afterNavigation=function(t){var e,n,i;n=t.newPosition,i=this.getVerso().getPageSpreadFromPosition(n),e=this.pageSpreads.get(i.getId()),this.trigger("afterNavigation",{verso:t,pageSpread:e})},e.prototype.attemptedNavigation=function(t){this.trigger("attemptedNavigation",{verso:t})},e.prototype.clicked=function(t){var e,n;t.isInsideContent&&(n=t.pageEl.dataset.id,e=this.findPage(n),this.trigger("clicked",{verso:t,page:e}))},e.prototype.doubleClicked=function(t){var e,n;t.isInsideContent&&(n=t.pageEl.dataset.id,e=this.findPage(n),this.trigger("doubleClicked",{verso:t,page:e}))},e.prototype.pressed=function(t){var e,n;t.isInsideContent&&(n=t.pageEl.dataset.id,e=this.findPage(n),this.trigger("pressed",{verso:t,page:e}))},e.prototype.panStart=function(){this.resetIdleTimer(),this.trigger("panStart",{scale:this.getVerso().transform.scale})},e.prototype.panEnd=function(){this.startIdleTimer(),this.trigger("panEnd")},e.prototype.zoomedIn=function(t){var e,n,i;n=t.position,i=this.getVerso().getPageSpreadFromPosition(n),null!=(e=this.pageSpreads.get(i.getId()))&&e.zoomIn(),this.els.root.setAttribute("data-zoomed-in",!0),this.trigger("zoomedIn",{verso:t,pageSpread:e})},e.prototype.zoomedOut=function(t){var e,n,i;n=t.position,i=this.getVerso().getPageSpreadFromPosition(n),null!=(e=this.pageSpreads.get(i.getId()))&&e.zoomOut(),this.els.root.setAttribute("data-zoomed-in",!1),this.trigger("zoomedOut",{verso:t,pageSpread:e})},e.prototype.getPageMode=function(){var t,e;return null==(t=this.getOption("pageMode"))&&(e=this.els.root.offsetWidth,t=this.els.root.offsetHeight>=e?"single":"double"),t},e.prototype.resetIdleTimer=function(){return clearTimeout(this.idleTimeout),this.els.root.setAttribute("data-idle",!1),this},e.prototype.startIdleTimer=function(){return this.idleTimeout=setTimeout(function(t){return function(){t.els.root.setAttribute("data-idle",!0)}}(this),this.getOption("idleDelay")),this},e.prototype.switchPageMode=function(t){var e,n,i,r,o,s;if(this.pageMode===t)return this;for(i=(s=this.getVerso()).getPageSpreadFromPosition(s.getPosition()).getPageIds(),o=this.getVerso().el.querySelectorAll(".sgn-pp__page-spread"),this.pageMode=t,this.pageSpreads.update(this.pageMode),e=0,n=o.length;e<n;e++)(r=o[e]).parentNode.removeChild(r);return this.els.pages.parentNode.insertBefore(this.pageSpreads.getFrag(),this.els.pages),s.refresh(),s.navigateTo(s.getPageSpreadPositionFromPageId(i[0]),{duration:0}),s.pageSpreads.forEach(this.overridePageSpreadContentRect.bind(this)),this},e.prototype.overridePageSpreadContentRect=function(t){if("page"===t.getType())return t.getContentRect=function(e){return function(){return e.getContentRect(t)}}(this)},e.prototype.visibilityChange=function(){var t,e;e=this.getVerso().getPageSpreadFromPosition(this.getVerso().getPosition()),t=!0===document.hidden?"disappeared":"appeared",this.trigger(t,{pageSpread:this.pageSpreads.get(e.id)})},e.prototype.resize=function(){var t;t=this.getPageMode(),null==this.getOption("pageMode")&&t!==this.pageMode?this.switchPageMode(t):this.trigger("resized")},e.prototype.unload=function(){this.trigger("disappeared")},e}(),i.mixin(o),e.exports=o},{"../../sgn":28,"../../storage/client_local":30,"./page_spreads":23,microevent:38,"verso-browser":42}],17:[function(t,e,n){var i,r,o=function(t,e){return function(){return t.apply(e,arguments)}};i=t("microevent"),r=function(){function t(){this.doubleClicked=o(this.doubleClicked,this),this.hidden=!0,this.pageSpread=null,this.bind("appeared",this.appeared.bind(this)),this.bind("disappeared",this.disappeared.bind(this)),this.bind("beforeNavigation",this.beforeNavigation.bind(this)),this.bind("afterNavigation",this.afterNavigation.bind(this)),this.bind("attemptedNavigation",this.attemptedNavigation.bind(this)),this.bind("clicked",this.clicked.bind(this)),this.bind("doubleClicked",this.doubleClicked.bind(this)),this.bind("pressed",this.pressed.bind(this)),this.bind("panStart",this.panStart.bind(this)),this.bind("zoomedIn",this.zoomedIn.bind(this)),this.bind("zoomedOut",this.zoomedOut.bind(this)),this.bind("destroyed",this.destroy.bind(this)),this.trackOpened(),this.trackAppeared()}return t.prototype.destroy=function(){this.pageSpreadDisappeared(),this.trackDisappeared()},t.prototype.trackEvent=function(t,e){null==e&&(e={}),this.trigger("trackEvent",{type:t,properties:e})},t.prototype.trackOpened=function(t){return this.trackEvent("paged-publication-opened",t),this},t.prototype.trackAppeared=function(t){return this.trackEvent("paged-publication-appeared",t),this},t.prototype.trackDisappeared=function(t){return this.trackEvent("paged-publication-disappeared",t),this},t.prototype.trackPageClicked=function(t){return this.trackEvent("paged-publication-page-clicked",t),this},t.prototype.trackPageDoubleClicked=function(t){return this.trackEvent("paged-publication-page-double-clicked",t),this},t.prototype.trackPageLongPressed=function(t){return this.trackEvent("paged-publication-page-long-pressed",t),this},t.prototype.trackPageHotspotsClicked=function(t){return this.trackEvent("paged-publication-page-hotspots-clicked",t),this},t.prototype.trackPageSpreadAppeared=function(t){return this.trackEvent("paged-publication-page-spread-appeared",t),this},t.prototype.trackPageSpreadDisappeared=function(t){return this.trackEvent("paged-publication-page-spread-disappeared",t),this},t.prototype.trackPageSpreadZoomedIn=function(t){return this.trackEvent("paged-publication-page-spread-zoomed-in",t),this},t.prototype.trackPageSpreadZoomedOut=function(t){return this.trackEvent("paged-publication-page-spread-zoomed-out",t),this},t.prototype.appeared=function(t){this.trackAppeared(),this.pageSpreadAppeared(t.pageSpread)},t.prototype.disappeared=function(){this.pageSpreadDisappeared(),this.trackDisappeared()},t.prototype.beforeNavigation=function(){this.pageSpreadDisappeared()},t.prototype.afterNavigation=function(t){this.pageSpreadAppeared(t.pageSpread)},t.prototype.attemptedNavigation=function(t){this.pageSpreadAppeared(t.pageSpread)},t.prototype.clicked=function(t){var e;null!=t.page&&(e={pageNumber:t.page.pageNumber,x:t.verso.pageX,y:t.verso.pageY},this.trackPageClicked({pagedPublicationPage:e}),t.verso.overlayEls.length>0&&this.trackPageHotspotsClicked({pagedPublicationPage:e}))},t.prototype.doubleClicked=function(t){null!=t.page&&this.trackPageDoubleClicked({pagedPublicationPage:{pageNumber:t.page.pageNumber,x:t.verso.pageX,y:t.verso.pageY}})},t.prototype.pressed=function(t){null!=t.page&&this.trackPageLongPressed({pagedPublicationPage:{pageNumber:t.page.pageNumber,x:t.verso.pageX,y:t.verso.pageY}})},t.prototype.panStart=function(t){1===t.scale&&this.pageSpreadDisappeared()},t.prototype.zoomedIn=function(t){null!=t.pageSpread&&this.trackPageSpreadZoomedIn({pagedPublicationPageSpread:{pageNumbers:t.pageSpread.getPages().map(function(t){return t.pageNumber})}})},t.prototype.zoomedOut=function(t){null!=t.pageSpread&&this.trackPageSpreadZoomedOut({pagedPublicationPageSpread:{pageNumbers:t.pageSpread.getPages().map(function(t){return t.pageNumber})}})},t.prototype.pageSpreadAppeared=function(t){null!=t&&!0===this.hidden&&(this.pageSpread=t,this.trackPageSpreadAppeared({pagedPublicationPageSpread:{pageNumbers:t.getPages().map(function(t){return t.pageNumber})}}),this.hidden=!1)},t.prototype.pageSpreadDisappeared=function(){null!=this.pageSpread&&!1===this.hidden&&(this.trackPageSpreadDisappeared({pagedPublicationPageSpread:{pageNumbers:this.pageSpread.getPages().map(function(t){return t.pageNumber})}}),this.hidden=!0,this.pageSpread=null)},t}(),i.mixin(r),e.exports=r},{microevent:38}],18:[function(t,e,n){var i,r,o,s,a,u;r=t("microevent"),i=t("gator"),o=t("mustache"),u=t("./templates/hotspot_picker"),a=t("../../key_codes"),s=function(){function t(t){this.options=null!=t?t:{},this.el=document.createElement("div"),this.resizeListener=this.resize.bind(this)}return t.prototype.render=function(){var t,e,n,r,s,a,h,p,c;return c=null!=(a=this.options.width)?a:100,t=this.options.header,null!=this.options.template&&(u=this.options.template),h=this.trigger.bind(this),p={header:t,hotspots:this.options.hotspots,top:this.options.y,left:this.options.x},this.el.className="sgn-pp__hotspot-picker",this.el.setAttribute("tabindex",-1),this.el.innerHTML=o.render(u,p),s=this.el.querySelector(".sgn__popover"),c=s.offsetWidth,e=s.offsetHeight,r=this.el.parentNode.offsetWidth,n=this.el.parentNode.offsetHeight,p.top+e>n&&(s.style.top=n-e+"px"),p.left+c>r&&(s.style.left=r-c+"px"),this.el.addEventListener("keyup",this.keyUp.bind(this)),i(this.el).on("click","[data-id]",function(){h("selected",{id:this.getAttribute("data-id")})}),i(this.el).on("click","[data-close]",this.destroy.bind(this)),window.addEventListener("resize",this.resizeListener,!1),this},t.prototype.destroy=function(){this.el.parentNode.removeChild(this.el),this.trigger("destroyed")},t.prototype.keyUp=function(t){t.keyCode===a.ESC&&this.destroy()},t.prototype.resize=function(){window.removeEventListener("resize",this.resizeListener),this.destroy()},t}(),r.mixin(s),e.exports=s},{"../../key_codes":4,"./templates/hotspot_picker":25,gator:36,microevent:38,mustache:39}],19:[function(t,e,n){var i,r,o,s;i=t("microevent"),r=t("mustache"),s=t("./templates/hotspot"),o=function(){function t(){this.currentPageSpreadId=null,this.pageSpreadsLoaded={},this.cache={},this.bind("hotspotsReceived",this.hotspotsReceived.bind(this)),this.bind("afterNavigation",this.afterNavigation.bind(this)),this.bind("pagesLoaded",this.pagesLoaded.bind(this)),this.bind("resized",this.resized.bind(this))}return t.prototype.renderHotspots=function(t){var e,n,i,r,o,s,a,u,h,p,c,l;for(i=document.createDocumentFragment(),e=t.versoPageSpread.getContentRect(),a=0,h=(s=(p=t.pageSpread.getEl()).querySelectorAll(".sgn-pp__hotspot")).length;a<h;a++)(o=s[a]).parentNode.removeChild(o);l=t.hotspots;for(u in l)r=l[u],c=this.getPosition(t.pages,t.ratio,r),n=this.renderHotspot(r,c,e),i.appendChild(n);return p.appendChild(i),this},t.prototype.renderHotspot=function(t,e,n){var i,o,a,u,h,p;return i=document.createElement("div"),h=Math.round(n.height/100*e.top),a=Math.round(n.width/100*e.left),p=Math.round(n.width/100*e.width),o=Math.round(n.height/100*e.height),h+=Math.round(n.top),a+=Math.round(n.left),i.className="sgn-pp__hotspot verso__overlay",null!=t.id&&i.setAttribute("data-id",t.id),null!=t.type&&i.setAttribute("data-type",t.type),i.innerHTML=r.render(null!=(u=t.template)?u:s,t),i.style.top=h+"px",i.style.left=a+"px",i.style.width=p+"px",i.style.height=o+"px",i},t.prototype.getPosition=function(t,e,n){var i,r,o,s,a,u,h,p;s=null,a=null,r=null,o=null,h=t.map(function(t){return t.pageNumber});for(u in n.locations)-1!==h.indexOf(+u)&&n.locations[u].forEach(function(e){var n,i;if(n=e[0],i=e[1],t[1]&&h[1]===+u&&(n+=1),n/=t.length,null==s&&(s=r=n,a=o=i),n<s&&(s=n),n>r&&(r=n),i<a&&(a=i),i>o)return o=i});return p=r-s,i=o-a,{top:a/e*100,left:100*s,width:100*p,height:i/e*100}},t.prototype.requestHotspots=function(t,e){this.trigger("hotspotsRequested",{id:t,pages:e})},t.prototype.hotspotsReceived=function(t){var e;e=t.pageSpread.getId(),this.setCache(e,t),this.renderHotspots(t)},t.prototype.getCache=function(t){return this.cache[t]},t.prototype.setCache=function(t,e){return this.cache[t]=e,this},t.prototype.afterNavigation=function(t){var e;null!=t.pageSpread&&(e=t.pageSpread.getId(),this.currentPageSpreadId=e,this.pageSpreadsLoaded[e]&&this.requestHotspots(e,t.pageSpread.getPages()))},t.prototype.pagesLoaded=function(t){this.pageSpreadsLoaded[t.pageSpreadId]=!0,this.currentPageSpreadId===t.pageSpreadId&&this.requestHotspots(t.pageSpreadId,t.pages)},t.prototype.resized=function(t){var e;null!=(e=this.getCache(this.currentPageSpreadId))&&this.renderHotspots(e)},t}(),i.mixin(o),e.exports=o},{"./templates/hotspot":24,microevent:38,mustache:39}],20:[function(t,e,n){e.exports={Viewer:t("./viewer"),HotspotPicker:t("./hotspot_picker")}},{"./hotspot_picker":18,"./viewer":26}],21:[function(t,e,n){var i,r;i=t("microevent"),r=function(){function t(){this.bind("eventTracked",this.eventTracked.bind(this)),this.zoomedIn=!1,this.appearedAt=null}return t.prototype.trackEvent=function(t){this.trigger("trackEvent",t)},t.prototype.eventTracked=function(t){"paged-publication-page-spread-appeared"===t.type&&(this.appearedAt=Date.now()),"paged-publication-page-spread-disappeared"===t.type?this.trigger("trackEvent",{type:this.zoomedIn?"zoom":"view",ms:Date.now()-this.appearedAt,orientation:this.getOrientation(),pages:t.properties.pagedPublicationPageSpread.pageNumbers}):"paged-publication-page-spread-zoomed-in"===t.type?(this.trigger("trackEvent",{type:"view",ms:this.getDuration(),orientation:this.getOrientation(),pages:t.properties.pagedPublicationPageSpread.pageNumbers}),this.zoomedIn=!0,this.appearedAt=Date.now()):"paged-publication-page-spread-zoomed-out"===t.type&&(this.trigger("trackEvent",{type:"zoom",ms:this.getDuration(),orientation:this.getOrientation(),pages:t.properties.pagedPublicationPageSpread.pageNumbers}),this.zoomedIn=!1,this.appearedAt=Date.now())},t.prototype.getOrientation=function(){return window.innerWidth>=window.innerHeight?"landscape":"portrait"},t.prototype.getDuration=function(){return Date.now()-this.appearedAt},t}(),i.mixin(r),e.exports=r},{microevent:38}],22:[function(t,e,n){var i,r,o;i=t("microevent"),o=t("../../sgn"),r=function(){function t(t){this.options=null!=t?t:{},this.contentsRendered=!1,this.hotspotsRendered=!1,this.el=this.renderEl()}return t.prototype.getId=function(){return this.options.id},t.prototype.getEl=function(){return this.el},t.prototype.getPages=function(){return this.options.pages},t.prototype.renderEl=function(){var t,e;return t=document.createElement("div"),e=this.getPages().map(function(t){return t.id}),t.className="verso__page-spread sgn-pp__page-spread",t.setAttribute("data-id",this.getId()),t.setAttribute("data-type","page"),t.setAttribute("data-width",this.options.width),t.setAttribute("data-page-ids",e.join(",")),t.setAttribute("data-max-zoom-scale",this.options.maxZoomScale),t.setAttribute("data-zoomable",!1),t},t.prototype.renderContents=function(){var t,e,n,i,r;return e=this.getId(),t=this.getEl(),r=this.getPages(),i=r.length,n=0,r.forEach(function(s){return function(a,u){var h,p,c;h=a.images.medium,c=document.createElement("div"),p=document.createElement("div"),c.className="sgn-pp__page verso__page",null!=a.id&&(c.dataset.id=a.id),2===i&&(c.className+=0===u?" verso-page--verso":" verso-page--recto"),c.appendChild(p),t.appendChild(c),p.className="sgn-pp-page__loader",p.innerHTML="<span>"+a.label+"</span>",o.util.loadImage(h,function(o,u,l){var d;null==o?(d=++n===i,c.style.backgroundImage="url("+h+")",c.dataset.width=u,c.dataset.height=l,c.innerHTML="&nbsp;",d&&(t.dataset.zoomable=!0),s.trigger("pageLoaded",{pageSpreadId:e,page:a}),d&&s.trigger("pagesLoaded",{pageSpreadId:e,pages:r})):p.innerHTML="<span>!</span>"})}}(this)),this.contentsRendered=!0,this},t.prototype.clearContents=function(t,e){return this.el.innerHTML="",this.contentsRendered=!1,this},t.prototype.zoomIn=function(){var t,e;t=[].slice.call(this.el.querySelectorAll(".sgn-pp__page")),e=this.getPages(),t.forEach(function(t){return function(n){var i,r,s;i=n.dataset.id,s=e.find(function(t){return t.id===i}),r=s.images.large,o.util.loadImage(r,function(e){null==e&&"true"===t.el.dataset.active&&(n.dataset.image=n.style.backgroundImage,n.style.backgroundImage="url("+r+")")})}}(this))},t.prototype.zoomOut=function(){[].slice.call(this.el.querySelectorAll(".sgn-pp__page[data-image]")).forEach(function(t){t.style.backgroundImage=t.dataset.image,delete t.dataset.image})},t}(),i.mixin(r),e.exports=r},{"../../sgn":28,microevent:38}],23:[function(t,e,n){var i,r,o,s;i=t("microevent"),r=t("./page_spread"),s=t("../../sgn"),o=function(){function t(t){this.options=t,this.collection=[],this.ids={}}return t.prototype.get=function(t){return this.ids[t]},t.prototype.getFrag=function(){var t;return t=document.createDocumentFragment(),this.collection.forEach(function(e){return t.appendChild(e.el)}),t},t.prototype.update=function(t){var e,n,i,o,a,u,h,p;return null==t&&(t="single"),u=[],n={},h=this.options.pages.slice(),p=this.options.width,o=this.options.maxZoomScale,"single"===t?h.forEach(function(t){return u.push([t])}):(e=h.shift(),i=h.length%2==1?h.pop():null,a=s.util.chunk(h,2),null!=e&&u.push([e]),a.forEach(function(t){return u.push(t.map(function(t){return t}))}),null!=i&&u.push([i])),this.collection=u.map(function(e){return function(i,s){var a,u;return a=t+"-"+s,(u=new r({width:p,maxZoomScale:o,pages:i,id:a})).bind("pageLoaded",function(t){return e.trigger("pageLoaded",t)}),u.bind("pagesLoaded",function(t){return e.trigger("pagesLoaded",t)}),n[a]=u,u}}(this)),this.ids=n,this},t}(),i.mixin(o),e.exports=o},{"../../sgn":28,"./page_spread":22,microevent:38}],24:[function(t,e,n){e.exports=""},{}],25:[function(t,e,n){e.exports='<div class="sgn-pp-hotspot-picker__background" data-close></div>\n<div class="sgn__popover" style="top: {{top}}px; left: {{left}}px;">\n    {{#header}}\n        <div class="sgn-popover__header">{{header}}</div>\n    {{/header}}\n    <div class="sgn-popover__content">\n        <ul>\n            {{#hotspots}}\n                <li data-id="{{id}}">\n                    <p>{{title}}</p>\n                    <p>{{subtitle}}</p>\n                </li>\n            {{/hotspots}}\n        </ul>\n    </div>\n</div>'},{}],26:[function(t,e,n){var i,r,o,s,a,u,h,p;u=t("microevent"),h=t("../../core"),r=t("./core"),s=t("./hotspots"),i=t("./controls"),o=t("./event_tracking"),a=t("./legacy_event_tracking"),p=function(){function t(t,e){this.el=t,this.options=null!=e?e:{},this._core=new r(this.el,{id:this.options.id,pages:this.options.pages,pageSpreadWidth:this.options.pageSpreadWidth,pageSpreadMaxZoomScale:this.options.pageSpreadMaxZoomScale,idleDelay:this.options.idleDelay,resizeDelay:this.options.resizeDelay,color:this.options.color}),this._hotspots=new s,this._controls=new i(this.el,{keyboard:this.options.keyboard}),this._eventTracking=new o,this._legacyEventTracking=new a,this.viewSession=h.util.uuid(),this._setupEventListeners()}return t.prototype.start=function(){return this._core.trigger("started"),this},t.prototype.destroy=function(){return this._core.trigger("destroyed"),this._hotspots.trigger("destroyed"),this._controls.trigger("destroyed"),this._eventTracking.trigger("destroyed"),this.el.parentNode.removeChild(this.el),this},t.prototype.navigateTo=function(t,e){return this._core.getVerso().navigateTo(t,e),this},t.prototype.first=function(t){return this._core.getVerso().first(t),this},t.prototype.prev=function(t){return this._core.getVerso().prev(t),this},t.prototype.next=function(t){return this._core.getVerso().next(t),this},t.prototype.last=function(t){return this._core.getVerso().last(t),this},t.prototype._trackEvent=function(t){var e,n,i,r,o,s;o=t.type,i={pagedPublication:{id:["legacy",this.options.id],ownedBy:["legacy",this.options.ownedBy]}},e=this.options.eventTracker,r=t.properties;for(n in r)s=r[n],i[n]=s;null!=e&&e.trackEvent(o,i)},t.prototype._trackLegacyEvent=function(t){var e,n;n={},null!=(e=this.options.eventTracker)&&(n.latitude=e.location.latitude,n.longitude=e.location.longitude,null!=n.latitude&&(n.sensor=!0),h.CoreKit.request({geolocation:n,method:"post",url:"/v2/catalogs/"+this.options.id+"/collect",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:t.type,ms:t.ms,orientation:t.orientation,pages:t.pages.join(","),view_session:this.viewSession})}))},t.prototype._setupEventListeners=function(){this._eventTracking.bind("trackEvent",function(t){return function(e){t._trackEvent(e),t._legacyEventTracking.trigger("eventTracked",e)}}(this)),this._legacyEventTracking.bind("trackEvent",function(t){return function(e){t._trackLegacyEvent(e)}}(this)),this._controls.bind("prev",function(t){return function(e){t.prev(e)}}(this)),this._controls.bind("next",function(t){return function(e){t.next(e)}}(this)),this._controls.bind("first",function(t){return function(e){t.first(e)}}(this)),this._controls.bind("last",function(t){return function(e){t.last()}}(this)),this._hotspots.bind("hotspotsRequested",function(t){return function(e){t.trigger("hotspotsRequested",e)}}(this)),this._core.bind("appeared",function(t){return function(e){t._eventTracking.trigger("appeared",e),t.trigger("appeared",e)}}(this)),this._core.bind("disappeared",function(t){return function(e){t._eventTracking.trigger("disappeared",e),t.trigger("disappeared",e)}}(this)),this._core.bind("beforeNavigation",function(t){return function(e){t._eventTracking.trigger("beforeNavigation",e),t._controls.trigger("beforeNavigation",e),t.trigger("beforeNavigation",e)}}(this)),this._core.bind("afterNavigation",function(t){return function(e){t._eventTracking.trigger("afterNavigation",e),t.trigger("afterNavigation",e)}}(this)),this._core.bind("attemptedNavigation",function(t){return function(e){t._eventTracking.trigger("attemptedNavigation",e),t.trigger("attemptedNavigation",e)}}(this)),this._core.bind("clicked",function(t){return function(e){t._eventTracking.trigger("clicked",e),t.trigger("clicked",e)}}(this)),this._core.bind("doubleClicked",function(t){return function(e){t._eventTracking.trigger("doubleClicked",e),t.trigger("doubleClicked",e)}}(this)),this._core.bind("pressed",function(t){return function(e){t._eventTracking.trigger("pressed",e),t.trigger("pressed",e)}}(this)),this._core.bind("panStart",function(t){return function(e){t._eventTracking.trigger("panStart",e),t.trigger("panStart",e)}}(this)),this._core.bind("zoomedIn",function(t){return function(e){t._eventTracking.trigger("zoomedIn",e),t.trigger("zoomedIn",e)}}(this)),this._core.bind("zoomedOut",function(t){return function(e){t._eventTracking.trigger("zoomedOut",e),t.trigger("zoomedOut",e)}}(this)),this._core.bind("pageLoaded",function(t){return function(e){t._eventTracking.trigger("pageLoaded",e),t.trigger("pageLoaded",e)}}(this)),this._core.bind("afterNavigation",function(t){return function(e){t._hotspots.trigger("afterNavigation",e),t.trigger("afterNavigation",e)}}(this)),this._core.bind("pagesLoaded",function(t){return function(e){t._hotspots.trigger("pagesLoaded",e),t.trigger("pagesLoaded",e)}}(this)),this._core.bind("resized",function(t){return function(e){t._hotspots.trigger("resized"),t.trigger("resized",e)}}(this)),this.bind("hotspotsReceived",function(t){return function(e){t._hotspots.trigger("hotspotsReceived",{pageSpread:t._core.pageSpreads.get(e.id),versoPageSpread:t._core.getVerso().pageSpreads.find(function(t){return t.getId()===e.id}),ratio:e.ratio,pages:e.pages,hotspots:e.hotspots})}}(this))},t}(),u.mixin(p),e.exports=p},{"../../core":3,"./controls":15,"./core":16,"./event_tracking":17,"./hotspots":19,"./legacy_event_tracking":21,microevent:38}],27:[function(t,e,n){var i;i=t("../sgn"),e.exports=function(t,e,n){var r,o,s,a,u,h,p,c;if(null==t&&(t={}),o=new XMLHttpRequest,s=null!=(u=t.method)?u:"get",p=t.url,null!=t.qs&&(a=i.util.formatQueryParams(t.qs),-1===p.indexOf("?")?p+="?"+a:p+="&"+a),o.open(s.toUpperCase(),p),null!=t.timeout&&(o.timeout=t.timeout),!0===t.useCookies&&(o.withCredentials=!0),null!=t.headers){h=t.headers;for(r in h)c=h[r],o.setRequestHeader(r,c)}o.addEventListener("load",function(){var t;t=(t=o.getAllResponseHeaders().split("\r\n")).reduce(function(t,e,n){var i;return i=e.split(": "),t[i[0].toLowerCase()]=i[1],t},{}),e(null,{statusCode:o.status,headers:t,body:o.responseText})}),o.addEventListener("error",function(){e(new Error)}),o.addEventListener("timeout",function(){e(new Error)}),o.addEventListener("progress",function(t){t.lengthComputable&&"function"==typeof n&&n(t.loaded,t.total)}),o.send(t.body)}},{"../sgn":28}],28:[function(t,e,n){e.exports=t("./core")},{"./core":3}],29:[function(t,e,n){var i;i=t("../sgn"),e.exports={key:"sgn-",get:function(t){var e,n,r,o,s,a;if(!i.util.isNode()){try{for(s=""+this.key+t+"=",r=0,o=(e=document.cookie.split(";")).length;r<o;r++)0===(n=e[r].trim()).indexOf(s)&&(a=n.substring(s.length,n.length));a=JSON.parse(a)}catch(t){t,a={}}return a}},set:function(t,e){var n,r,o;if(!i.util.isNode())try{r=365,n=new Date,o=JSON.stringify(e),n.setTime(n.getTime()+24*r*60*60*1e3),document.cookie=""+this.key+t+"="+o+";expires="+n.toUTCString()+";path=/"}catch(t){t}}}},{"../sgn":28}],30:[function(t,e,n){t("../sgn"),e.exports={key:"sgn-",storage:function(){var t;try{return t=window.localStorage,t[this.key+"test-storage"]="foobar",delete t[this.key+"test-storage"],t}catch(t){return{}}}(),get:function(t){try{return JSON.parse(this.storage[""+this.key+t])}catch(t){}},set:function(t,e){try{this.storage[""+this.key+t]=JSON.stringify(e)}catch(t){}return this}}},{"../sgn":28}],31:[function(t,e,n){(function(t,n){var i;i={isBrowser:function(){return void 0!==t&&t.browser},isNode:function(){return!i.isBrowser()},error:function(t,e){var n,i;if(t.message=t.message||null,"string"==typeof e)t.message=e;else if("object"==typeof e&&null!=e){for(n in e)i=e[n],t[n]=i;null!=e.message&&(t.message=e.message),null==e.code&&null==e.message||(t.code=e.code||e.name),null!=e.stack&&(t.stack=e.stack)}return t.name=e&&e.name||t.name||t.code||"Error",t.time=new Date,t},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e;return e=16*Math.random()|0,("x"===t?e:3&e|8).toString(16)})},getQueryParam:function(t,e){var n,i,r;return n=e||window.location.href,i=new RegExp("[?&]"+t+"=([^&#]*)","i"),(r=i.exec(n))?r[1]:void 0},formatQueryParams:function(t){return null==t&&(t={}),Object.keys(t).map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&")},getOS:function(){var t,e;return t=null,(e=window.navigator.userAgent).indexOf("Windows")>-1?t="Windows":e.indexOf("Mac")>-1?t="macOS":e.indexOf("X11")>-1?t="unix":e.indexOf("Linux")>-1?t="Linux":e.indexOf("iOS")>-1?t="iOS":e.indexOf("Android")>-1&&(t="Android"),t},btoa:function(t){return i.isBrowser()?btoa(t):(null,(t instanceof n?t:new n(t.toString(),"binary")).toString("base64"))},getScreenDimensions:function(){var t,e,n,i;return t=null!=(i=window.devicePixelRatio)?i:1,e={width:window.screen.width,height:window.screen.height},n={width:Math.round(e.width*t),height:Math.round(e.height*t)},{density:t,logical:e,physical:n}},getUtcOffsetSeconds:function(){var t,e,n,i;return n=new Date,t=new Date(n.getFullYear(),0,1,0,0,0,0),i=t.toGMTString(),e=new Date(i.substring(0,i.lastIndexOf(" ")-1)),(t-e)/1e3},getUtcDstOffsetSeconds:function(){return 60*(new Date).getTimezoneOffset()*-1},getColorBrightness:function(t){var e,n,i,r,o;for(t=t.replace("#",""),e=parseInt((e+"").replace(/[^a-f0-9]/gi,""),16),n=[],r=0,o=0;o<3;)i=parseInt(t.substring(2*o,2),16),n[o]=i,i>0&&(r+=i),++o;return r<=381?"dark":"light"},chunk:function(t,e){var n;for(n=[];t.length;)n.push(t.splice(0,e));return n},throttle:function(t,e,n){var i,r;return null==e&&(e=250),r=void 0,i=void 0,function(){var o,s,a;s=n||this,a=(new Date).getTime(),o=arguments,r&&a<r+e?(clearTimeout(i),i=setTimeout(function(){r=a,t.apply(s,o)},e)):(r=a,t.apply(s,o))}},loadImage:function(t,e){var n;return n=new Image,n.onload=function(){return e(null,n.width,n.height)},n.onerror=function(){return e(new Error)},n.src=t,n},distance:function(t,e,n,i){var r,o,s,a,u;return o=Math.PI*t/180,s=Math.PI*n/180,u=e-i,a=Math.PI*u/180,r=Math.sin(o)*Math.sin(s)+Math.cos(o)*Math.cos(s)*Math.cos(a),r=Math.acos(r),r=180*r/Math.PI,r=60*r*1.1515,r=1.609344*r*1e3},async:{parallel:function(t,e){var n,i,r,o;for(i=t.length,n=[],r=0,o=function(t){return function(){var r,o;for(o=[],r=0,i--;r<arguments.length;)o.push(arguments[r]),r++;n[t]=o,0===i&&e(n)}};r<t.length;)t[r](o(r)),r++}}},e.exports=i}).call(this,t("_process"),t("buffer").Buffer)},{_process:40,buffer:33}],32:[function(t,e,n){"use strict";function i(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function r(t){return s[t>>18&63]+s[t>>12&63]+s[t>>6&63]+s[63&t]}function o(t,e,n){for(var i,o=[],s=e;s<n;s+=3)i=(t[s]<<16)+(t[s+1]<<8)+t[s+2],o.push(r(i));return o.join("")}n.byteLength=function(t){return 3*t.length/4-i(t)},n.toByteArray=function(t){var e,n,r,o,s,h=t.length;o=i(t),s=new u(3*h/4-o),n=o>0?h-4:h;var p=0;for(e=0;e<n;e+=4)r=a[t.charCodeAt(e)]<<18|a[t.charCodeAt(e+1)]<<12|a[t.charCodeAt(e+2)]<<6|a[t.charCodeAt(e+3)],s[p++]=r>>16&255,s[p++]=r>>8&255,s[p++]=255&r;return 2===o?(r=a[t.charCodeAt(e)]<<2|a[t.charCodeAt(e+1)]>>4,s[p++]=255&r):1===o&&(r=a[t.charCodeAt(e)]<<10|a[t.charCodeAt(e+1)]<<4|a[t.charCodeAt(e+2)]>>2,s[p++]=r>>8&255,s[p++]=255&r),s},n.fromByteArray=function(t){for(var e,n=t.length,i=n%3,r="",a=[],u=0,h=n-i;u<h;u+=16383)a.push(o(t,u,u+16383>h?h:u+16383));return 1===i?(e=t[n-1],r+=s[e>>2],r+=s[e<<4&63],r+="=="):2===i&&(e=(t[n-2]<<8)+t[n-1],r+=s[e>>10],r+=s[e>>4&63],r+=s[e<<2&63],r+="="),a.push(r),a.join("")};for(var s=[],a=[],u="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,c=h.length;p<c;++p)s[p]=h[p],a[h.charCodeAt(p)]=p;a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},{}],33:[function(t,e,n){"use strict";function i(t){if(t>Z)throw new RangeError("Invalid typed array length");var e=new Uint8Array(t);return e.__proto__=r.prototype,e}function r(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return u(t)}return o(t,e,n)}function o(t,e,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return t instanceof ArrayBuffer?c(t,e,n):"string"==typeof t?h(t,e):l(t)}function s(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function a(t,e,n){return s(t),t<=0?i(t):void 0!==e?"string"==typeof n?i(t).fill(e,n):i(t).fill(e):i(t)}function u(t){return s(t),i(t<0?0:0|d(t))}function h(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!r.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var n=0|f(t,e),o=i(n),s=o.write(t,e);return s!==n&&(o=o.slice(0,s)),o}function p(t){for(var e=t.length<0?0:0|d(t.length),n=i(e),r=0;r<e;r+=1)n[r]=255&t[r];return n}function c(t,e,n){if(e<0||t.byteLength<e)throw new RangeError("'offset' is out of bounds");if(t.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");var i;return i=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),i.__proto__=r.prototype,i}function l(t){if(r.isBuffer(t)){var e=0|d(t.length),n=i(e);return 0===n.length?n:(t.copy(n,0,0,e),n)}if(t){if(X(t)||"length"in t)return"number"!=typeof t.length||j(t.length)?i(0):p(t);if("Buffer"===t.type&&Array.isArray(t.data))return p(t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function d(t){if(t>=Z)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Z.toString(16)+" bytes");return 0|t}function f(t,e){if(r.isBuffer(t))return t.length;if(X(t)||t instanceof ArrayBuffer)return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(t).length;default:if(i)return U(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return A(this,e,n);case"utf8":case"utf-8":return x(this,e,n);case"ascii":return C(this,e,n);case"latin1":case"binary":return I(this,e,n);case"base64":return k(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function v(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function m(t,e,n,i,o){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,j(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=r.from(e,i)),r.isBuffer(e))return 0===e.length?-1:y(t,e,n,i,o);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,i,o);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,i,r){function o(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}var s=1,a=t.length,u=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,n/=2}var h;if(r){var p=-1;for(h=n;h<a;h++)if(o(t,h)===o(e,-1===p?0:h-p)){if(-1===p&&(p=h),h-p+1===u)return p*s}else-1!==p&&(h-=h-p),p=-1}else for(n+u>a&&(n=a-u),h=n;h>=0;h--){for(var c=!0,l=0;l<u;l++)if(o(t,h+l)!==o(e,l)){c=!1;break}if(c)return h}return-1}function b(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(e.substr(2*s,2),16);if(j(a))return s;t[n+s]=a}return s}function w(t,e,n,i){return H(U(e,t.length-n),t,n,i)}function E(t,e,n,i){return H(q(e),t,n,i)}function S(t,e,n,i){return E(t,e,n,i)}function T(t,e,n,i){return H(V(e),t,n,i)}function _(t,e,n,i){return H(F(e,t.length-n),t,n,i)}function k(t,e,n){return 0===e&&n===t.length?Y.fromByteArray(t):Y.fromByteArray(t.slice(e,n))}function x(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;r<n;){var o=t[r],s=null,a=o>239?4:o>223?3:o>191?2:1;if(r+a<=n){var u,h,p,c;switch(a){case 1:o<128&&(s=o);break;case 2:128==(192&(u=t[r+1]))&&(c=(31&o)<<6|63&u)>127&&(s=c);break;case 3:u=t[r+1],h=t[r+2],128==(192&u)&&128==(192&h)&&(c=(15&o)<<12|(63&u)<<6|63&h)>2047&&(c<55296||c>57343)&&(s=c);break;case 4:u=t[r+1],h=t[r+2],p=t[r+3],128==(192&u)&&128==(192&h)&&128==(192&p)&&(c=(15&o)<<18|(63&u)<<12|(63&h)<<6|63&p)>65535&&c<1114112&&(s=c)}}null===s?(s=65533,a=1):s>65535&&(s-=65536,i.push(s>>>10&1023|55296),s=56320|1023&s),i.push(s),r+=a}return P(i)}function P(t){var e=t.length;if(e<=K)return String.fromCharCode.apply(String,t);for(var n="",i=0;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=K));return n}function C(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function I(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function A(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=e;o<n;++o)r+=B(t[o]);return r}function L(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function O(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function N(t,e,n,i,o,s){if(!r.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<s)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function M(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function z(t,e,n,i,r){return e=+e,n>>>=0,r||M(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),W.write(t,e,n,i,23,4),n+4}function R(t,e,n,i,r){return e=+e,n>>>=0,r||M(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),W.write(t,e,n,i,52,8),n+8}function D(t){if((t=t.trim().replace(G,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function B(t){return t<16?"0"+t.toString(16):t.toString(16)}function U(t,e){e=e||1/0;for(var n,i=t.length,r=null,o=[],s=0;s<i;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function F(t,e){for(var n,i,r,o=[],s=0;s<t.length&&!((e-=2)<0);++s)i=(n=t.charCodeAt(s))>>8,r=n%256,o.push(r),o.push(i);return o}function V(t){return Y.toByteArray(D(t))}function H(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}function X(t){return"function"==typeof ArrayBuffer.isView&&ArrayBuffer.isView(t)}function j(t){return t!==t}var Y=t("base64-js"),W=t("ieee754");n.Buffer=r,n.SlowBuffer=function(t){return+t!=t&&(t=0),r.alloc(+t)},n.INSPECT_MAX_BYTES=50;var Z=2147483647;n.kMaxLength=Z,r.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}(),r.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),"undefined"!=typeof Symbol&&Symbol.species&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),r.poolSize=8192,r.from=function(t,e,n){return o(t,e,n)},r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array,r.alloc=function(t,e,n){return a(t,e,n)},r.allocUnsafe=function(t){return u(t)},r.allocUnsafeSlow=function(t){return u(t)},r.isBuffer=function(t){return null!=t&&!0===t._isBuffer},r.compare=function(t,e){if(!r.isBuffer(t)||!r.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,o=0,s=Math.min(n,i);o<s;++o)if(t[o]!==e[o]){n=t[o],i=e[o];break}return n<i?-1:i<n?1:0},r.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return r.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=r.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var s=t[n];if(!r.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,o),o+=s.length}return i},r.byteLength=f,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)v(this,e,e+1);return this},r.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},r.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)v(this,e,e+7),v(this,e+1,e+6),v(this,e+2,e+5),v(this,e+3,e+4);return this},r.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?x(this,0,t):g.apply(this,arguments)},r.prototype.equals=function(t){if(!r.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===r.compare(this,t)},r.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},r.prototype.compare=function(t,e,n,i,o){if(!r.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),e<0||n>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&e>=n)return 0;if(i>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,o>>>=0,this===t)return 0;for(var s=o-i,a=n-e,u=Math.min(s,a),h=this.slice(i,o),p=t.slice(e,n),c=0;c<u;++c)if(h[c]!==p[c]){s=h[c],a=p[c];break}return s<a?-1:a<s?1:0},r.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},r.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},r.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},r.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return E(this,t,e,n);case"latin1":case"binary":return S(this,t,e,n);case"base64":return T(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var K=4096;r.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var i=this.subarray(t,e);return i.__proto__=r.prototype,i},r.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||O(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},r.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||O(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},r.prototype.readUInt8=function(t,e){return t>>>=0,e||O(t,1,this.length),this[t]},r.prototype.readUInt16LE=function(t,e){return t>>>=0,e||O(t,2,this.length),this[t]|this[t+1]<<8},r.prototype.readUInt16BE=function(t,e){return t>>>=0,e||O(t,2,this.length),this[t]<<8|this[t+1]},r.prototype.readUInt32LE=function(t,e){return t>>>=0,e||O(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},r.prototype.readUInt32BE=function(t,e){return t>>>=0,e||O(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},r.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||O(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*e)),i},r.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||O(t,e,this.length);for(var i=e,r=1,o=this[t+--i];i>0&&(r*=256);)o+=this[t+--i]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*e)),o},r.prototype.readInt8=function(t,e){return t>>>=0,e||O(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},r.prototype.readInt16LE=function(t,e){t>>>=0,e||O(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt16BE=function(t,e){t>>>=0,e||O(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt32LE=function(t,e){return t>>>=0,e||O(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},r.prototype.readInt32BE=function(t,e){return t>>>=0,e||O(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},r.prototype.readFloatLE=function(t,e){return t>>>=0,e||O(t,4,this.length),W.read(this,t,!0,23,4)},r.prototype.readFloatBE=function(t,e){return t>>>=0,e||O(t,4,this.length),W.read(this,t,!1,23,4)},r.prototype.readDoubleLE=function(t,e){return t>>>=0,e||O(t,8,this.length),W.read(this,t,!0,52,8)},r.prototype.readDoubleBE=function(t,e){return t>>>=0,e||O(t,8,this.length),W.read(this,t,!1,52,8)},r.prototype.writeUIntLE=function(t,e,n,i){t=+t,e>>>=0,n>>>=0,i||N(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},r.prototype.writeUIntBE=function(t,e,n,i){t=+t,e>>>=0,n>>>=0,i||N(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+n},r.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,1,255,0),this[e]=255&t,e+1},r.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},r.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},r.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},r.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},r.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e>>>=0,!i){var r=Math.pow(2,8*n-1);N(this,t,e,n,r-1,-r)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},r.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e>>>=0,!i){var r=Math.pow(2,8*n-1);N(this,t,e,n,r-1,-r)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},r.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},r.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},r.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},r.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},r.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},r.prototype.writeFloatLE=function(t,e,n){return z(this,t,e,!0,n)},r.prototype.writeFloatBE=function(t,e,n){return z(this,t,e,!1,n)},r.prototype.writeDoubleLE=function(t,e,n){return R(this,t,e,!0,n)},r.prototype.writeDoubleBE=function(t,e,n){return R(this,t,e,!1,n)},r.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,o=i-n;if(this===t&&n<e&&e<i)for(r=o-1;r>=0;--r)t[r+e]=this[r+n];else if(o<1e3)for(r=0;r<o;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},r.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!r.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var s;if("number"==typeof t)for(s=e;s<n;++s)this[s]=t;else{var a=r.isBuffer(t)?t:new r(t,i),u=a.length;for(s=0;s<n-e;++s)this[s+e]=a[s%u]}return this};var G=/[^+/0-9A-Za-z-_]/g},{"base64-js":32,ieee754:37}],34:[function(t,e,n){!function(t){"use strict";function n(t){return t.map(function(t){return i(t.toString(16),2)}).join("")}function i(t,e){return t.length>e?t:Array(e-t.length+1).join("0")+t}var r={bytesToHex:function(t){return n(t)},hexToBytes:function(t){if(t.length%2==1)throw new Error("hexToBytes can't have a string with an odd number of characters.");return 0===t.indexOf("0x")&&(t=t.slice(2)),t.match(/../g).map(function(t){return parseInt(t,16)})}};void 0!==e&&e.exports?e.exports=r:t.convertHex=r}(this)},{}],35:[function(t,e,n){!function(t){"use strict";var n={bytesToString:function(t){return t.map(function(t){return String.fromCharCode(t)}).join("")},stringToBytes:function(t){return t.split("").map(function(t){return t.charCodeAt(0)})}};n.UTF8={bytesToString:function(t){return decodeURIComponent(escape(n.bytesToString(t)))},stringToBytes:function(t){return n.stringToBytes(unescape(encodeURIComponent(t)))}},void 0!==e&&e.exports?e.exports=n:t.convertString=n}(this)},{}],36:[function(t,e,n){!function(){function t(t){return u||(u=t.matches?t.matches:t.webkitMatchesSelector?t.webkitMatchesSelector:t.mozMatchesSelector?t.mozMatchesSelector:t.msMatchesSelector?t.msMatchesSelector:t.oMatchesSelector?t.oMatchesSelector:a.matchesSelector)}function n(e,i,r){if("_root"==i)return r;if(e!==r)return t(e).call(e,i)?e:e.parentNode?(h++,n(e.parentNode,i,r)):void 0}function i(t,e,n,i){c[t.id]||(c[t.id]={}),c[t.id][e]||(c[t.id][e]={}),c[t.id][e][n]||(c[t.id][e][n]=[]),c[t.id][e][n].push(i)}function r(t,e,n,i){if(c[t.id])if(e)if(i||n)if(i){if(c[t.id][e][n])for(var r=0;r<c[t.id][e][n].length;r++)if(c[t.id][e][n][r]===i){c[t.id][e][n].splice(r,1);break}}else delete c[t.id][e][n];else c[t.id][e]={};else for(var o in c[t.id])c[t.id].hasOwnProperty(o)&&(c[t.id][o]={})}function o(t,e,i){if(c[t][i]){var r,o,s=e.target||e.srcElement,u={},p=0,d=0;h=0;for(r in c[t][i])c[t][i].hasOwnProperty(r)&&(o=n(s,r,l[t].element))&&a.matchesEvent(i,l[t].element,o,"_root"==r,e)&&(h++,c[t][i][r].match=o,u[h]=c[t][i][r]);for(e.stopPropagation=function(){e.cancelBubble=!0},p=0;p<=h;p++)if(u[p])for(d=0;d<u[p].length;d++){if(!1===u[p][d].call(u[p].match,e))return void a.cancel(e);if(e.cancelBubble)return}}}function s(t,e,n,s){if(this.element){t instanceof Array||(t=[t]),n||"function"!=typeof e||(n=e,e="_root");var u,h=this.id;for(u=0;u<t.length;u++)s?r(this,t[u],e,n):(c[h]&&c[h][t[u]]||a.addEvent(this,t[u],function(t){return function(e){o(h,e,t)}}(t[u])),i(this,t[u],e,n));return this}}function a(t,e){if(!(this instanceof a)){for(var n in l)if(l[n].element===t)return l[n];return p++,l[p]=new a(t,p),l[p]}this.element=t,this.id=e}var u,h=0,p=0,c={},l={};a.prototype.on=function(t,e,n){return s.call(this,t,e,n)},a.prototype.off=function(t,e,n){return s.call(this,t,e,n,!0)},a.matchesSelector=function(){},a.cancel=function(t){t.preventDefault(),t.stopPropagation()},a.addEvent=function(t,e,n){var i="blur"==e||"focus"==e;t.element.addEventListener(e,n,i)},a.matchesEvent=function(){return!0},void 0!==e&&e.exports&&(e.exports=a),window.Gator=a}()},{}],37:[function(t,e,n){n.read=function(t,e,n,i,r){var o,s,a=8*r-i-1,u=(1<<a)-1,h=u>>1,p=-7,c=n?r-1:0,l=n?-1:1,d=t[e+c];for(c+=l,o=d&(1<<-p)-1,d>>=-p,p+=a;p>0;o=256*o+t[e+c],c+=l,p-=8);for(s=o&(1<<-p)-1,o>>=-p,p+=i;p>0;s=256*s+t[e+c],c+=l,p-=8);if(0===o)o=1-h;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,i),o-=h}return(d?-1:1)*s*Math.pow(2,o-i)},n.write=function(t,e,n,i,r,o){var s,a,u,h=8*o-r-1,p=(1<<h)-1,c=p>>1,l=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:o-1,f=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=p):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+c>=1?l/u:l*Math.pow(2,1-c))*u>=2&&(s++,u/=2),s+c>=p?(a=0,s=p):s+c>=1?(a=(e*u-1)*Math.pow(2,r),s+=c):(a=e*Math.pow(2,c-1)*Math.pow(2,r),s=0));r>=8;t[n+d]=255&a,d+=f,a/=256,r-=8);for(s=s<<r|a,h+=r;h>0;t[n+d]=255&s,d+=f,s/=256,h-=8);t[n+d-f]|=128*g}},{}],38:[function(t,e,n){var i=function(){};i.prototype={bind:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},unbind:function(t,e){this._events=this._events||{},t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(e),1)},trigger:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},i.mixin=function(t){for(var e=["bind","unbind","trigger"],n=0;n<e.length;n++)t.prototype[e[n]]=i.prototype[e[n]]},void 0!==e&&"exports"in e&&(e.exports=i)},{}],39:[function(t,e,n){!function(t,e){"object"==typeof n&&n&&"string"!=typeof n.nodeName?e(n):(t.Mustache={},e(t.Mustache))}(this,function(t){function e(t){return"function"==typeof t}function n(t){return f(t)?"array":typeof t}function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function r(t,e){return null!=t&&"object"==typeof t&&e in t}function o(t,e){return g.call(t,e)}function s(t){return!o(v,t)}function a(e,n){function r(t){if("string"==typeof t&&(t=t.split(b,2)),!f(t)||2!==t.length)throw new Error("Invalid tags: "+t);o=new RegExp(i(t[0])+"\\s*"),a=new RegExp("\\s*"+i(t[1])),c=new RegExp("\\s*"+i("}"+t[1]))}if(!e)return[];var o,a,c,l=[],d=[],g=[],v=!1,m=!1;r(n||t.tags);for(var T,_,k,x,P,C,I=new p(e);!I.eos();){if(T=I.pos,k=I.scanUntil(o))for(var A=0,L=k.length;A<L;++A)s(x=k.charAt(A))?g.push(d.length):m=!0,d.push(["text",x,T,T+1]),T+=1,"\n"===x&&function(){if(v&&!m)for(;g.length;)delete d[g.pop()];else g=[];v=!1,m=!1}();if(!I.scan(o))break;if(v=!0,_=I.scan(S)||"name",I.scan(y),"="===_?(k=I.scanUntil(w),I.scan(w),I.scanUntil(a)):"{"===_?(k=I.scanUntil(c),I.scan(E),I.scanUntil(a),_="&"):k=I.scanUntil(a),!I.scan(a))throw new Error("Unclosed tag at "+I.pos);if(P=[_,k,T,I.pos],d.push(P),"#"===_||"^"===_)l.push(P);else if("/"===_){if(!(C=l.pop()))throw new Error('Unopened section "'+k+'" at '+T);if(C[1]!==k)throw new Error('Unclosed section "'+C[1]+'" at '+T)}else"name"===_||"{"===_||"&"===_?m=!0:"="===_&&r(k)}if(C=l.pop())throw new Error('Unclosed section "'+C[1]+'" at '+I.pos);return h(u(d))}function u(t){for(var e,n,i=[],r=0,o=t.length;r<o;++r)(e=t[r])&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(i.push(e),n=e));return i}function h(t){for(var e,n=[],i=n,r=[],o=0,s=t.length;o<s;++o)switch((e=t[o])[0]){case"#":case"^":i.push(e),r.push(e),i=e[4]=[];break;case"/":r.pop()[5]=e[2],i=r.length>0?r[r.length-1][4]:n;break;default:i.push(e)}return n}function p(t){this.string=t,this.tail=t,this.pos=0}function c(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function l(){this.cache={}}var d=Object.prototype.toString,f=Array.isArray||function(t){return"[object Array]"===d.call(t)},g=RegExp.prototype.test,v=/\S/,m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},y=/\s*/,b=/\s+/,w=/\s*=/,E=/\s*\}/,S=/#|\^|\/|>|\{|&|=|!/;p.prototype.eos=function(){return""===this.tail},p.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},p.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=e.length,e},c.prototype.push=function(t){return new c(t,this)},c.prototype.lookup=function(t){var n,i=this.cache;if(i.hasOwnProperty(t))n=i[t];else{for(var o,s,a=this,u=!1;a;){if(t.indexOf(".")>0)for(n=a.view,o=t.split("."),s=0;null!=n&&s<o.length;)s===o.length-1&&(u=r(n,o[s])),n=n[o[s++]];else n=a.view[t],u=r(a.view,t);if(u)break;a=a.parent}i[t]=n}return e(n)&&(n=n.call(this.view)),n},l.prototype.clearCache=function(){this.cache={}},l.prototype.parse=function(t,e){var n=this.cache,i=n[t];return null==i&&(i=n[t]=a(t,e)),i},l.prototype.render=function(t,e,n){var i=this.parse(t),r=e instanceof c?e:new c(e);return this.renderTokens(i,r,n,t)},l.prototype.renderTokens=function(t,e,n,i){for(var r,o,s,a="",u=0,h=t.length;u<h;++u)s=void 0,"#"===(o=(r=t[u])[0])?s=this.renderSection(r,e,n,i):"^"===o?s=this.renderInverted(r,e,n,i):">"===o?s=this.renderPartial(r,e,n,i):"&"===o?s=this.unescapedValue(r,e):"name"===o?s=this.escapedValue(r,e):"text"===o&&(s=this.rawValue(r)),void 0!==s&&(a+=s);return a},l.prototype.renderSection=function(t,n,i,r){var o=this,s="",a=n.lookup(t[1]);if(a){if(f(a))for(var u=0,h=a.length;u<h;++u)s+=this.renderTokens(t[4],n.push(a[u]),i,r);else if("object"==typeof a||"string"==typeof a||"number"==typeof a)s+=this.renderTokens(t[4],n.push(a),i,r);else if(e(a)){if("string"!=typeof r)throw new Error("Cannot use higher-order sections without the original template");null!=(a=a.call(n.view,r.slice(t[3],t[5]),function(t){return o.render(t,n,i)}))&&(s+=a)}else s+=this.renderTokens(t[4],n,i,r);return s}},l.prototype.renderInverted=function(t,e,n,i){var r=e.lookup(t[1]);if(!r||f(r)&&0===r.length)return this.renderTokens(t[4],e,n,i)},l.prototype.renderPartial=function(t,n,i){if(i){var r=e(i)?i(t[1]):i[t[1]];return null!=r?this.renderTokens(this.parse(r),n,i,r):void 0}},l.prototype.unescapedValue=function(t,e){var n=e.lookup(t[1]);if(null!=n)return n},l.prototype.escapedValue=function(e,n){var i=n.lookup(e[1]);if(null!=i)return t.escape(i)},l.prototype.rawValue=function(t){return t[1]},t.name="mustache.js",t.version="2.3.0",t.tags=["{{","}}"];var T=new l;return t.clearCache=function(){return T.clearCache()},t.parse=function(t,e){return T.parse(t,e)},t.render=function(t,e,i){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+n(t)+'" was given as the first argument for mustache#render(template, view, partials)');return T.render(t,e,i)},t.to_html=function(n,i,r,o){var s=t.render(n,i,r);if(!e(o))return s;o(s)},t.escape=function(t){return String(t).replace(/[&<>"'`=\/]/g,function(t){return m[t]})},t.Scanner=p,t.Context=c,t.Writer=l,t})},{}],40:[function(t,e,n){function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(c===setTimeout)return setTimeout(t,0);if((c===i||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function s(t){if(l===clearTimeout)return clearTimeout(t);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}function a(){v&&f&&(v=!1,f.length?g=f.concat(g):m=-1,g.length&&u())}function u(){if(!v){var t=o(a);v=!0;for(var e=g.length;e;){for(f=g,g=[];++m<e;)f&&f[m].run();m=-1,e=g.length}f=null,v=!1,s(t)}}function h(t,e){this.fun=t,this.array=e}function p(){}var c,l,d=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:i}catch(t){c=i}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(t){l=r}}();var f,g=[],v=!1,m=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];g.push(new h(t,e)),1!==g.length||v||o(u)},h.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=p,d.addListener=p,d.once=p,d.off=p,d.removeListener=p,d.removeAllListeners=p,d.emit=p,d.prependListener=p,d.prependOnceListener=p,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],41:[function(t,e,n){!function(n){"use strict";function i(t,e){t.constructor===String&&(t=r.convertString.UTF8.stringToBytes(t));var n=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],i=s(t),o=8*t.length;i[o>>5]|=128<<24-o%32,i[15+(o+64>>9<<4)]=o;for(var u=0;u<i.length;u+=16)h(n,i,u);var p=a(n);return e&&e.asBytes?p:e&&e.asString?r.convertString.bytesToString(p):r.bytesToHex(p)}var r={};void 0!==e&&e.exports?(r.bytesToHex=t("convert-hex").bytesToHex,r.convertString=t("convert-string"),e.exports=i):(r.bytesToHex=n.convertHex.bytesToHex,r.convertString=n.convertString,n.sha256=i);var o=[];!function(){for(var t=2,e=0;e<64;)(function(t){for(var e=Math.sqrt(t),n=2;n<=e;n++)if(!(t%n))return!1;return!0})(t)&&(o[e]=function(t){return 4294967296*(t-(0|t))|0}(Math.pow(t,1/3)),e++),t++}();var s=function(t){for(var e=[],n=0,i=0;n<t.length;n++,i+=8)e[i>>>5]|=t[n]<<24-i%32;return e},a=function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},u=[],h=function(t,e,n){for(var i=t[0],r=t[1],s=t[2],a=t[3],h=t[4],p=t[5],c=t[6],l=t[7],d=0;d<64;d++){if(d<16)u[d]=0|e[n+d];else{var f=u[d-15],g=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,v=u[d-2],m=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;u[d]=g+u[d-7]+m+u[d-16]}var y=i&r^i&s^r&s,b=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),w=l+((h<<26|h>>>6)^(h<<21|h>>>11)^(h<<7|h>>>25))+(h&p^~h&c)+o[d]+u[d];l=c,c=p,p=h,h=a+w|0,a=s,s=r,r=i,i=w+(b+y)|0}t[0]=t[0]+i|0,t[1]=t[1]+r|0,t[2]=t[2]+s|0,t[3]=t[3]+a|0,t[4]=t[4]+h|0,t[5]=t[5]+p|0,t[6]=t[6]+c|0,t[7]=t[7]+l|0};i.x2=function(t,e){return i(i(t,{asBytes:!0}),e)}}(this)},{"convert-hex":34,"convert-string":35}],42:[function(t,e,n){(function(i){!function(t){if("object"==typeof n&&void 0!==e)e.exports=t();else{("undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:this).Verso=t()}}(function(){return function e(n,i,r){function o(a,u){if(!i[a]){if(!n[a]){var h="function"==typeof t&&t;if(!u&&h)return h(a,!0);if(s)return s(a,!0);var p=new Error("Cannot find module '"+a+"'");throw p.code="MODULE_NOT_FOUND",p}var c=i[a]={exports:{}};n[a][0].call(c.exports,function(t){var e=n[a][1][t];return o(e||t)},c,c.exports,e,n,i,r)}return i[a].exports}for(var s="function"==typeof t&&t,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e,n){e.exports=function(){function t(t){this.el=t,this.run=0}return t.prototype.animate=function(t,e){var n,i,r,o,s,a,u,h,p,c,l,d,f;return null==t&&(t={}),null==e&&(e=function(){}),d=null!=(r=t.x)?r:0,f=null!=(o=t.y)?o:0,p=null!=(s=t.scale)?s:1,i=null!=(a=t.easing)?a:"ease-out",n=null!=(u=t.duration)?u:0,h=++this.run,c="translate3d("+d+", "+f+", 0px) scale3d("+p+", "+p+", 1)",this.el.style.transform===c?e():n>0?(l=function(t){return function(){h===t.run&&(t.el.removeEventListener("transitionend",l),t.el.style.transition="none",e())}}(this),this.el.addEventListener("transitionend",l,!1),this.el.style.transition="transform "+i+" "+n+"ms",this.el.style.transform=c):(this.el.style.transition="none",this.el.style.transform=c,e()),this},t}()},{}],2:[function(t,e,n){e.exports=function(){function t(t,e){this.el=t,this.options=null!=e?e:{},this.visibility="gone",this.positioned=!1,this.active=!1,this.id=this.options.id,this.type=this.options.type,this.pageIds=this.options.pageIds,this.width=this.options.width,this.left=this.options.left,this.maxZoomScale=this.options.maxZoomScale}return t.prototype.isZoomable=function(){return this.getMaxZoomScale()>1&&"false"!==this.getEl().getAttribute("data-zoomable")},t.prototype.getEl=function(){return this.el},t.prototype.getOverlayEls=function(){return this.getEl().querySelectorAll(".verso__overlay")},t.prototype.getPageEls=function(){return this.getEl().querySelectorAll(".verso__page")},t.prototype.getRect=function(){return this.getEl().getBoundingClientRect()},t.prototype.getContentRect=function(){var t,e,n,i,r,o,s,a,u;for(i={top:null,left:null,right:null,bottom:null,width:null,height:null},t=0,e=(r=this.getPageEls()).length;t<e;t++)((n=r[t].getBoundingClientRect()).top<i.top||null==i.top)&&(i.top=n.top),(n.left<i.left||null==i.left)&&(i.left=n.left),(n.right>i.right||null==i.right)&&(i.right=n.right),(n.bottom>i.bottom||null==i.bottom)&&(i.bottom=n.bottom);return i.top=null!=(o=i.top)?o:0,i.left=null!=(s=i.left)?s:0,i.right=null!=(a=i.right)?a:0,i.bottom=null!=(u=i.bottom)?u:0,i.width=i.right-i.left,i.height=i.bottom-i.top,i},t.prototype.getId=function(){return this.id},t.prototype.getType=function(){return this.type},t.prototype.getPageIds=function(){return this.pageIds},t.prototype.getWidth=function(){return this.width},t.prototype.getLeft=function(){return this.left},t.prototype.getMaxZoomScale=function(){return this.maxZoomScale},t.prototype.getVisibility=function(){return this.visibility},t.prototype.setVisibility=function(t){return this.visibility!==t&&(this.getEl().style.display="visible"===t?"block":"none",this.visibility=t),this},t.prototype.position=function(){return!1===this.positioned&&(this.getEl().style.left=this.getLeft()+"%",this.positioned=!0),this},t.prototype.activate=function(){this.active=!0,this.getEl().setAttribute("data-active",this.active)},t.prototype.deactivate=function(){this.active=!1,this.getEl().setAttribute("data-active",this.active)},t}()},{}],3:[function(t,e,n){var i,r,o,s,a;r=t("hammerjs"),o=t("microevent"),s=t("./page_spread"),i=t("./animation"),a=function(){function t(t,e){var n,o,s,a,u;this.el=t,this.options=null!=e?e:{},this.swipeVelocity=null!=(n=this.options.swipeVelocity)?n:.3,this.swipeThreshold=null!=(o=this.options.swipeThreshold)?o:10,this.navigationDuration=null!=(s=this.options.navigationDuration)?s:240,this.navigationPanDuration=null!=(a=this.options.navigationPanDuration)?a:200,this.zoomDuration=null!=(u=this.options.zoomDuration)?u:200,this.position=-1,this.pinching=!1,this.panning=!1,this.transform={left:0,top:0,scale:1},this.startTransform={left:0,top:0,scale:1},this.tap={count:0,delay:250,timeout:null},this.scrollerEl=this.el.querySelector(".verso__scroller"),this.pageSpreadEls=this.el.querySelectorAll(".verso__page-spread"),this.pageSpreads=this.traversePageSpreads(this.pageSpreadEls),this.pageIds=this.buildPageIds(this.pageSpreads),this.animation=new i(this.scrollerEl),this.hammer=new r.Manager(this.scrollerEl,{touchAction:"auto",enable:!1,inputClass:"ontouchstart"in window?r.TouchInput:null}),this.hammer.add(new r.Pan({direction:r.DIRECTION_ALL})),this.hammer.add(new r.Tap({event:"singletap",interval:0})),this.hammer.add(new r.Pinch),this.hammer.add(new r.Press({time:500})),this.hammer.on("panstart",this.panStart.bind(this)),this.hammer.on("panmove",this.panMove.bind(this)),this.hammer.on("panend",this.panEnd.bind(this)),this.hammer.on("pancancel",this.panEnd.bind(this)),this.hammer.on("singletap",this.singletap.bind(this)),this.hammer.on("pinchstart",this.pinchStart.bind(this)),this.hammer.on("pinchmove",this.pinchMove.bind(this)),this.hammer.on("pinchend",this.pinchEnd.bind(this)),this.hammer.on("pinchcancel",this.pinchEnd.bind(this)),this.hammer.on("press",this.press.bind(this))}return t.prototype.start=function(){var t,e;return t=null!=(e=this.getPageSpreadPositionFromPageId(this.options.pageId))?e:0,this.hammer.set({enable:!0}),this.navigateTo(t,{duration:0}),this.resizeListener=this.resize.bind(this),window.addEventListener("resize",this.resizeListener,!1),this},t.prototype.destroy=function(){return this.hammer.destroy(),window.removeEventListener("resize",this.resizeListener),this},t.prototype.first=function(t){return this.navigateTo(0,t)},t.prototype.prev=function(t){return this.navigateTo(this.getPosition()-1,t)},t.prototype.next=function(t){return this.navigateTo(this.getPosition()+1,t)},t.prototype.last=function(t){return this.navigateTo(this.getPageSpreadCount()-1,t)},t.prototype.navigateTo=function(t,e){var n,i,r,o,s,a,u,h;null==e&&(e={}),t<0||t>this.getPageSpreadCount()-1||(o=this.getPosition(),r=this.getPageSpreadFromPosition(o),n=this.getPageSpreadFromPosition(t),i=this.getCarouselFromPageSpread(n),h=null!=(a=e.velocity)?a:1,s=null!=(u=e.duration)?u:this.navigationDuration,s/=Math.abs(h),null!=r&&r.deactivate(),n.activate(),i.visible.forEach(function(t){return t.position().setVisibility("visible")}),this.transform.left=this.getLeftTransformFromPageSpread(t,n),this.setPosition(t),this.transform.scale>1&&(this.transform.top=0,this.transform.scale=1,this.trigger("zoomedOut",{position:o})),this.trigger("beforeNavigation",{currentPosition:o,newPosition:t}),this.animation.animate({x:this.transform.left+"%",duration:s},function(t){return function(){(i=t.getCarouselFromPageSpread(t.getActivePageSpread())).gone.forEach(function(t){return t.setVisibility("gone")}),t.trigger("afterNavigation",{newPosition:t.getPosition(),previousPosition:o})}}(this)))},t.prototype.getPosition=function(){return this.position},t.prototype.setPosition=function(t){return this.position=t,this},t.prototype.getLeftTransformFromPageSpread=function(t,e){var n;return n=0,t===this.getPageSpreadCount()-1?n=100-e.getWidth()-e.getLeft():t>0&&(n=(100-e.getWidth())/2-e.getLeft()),n},t.prototype.getCarouselFromPageSpread=function(t){var e;return e={visible:[],gone:[]},this.pageSpreads.forEach(function(n){var i;i=!1,n.getLeft()<=t.getLeft()?n.getLeft()+n.getWidth()>t.getLeft()-100&&(i=!0):n.getLeft()-n.getWidth()<t.getLeft()+100&&(i=!0),!0===i?e.visible.push(n):e.gone.push(n)}),e},t.prototype.traversePageSpreads=function(t){var e,n,i,r,o,a,u,h,p,c,l;for(p=[],r=0,i=0,o=t.length;i<o;i++)n=(e=t[i]).getAttribute("data-id"),c=e.getAttribute("data-type"),u=null!=(u=e.getAttribute("data-page-ids"))?u.split(",").map(function(t){return t}):[],a=null!=(a=e.getAttribute("data-max-zoom-scale"))?+a:1,l=e.getAttribute("data-width"),h=new s(e,{id:n,type:c,pageIds:u,maxZoomScale:a,width:l=null!=l?+l:100,left:r}),r+=l,p.push(h);return p},t.prototype.buildPageIds=function(t){var e;return e={},t.forEach(function(t,n){t.options.pageIds.forEach(function(n){e[n]=t})}),e},t.prototype.isCoordinateInsideElement=function(t,e,n){var i;return i=n.getBoundingClientRect(),t>=i.left&&t<=i.right&&e>=i.top&&e<=i.bottom},t.prototype.getCoordinateInfo=function(t,e,n){var i,r,o,s,a,u,h,p,c,l;for(r={x:t,y:e,contentX:0,contentY:0,pageX:0,pageY:0,overlayEls:[],pageEl:null,isInsideContentX:!1,isInsideContentY:!1,isInsideContent:!1},i=n.getContentRect(),p=n.getOverlayEls(),l=n.getPageEls(),o=0,a=p.length;o<a;o++)h=p[o],this.isCoordinateInsideElement(t,e,h)&&r.overlayEls.push(h);for(s=0,u=l.length;s<u;s++)if(c=l[s],this.isCoordinateInsideElement(t,e,c)){r.pageEl=c;break}return r.contentX=(t-i.left)/i.width,r.contentY=(e-i.top)/i.height,null!=r.pageEl&&(r.isInsideContentX=r.contentX>=0&&r.contentX<=1,r.isInsideContentY=r.contentY>=0&&r.contentY<=1,r.isInsideContent=r.isInsideContentX&&r.isInsideContentY),r},t.prototype.getPageSpreadCount=function(){return this.pageSpreads.length},t.prototype.getActivePageSpread=function(){return this.getPageSpreadFromPosition(this.getPosition())},t.prototype.getPageSpreadFromPosition=function(t){return this.pageSpreads[t]},t.prototype.getPageSpreadPositionFromPageId=function(t){var e,n,i,r;for(e=n=0,i=(r=this.pageSpreads).length;n<i;e=++n)if(r[e].options.pageIds.indexOf(t)>-1)return e},t.prototype.getPageSpreadBounds=function(t){var e,n;return n=t.getRect(),e=t.getContentRect(),{left:(e.left-n.left)/n.width*100,top:(e.top-n.top)/n.height*100,width:e.width/n.width*100,height:e.height/n.height*100,pageSpreadRect:n,pageSpreadContentRect:e}},t.prototype.clipCoordinate=function(t,e,n,i){return n*e<100?t=i*-e+50-n*e/2:(t=Math.min(t,i*-e),t=Math.max(t,i*-e-n*e+100)),t},t.prototype.zoomTo=function(t,e){var n,i,r,o,s,a,u,h,p;null==t&&(t={}),u=t.scale,n=this.getActivePageSpread(),o=this.getPageSpreadBounds(n),r=(i=n.getLeft())*this.transform.scale,h=null!=(s=t.x)?s:0,p=null!=(a=t.y)?a:0,1!==u?(h-=o.pageSpreadRect.left,p-=o.pageSpreadRect.top,h=h/(o.pageSpreadRect.width/this.transform.scale)*100,p=p/(o.pageSpreadRect.height/this.transform.scale)*100,h=this.transform.left+r+h-h*u/this.transform.scale,p=this.transform.top+p-p*u/this.transform.scale,!1!==t.bounds&&u>1&&(h=this.clipCoordinate(h,u,o.width,o.left),p=this.clipCoordinate(p,u,o.height,o.top))):(h=0,p=0),h-=i*u,this.transform.left=h,this.transform.top=p,this.transform.scale=u,this.animation.animate({x:h+"%",y:p+"%",scale:u,easing:t.easing,duration:t.duration},e)},t.prototype.refresh=function(){return this.pageSpreadEls=this.el.querySelectorAll(".verso__page-spread"),this.pageSpreads=this.traversePageSpreads(this.pageSpreadEls),this.pageIds=this.buildPageIds(this.pageSpreads),this},t.prototype.panStart=function(t){var e,n;n=t.center.x,e=this.scrollerEl.offsetWidth,n>30&&n<e-30&&(this.startTransform.left=this.transform.left,this.startTransform.top=this.transform.top,this.panning=!0,this.trigger("panStart"))},t.prototype.panMove=function(t){var e,n,i,r,o,s;!0!==this.pinching&&!1!==this.panning&&(this.transform.scale>1?(n=(e=this.getActivePageSpread()).getLeft()*this.transform.scale,i=this.getPageSpreadBounds(e),r=this.transform.scale,o=this.startTransform.left+n+t.deltaX/this.scrollerEl.offsetWidth*100,s=this.startTransform.top+t.deltaY/this.scrollerEl.offsetHeight*100,o=this.clipCoordinate(o,r,i.width,i.left),s=this.clipCoordinate(s,r,i.height,i.top),o-=n,this.transform.left=o,this.transform.top=s,this.animation.animate({x:o+"%",y:s+"%",scale:r,easing:"linear"})):(o=this.transform.left+t.deltaX/this.scrollerEl.offsetWidth*100,this.animation.animate({x:o+"%",easing:"linear"})))},t.prototype.panEnd=function(t){var e,n;!1!==this.panning&&(this.panning=!1,this.trigger("panEnd"),1===this.transform.scale&&!1===this.pinching&&(e=this.getPosition(),n=t.overallVelocityX,Math.abs(n)>=this.swipeVelocity&&Math.abs(t.deltaX)>=this.swipeThreshold&&(t.offsetDirection===r.DIRECTION_LEFT?this.next({velocity:n,duration:this.navigationPanDuration}):t.offsetDirection===r.DIRECTION_RIGHT&&this.prev({velocity:n,duration:this.navigationPanDuration})),e===this.getPosition()&&(this.animation.animate({x:this.transform.left+"%",duration:this.navigationPanDuration}),this.trigger("attemptedNavigation",{position:this.getPosition()}))))},t.prototype.pinchStart=function(t){this.getActivePageSpread().isZoomable()&&(this.pinching=!0,this.el.setAttribute("data-pinching",!0),this.startTransform.scale=this.transform.scale)},t.prototype.pinchMove=function(t){!1!==this.pinching&&this.zoomTo({x:t.center.x,y:t.center.y,scale:this.startTransform.scale*t.scale,bounds:!1,easing:"linear"})},t.prototype.pinchEnd=function(t){var e,n,i;!1!==this.pinching&&(e=this.getActivePageSpread().getMaxZoomScale(),i=Math.max(1,Math.min(this.transform.scale,e)),n=this.getPosition(),1===this.startTransform.scale&&i>1?this.trigger("zoomedIn",{position:n}):this.startTransform.scale>1&&1===i&&this.trigger("zoomedOut",{position:n}),this.zoomTo({x:t.center.x,y:t.center.y,scale:i,duration:this.zoomDuration},function(t){return function(){t.pinching=!1,t.el.setAttribute("data-pinching",!1)}}(this)))},t.prototype.press=function(t){this.trigger("pressed",this.getCoordinateInfo(t.center.x,t.center.y,this.getActivePageSpread()))},t.prototype.singletap=function(t){var e,n,i,r,o,s,a,u;e=this.getActivePageSpread(),n=this.getCoordinateInfo(t.center.x,t.center.y,e),i=1===this.tap.count,clearTimeout(this.tap.timeout),i?(this.tap.count=0,this.trigger("doubleClicked",n),e.isZoomable()&&(r=e.getMaxZoomScale(),s=(u=this.transform.scale>1)?1:r,a=u?"zoomedOut":"zoomedIn",o=this.getPosition(),this.zoomTo({x:t.center.x,y:t.center.y,scale:s,duration:this.zoomDuration},function(t){return function(){t.trigger(a,{position:o})}}(this)))):(this.tap.count++,this.tap.timeout=setTimeout(function(t){return function(){t.tap.count=0,t.trigger("clicked",n)}}(this),this.tap.delay))},t.prototype.resize=function(){var t,e;this.transform.scale>1&&(e=this.getPosition(),t=this.getActivePageSpread(),this.transform.left=this.getLeftTransformFromPageSpread(e,t),this.transform.top=0,this.transform.scale=1,this.zoomTo({x:this.transform.left,y:this.transform.top,scale:this.transform.scale,duration:0}),this.trigger("zoomedOut",{position:e}))},t}(),o.mixin(a),e.exports=a},{"./animation":1,"./page_spread":2,hammerjs:4,microevent:5}],4:[function(t,e,n){!function(t,n,i,r){"use strict";function o(t,e,n){return setTimeout(p(t,n),e)}function s(t,e,n){return!!Array.isArray(t)&&(a(t,n[e],n),!0)}function a(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==r)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function u(e,n,i){var r="DEPRECATED METHOD: "+n+"\n"+i+" AT \n";return function(){var n=new Error("get-stack-trace"),i=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=t.console&&(t.console.warn||t.console.log);return o&&o.call(t.console,r,i),e.apply(this,arguments)}}function h(t,e,n){var i,r=e.prototype;(i=t.prototype=Object.create(r)).constructor=t,i._super=r,n&&ct(i,n)}function p(t,e){return function(){return t.apply(e,arguments)}}function c(t,e){return typeof t==ft?t.apply(e?e[0]||r:r,e):t}function l(t,e){return t===r?e:t}function d(t,e,n){a(m(e),function(e){t.addEventListener(e,n,!1)})}function f(t,e,n){a(m(e),function(e){t.removeEventListener(e,n,!1)})}function g(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function v(t,e){return t.indexOf(e)>-1}function m(t){return t.trim().split(/\s+/g)}function y(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function b(t){return Array.prototype.slice.call(t,0)}function w(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];y(r,s)<0&&i.push(t[o]),r[o]=s,o++}return n&&(i=e?i.sort(function(t,n){return t[e]>n[e]}):i.sort()),i}function E(t,e){for(var n,i,o=e[0].toUpperCase()+e.slice(1),s=0;s<lt.length;){if(n=lt[s],(i=n?n+o:e)in t)return i;s++}return r}function S(){return wt++}function T(e){var n=e.ownerDocument||e;return n.defaultView||n.parentWindow||t}function _(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){c(t.options.enable,[t])&&n.handler(e)},this.init()}function k(t){var e=t.options.inputClass;return new(e||(Tt?U:_t?V:St?X:B))(t,x)}function x(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=e&xt&&i-r==0,s=e&(Ct|It)&&i-r==0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,P(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function P(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=A(e)),r>1&&!n.firstMultiple?n.firstMultiple=A(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,u=e.center=L(i);e.timeStamp=mt(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=z(a,u),e.distance=M(a,u),C(n,e),e.offsetDirection=N(e.deltaX,e.deltaY);var h=O(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=vt(h.x)>vt(h.y)?h.x:h.y,e.scale=s?D(s.pointers,i):1,e.rotation=s?R(s.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,I(n,e);var p=t.element;g(e.srcEvent.target,p)&&(p=e.srcEvent.target),e.target=p}function C(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};e.eventType!==xt&&o.eventType!==Ct||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}function I(t,e){var n,i,o,s,a=t.lastInterval||e,u=e.timeStamp-a.timeStamp;if(e.eventType!=It&&(u>kt||a.velocity===r)){var h=e.deltaX-a.deltaX,p=e.deltaY-a.deltaY,c=O(u,h,p);i=c.x,o=c.y,n=vt(c.x)>vt(c.y)?c.x:c.y,s=N(h,p),t.lastInterval=e}else n=a.velocity,i=a.velocityX,o=a.velocityY,s=a.direction;e.velocity=n,e.velocityX=i,e.velocityY=o,e.direction=s}function A(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:gt(t.pointers[n].clientX),clientY:gt(t.pointers[n].clientY)},n++;return{timeStamp:mt(),pointers:e,center:L(e),deltaX:t.deltaX,deltaY:t.deltaY}}function L(t){var e=t.length;if(1===e)return{x:gt(t[0].clientX),y:gt(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:gt(n/e),y:gt(i/e)}}function O(t,e,n){return{x:e/t||0,y:n/t||0}}function N(t,e){return t===e?At:vt(t)>=vt(e)?t<0?Lt:Ot:e<0?Nt:Mt}function M(t,e,n){n||(n=Bt);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function z(t,e,n){n||(n=Bt);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}function R(t,e){return z(e[1],e[0],Ut)+z(t[1],t[0],Ut)}function D(t,e){return M(e[0],e[1],Ut)/M(t[0],t[1],Ut)}function B(){this.evEl=Ft,this.evWin=Vt,this.pressed=!1,_.apply(this,arguments)}function U(){this.evEl=jt,this.evWin=Yt,_.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function q(){this.evTarget=Zt,this.evWin=Kt,this.started=!1,_.apply(this,arguments)}function F(t,e){var n=b(t.touches),i=b(t.changedTouches);return e&(Ct|It)&&(n=w(n.concat(i),"identifier",!0)),[n,i]}function V(){this.evTarget=Jt,this.targetIds={},_.apply(this,arguments)}function H(t,e){var n=b(t.touches),i=this.targetIds;if(e&(xt|Pt)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,s=b(t.changedTouches),a=[],u=this.target;if(o=n.filter(function(t){return g(t.target,u)}),e===xt)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<s.length;)i[s[r].identifier]&&a.push(s[r]),e&(Ct|It)&&delete i[s[r].identifier],r++;return a.length?[w(o.concat(a),"identifier",!0),a]:void 0}function X(){_.apply(this,arguments);var t=p(this.handler,this);this.touch=new V(this.manager,t),this.mouse=new B(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function j(t,e){t&xt?(this.primaryTouch=e.changedPointers[0].identifier,Y.call(this,e)):t&(Ct|It)&&Y.call(this,e)}function Y(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout(function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)},Qt)}}function W(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(e-r.x),s=Math.abs(n-r.y);if(o<=$t&&s<=$t)return!0}return!1}function Z(t,e){this.manager=t,this.set(e)}function K(t){if(v(t,re))return re;var e=v(t,oe),n=v(t,se);return e&&n?re:e||n?e?oe:se:v(t,ie)?ie:ne}function G(t){this.options=ct({},this.defaults,t||{}),this.id=S(),this.manager=null,this.options.enable=l(this.options.enable,!0),this.state=ue,this.simultaneous={},this.requireFail=[]}function J(t){return t&de?"cancel":t&ce?"end":t&pe?"move":t&he?"start":""}function Q(t){return t==Mt?"down":t==Nt?"up":t==Lt?"left":t==Ot?"right":""}function $(t,e){var n=e.manager;return n?n.get(t):t}function tt(){G.apply(this,arguments)}function et(){tt.apply(this,arguments),this.pX=null,this.pY=null}function nt(){tt.apply(this,arguments)}function it(){G.apply(this,arguments),this._timer=null,this._input=null}function rt(){tt.apply(this,arguments)}function ot(){tt.apply(this,arguments)}function st(){G.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function at(t,e){return e=e||{},e.recognizers=l(e.recognizers,at.defaults.preset),new ut(t,e)}function ut(t,e){this.options=ct({},at.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=k(this),this.touchAction=new Z(this,this.options.touchAction),ht(this,!0),a(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ht(t,e){var n=t.element;if(n.style){var i;a(t.options.cssProps,function(r,o){i=E(n.style,o),e?(t.oldCssProps[i]=n.style[i],n.style[i]=r):n.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={})}}function pt(t,e){var i=n.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}var ct,lt=["","webkit","Moz","MS","ms","o"],dt=n.createElement("div"),ft="function",gt=Math.round,vt=Math.abs,mt=Date.now;ct="function"!=typeof Object.assign?function(t){if(t===r||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==r&&null!==i)for(var o in i)i.hasOwnProperty(o)&&(e[o]=i[o])}return e}:Object.assign;var yt=u(function(t,e,n){for(var i=Object.keys(e),o=0;o<i.length;)(!n||n&&t[i[o]]===r)&&(t[i[o]]=e[i[o]]),o++;return t},"extend","Use `assign`."),bt=u(function(t,e){return yt(t,e,!0)},"merge","Use `assign`."),wt=1,Et=/mobile|tablet|ip(ad|hone|od)|android/i,St="ontouchstart"in t,Tt=E(t,"PointerEvent")!==r,_t=St&&Et.test(navigator.userAgent),kt=25,xt=1,Pt=2,Ct=4,It=8,At=1,Lt=2,Ot=4,Nt=8,Mt=16,zt=Lt|Ot,Rt=Nt|Mt,Dt=zt|Rt,Bt=["x","y"],Ut=["clientX","clientY"];_.prototype={handler:function(){},init:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(T(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&f(this.element,this.evEl,this.domHandler),this.evTarget&&f(this.target,this.evTarget,this.domHandler),this.evWin&&f(T(this.element),this.evWin,this.domHandler)}};var qt={mousedown:xt,mousemove:Pt,mouseup:Ct},Ft="mousedown",Vt="mousemove mouseup";h(B,_,{handler:function(t){var e=qt[t.type];e&xt&&0===t.button&&(this.pressed=!0),e&Pt&&1!==t.which&&(e=Ct),this.pressed&&(e&Ct&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var Ht={pointerdown:xt,pointermove:Pt,pointerup:Ct,pointercancel:It,pointerout:It},Xt={2:"touch",3:"pen",4:"mouse",5:"kinect"},jt="pointerdown",Yt="pointermove pointerup pointercancel";t.MSPointerEvent&&!t.PointerEvent&&(jt="MSPointerDown",Yt="MSPointerMove MSPointerUp MSPointerCancel"),h(U,_,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=Ht[i],o=Xt[t.pointerType]||t.pointerType,s="touch"==o,a=y(e,t.pointerId,"pointerId");r&xt&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):r&(Ct|It)&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))}});var Wt={touchstart:xt,touchmove:Pt,touchend:Ct,touchcancel:It},Zt="touchstart",Kt="touchstart touchmove touchend touchcancel";h(q,_,{handler:function(t){var e=Wt[t.type];if(e===xt&&(this.started=!0),this.started){var n=F.call(this,t,e);e&(Ct|It)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var Gt={touchstart:xt,touchmove:Pt,touchend:Ct,touchcancel:It},Jt="touchstart touchmove touchend touchcancel";h(V,_,{handler:function(t){var e=Gt[t.type],n=H.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});var Qt=2500,$t=25;h(X,_,{handler:function(t,e,n){var i="touch"==n.pointerType,r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)j.call(this,e,n);else if(r&&W.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var te=E(dt.style,"touchAction"),ee=te!==r,ne="auto",ie="manipulation",re="none",oe="pan-x",se="pan-y",ae=function(){if(!ee)return!1;var e={},n=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){e[i]=!n||t.CSS.supports("touch-action",i)}),e}();Z.prototype={set:function(t){"compute"==t&&(t=this.compute()),ee&&this.manager.element.style&&ae[t]&&(this.manager.element.style[te]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return a(this.manager.recognizers,function(e){c(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),K(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,r=v(i,re)&&!ae[re],o=v(i,se)&&!ae[se],s=v(i,oe)&&!ae[oe];if(r){var a=1===t.pointers.length,u=t.distance<2,h=t.deltaTime<250;if(a&&u&&h)return}if(!s||!o)return r||o&&n&zt||s&&n&Rt?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var ue=1,he=2,pe=4,ce=8,le=ce,de=16;G.prototype={defaults:{},set:function(t){return ct(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(s(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=$(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return s(t,"dropRecognizeWith",this)?this:(t=$(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(s(t,"requireFailure",this))return this;var e=this.requireFail;return t=$(t,this),-1===y(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(s(t,"dropRequireFailure",this))return this;t=$(t,this);var e=y(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(e,t)}var n=this,i=this.state;i<ce&&e(n.options.event+J(i)),e(n.options.event),t.additionalEvent&&e(t.additionalEvent),i>=ce&&e(n.options.event+J(i))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|ue)))return!1;t++}return!0},recognize:function(t){var e=ct({},t);if(!c(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(le|de|32)&&(this.state=ue),this.state=this.process(e),this.state&(he|pe|ce|de)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},h(tt,G,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(he|pe),r=this.attrTest(t);return i&&(n&It||!r)?e|de:i||r?n&Ct?e|ce:e&he?e|pe:he:32}}),h(et,tt,{defaults:{event:"pan",threshold:10,pointers:1,direction:Dt},getTouchAction:function(){var t=this.options.direction,e=[];return t&zt&&e.push(se),t&Rt&&e.push(oe),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(e.direction&zt?(r=0===o?At:o<0?Lt:Ot,n=o!=this.pX,i=Math.abs(t.deltaX)):(r=0===s?At:s<0?Nt:Mt,n=s!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return tt.prototype.attrTest.call(this,t)&&(this.state&he||!(this.state&he)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Q(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),h(nt,tt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[re]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&he)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),h(it,G,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[ne]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(Ct|It)&&!r)this.reset();else if(t.eventType&xt)this.reset(),this._timer=o(function(){this.state=le,this.tryEmit()},e.time,this);else if(t.eventType&Ct)return le;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===le&&(t&&t.eventType&Ct?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=mt(),this.manager.emit(this.options.event,this._input)))}}),h(rt,tt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[re]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&he)}}),h(ot,tt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:zt|Rt,pointers:1},getTouchAction:function(){return et.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(zt|Rt)?e=t.overallVelocity:n&zt?e=t.overallVelocityX:n&Rt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&vt(e)>this.options.velocity&&t.eventType&Ct},emit:function(t){var e=Q(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),h(st,G,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ie]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),t.eventType&xt&&0===this.count)return this.failTimeout();if(i&&r&&n){if(t.eventType!=Ct)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||M(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=o(function(){this.state=le,this.tryEmit()},e.interval,this),he):le}return 32},failTimeout:function(){return this._timer=o(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==le&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),at.VERSION="2.0.7",at.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[rt,{enable:!1}],[nt,{enable:!1},["rotate"]],[ot,{direction:zt}],[et,{direction:zt},["swipe"]],[st],[st,{event:"doubletap",taps:2},["tap"]],[it]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};ut.prototype={set:function(t){return ct(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,i=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&le)&&(r=e.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===e.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&n.state&(he|pe|ce)&&(r=e.curRecognizer=n),o++}},get:function(t){if(t instanceof G)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(s(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(s(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=y(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==r&&e!==r){var n=this.handlers;return a(m(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==r){var n=this.handlers;return a(m(t),function(t){e?n[t]&&n[t].splice(y(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&pt(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&ht(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ct(at,{INPUT_START:xt,INPUT_MOVE:Pt,INPUT_END:Ct,INPUT_CANCEL:It,STATE_POSSIBLE:ue,STATE_BEGAN:he,STATE_CHANGED:pe,STATE_ENDED:ce,STATE_RECOGNIZED:le,STATE_CANCELLED:de,STATE_FAILED:32,DIRECTION_NONE:At,DIRECTION_LEFT:Lt,DIRECTION_RIGHT:Ot,DIRECTION_UP:Nt,DIRECTION_DOWN:Mt,DIRECTION_HORIZONTAL:zt,DIRECTION_VERTICAL:Rt,DIRECTION_ALL:Dt,Manager:ut,Input:_,TouchAction:Z,TouchInput:V,MouseInput:B,PointerEventInput:U,TouchMouseInput:X,SingleTouchInput:q,Recognizer:G,AttrRecognizer:tt,Tap:st,Pan:et,Swipe:ot,Pinch:nt,Rotate:rt,Press:it,on:d,off:f,each:a,merge:bt,extend:yt,assign:ct,inherit:h,bindFn:p,prefixed:E}),(void 0!==t?t:"undefined"!=typeof self?self:{}).Hammer=at,void 0!==e&&e.exports?e.exports=at:t.Hammer=at}(window,document)},{}],5:[function(t,e,n){var i=function(){};i.prototype={bind:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},unbind:function(t,e){this._events=this._events||{},t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(e),1)},trigger:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},i.mixin=function(t){for(var e=["bind","unbind","trigger"],n=0;n<e.length;n++)t.prototype[e[n]]=i.prototype[e[n]]},void 0!==e&&"exports"in e&&(e.exports=i)},{}]},{},[3])(3)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)});