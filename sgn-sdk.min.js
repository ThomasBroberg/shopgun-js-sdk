!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof rollupNeedsAnOptionToDisableAMDInUMD&&rollupNeedsAnOptionToDisableAMDInUMD.amd?rollupNeedsAnOptionToDisableAMDInUMD(e):(t=t||self).SGN=e()}(this,function(){"use strict";var t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t,e){return t(e={exports:{}},e.exports),e.exports}var n=e(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),i=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},r=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}},o={}.toString,s=function(t){return o.call(t).slice(8,-1)},a=e(function(t){var e=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=e)}),u=(a.version,e(function(t){var e=n["__core-js_shared__"]||(n["__core-js_shared__"]={});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:a.version,mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})})),l=0,c=Math.random(),h=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++l+c).toString(36))},f=e(function(t){var e=u("wks"),i=n.Symbol,r="function"==typeof i;(t.exports=function(t){return e[t]||(e[t]=r&&i[t]||(r?i:h)("Symbol."+t))}).store=e}),p=f("toStringTag"),d="Arguments"==s(function(){return arguments}()),g=function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),p))?n:d?s(e):"Object"==(i=s(e))&&"function"==typeof e.callee?"Arguments":i},v=function(t){return"object"==typeof t?null!==t:"function"==typeof t},y=function(t){if(!v(t))throw TypeError(t+" is not an object!");return t},m=function(t){try{return!!t()}catch(t){return!0}},b=!m(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),_=n.document,w=v(_)&&v(_.createElement),x=function(t){return w?_.createElement(t):{}},k=!b&&!m(function(){return 7!=Object.defineProperty(x("div"),"a",{get:function(){return 7}}).a}),S=function(t,e){if(!v(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!v(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!v(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!v(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")},E=Object.defineProperty,T={f:b?Object.defineProperty:function(t,e,n){if(y(t),e=S(e,!0),y(n),k)try{return E(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},P=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},I=b?function(t,e,n){return T.f(t,e,P(1,n))}:function(t,e,n){return t[e]=n,t},A={}.hasOwnProperty,O=function(t,e){return A.call(t,e)},C=u("native-function-to-string",Function.toString),L=e(function(t){var e=h("src"),i=(""+C).split("toString");a.inspectSource=function(t){return C.call(t)},(t.exports=function(t,r,o,s){var a="function"==typeof o;a&&(O(o,"name")||I(o,"name",r)),t[r]!==o&&(a&&(O(o,e)||I(o,e,t[r]?""+t[r]:i.join(String(r)))),t===n?t[r]=o:s?t[r]?t[r]=o:I(t,r,o):(delete t[r],I(t,r,o)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||C.call(this)})}),R=function(t,e,i){var o,s,u,l,c=t&R.F,h=t&R.G,f=t&R.S,p=t&R.P,d=t&R.B,g=h?n:f?n[e]||(n[e]={}):(n[e]||{}).prototype,v=h?a:a[e]||(a[e]={}),y=v.prototype||(v.prototype={});for(o in h&&(i=e),i)u=((s=!c&&g&&void 0!==g[o])?g:i)[o],l=d&&s?r(u,n):p&&"function"==typeof u?r(Function.call,u):u,g&&L(g,o,u,t&R.U),v[o]!=u&&I(v,o,l),p&&y[o]!=u&&(y[o]=u)};n.core=a,R.F=1,R.G=2,R.S=4,R.P=8,R.B=16,R.W=32,R.U=64,R.R=128;var M,j,N,D=R,z=function(t,e,n,i){try{return i?e(y(n)[0],n[1]):e(n)}catch(e){var r=t.return;throw void 0!==r&&y(r.call(t)),e}},F={},U=f("iterator"),B=Array.prototype,V=function(t){return void 0!==t&&(F.Array===t||B[U]===t)},H=Math.ceil,q=Math.floor,W=function(t){return isNaN(t=+t)?0:(t>0?q:H)(t)},X=Math.min,$=function(t){return t>0?X(W(t),9007199254740991):0},G=f("iterator"),Y=a.getIteratorMethod=function(t){if(null!=t)return t[G]||t["@@iterator"]||F[g(t)]},K=e(function(t){var e={},n={},i=t.exports=function(t,i,o,s,a){var u,l,c,h,f=a?function(){return t}:Y(t),p=r(o,s,i?2:1),d=0;if("function"!=typeof f)throw TypeError(t+" is not iterable!");if(V(f)){for(u=$(t.length);u>d;d++)if((h=i?p(y(l=t[d])[0],l[1]):p(t[d]))===e||h===n)return h}else for(c=f.call(t);!(l=c.next()).done;)if((h=z(c,p,l.value,i))===e||h===n)return h};i.BREAK=e,i.RETURN=n}),Z=f("species"),J=function(t,e){var n,r=y(t).constructor;return void 0===r||null==(n=y(r)[Z])?e:i(n)},Q=n.document,tt=Q&&Q.documentElement,et=n.process,nt=n.setImmediate,it=n.clearImmediate,rt=n.MessageChannel,ot=n.Dispatch,st=0,at={},ut=function(){var t=+this;if(at.hasOwnProperty(t)){var e=at[t];delete at[t],e()}},lt=function(t){ut.call(t.data)};nt&&it||(nt=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return at[++st]=function(){!function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}t.apply(n,e)}("function"==typeof t?t:Function(t),e)},M(st),st},it=function(t){delete at[t]},"process"==s(et)?M=function(t){et.nextTick(r(ut,t,1))}:ot&&ot.now?M=function(t){ot.now(r(ut,t,1))}:rt?(N=(j=new rt).port2,j.port1.onmessage=lt,M=r(N.postMessage,N,1)):n.addEventListener&&"function"==typeof postMessage&&!n.importScripts?(M=function(t){n.postMessage(t+"","*")},n.addEventListener("message",lt,!1)):M="onreadystatechange"in x("script")?function(t){tt.appendChild(x("script")).onreadystatechange=function(){tt.removeChild(this),ut.call(t)}}:function(t){setTimeout(r(ut,t,1),0)});var ct={set:nt,clear:it},ht=ct.set,ft=n.MutationObserver||n.WebKitMutationObserver,pt=n.process,dt=n.Promise,gt="process"==s(pt);function vt(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i}),this.resolve=i(e),this.reject=i(n)}var yt={f:function(t){return new vt(t)}},mt=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},bt=n.navigator,_t=bt&&bt.userAgent||"",wt=T.f,xt=f("toStringTag"),kt=function(t,e,n){t&&!O(t=n?t:t.prototype,xt)&&wt(t,xt,{configurable:!0,value:e})},St=f("species"),Et=function(t){var e=n[t];b&&e&&!e[St]&&T.f(e,St,{configurable:!0,get:function(){return this}})},Tt=f("iterator"),Pt=!1;try{var It=[7][Tt]();It.return=function(){Pt=!0},Array.from(It,function(){throw 2})}catch(t){}var At,Ot,Ct,Lt,Rt=ct.set,Mt=function(){var t,e,i,r=function(){var n,r;for(gt&&(n=pt.domain)&&n.exit();t;){r=t.fn,t=t.next;try{r()}catch(n){throw t?i():e=void 0,n}}e=void 0,n&&n.enter()};if(gt)i=function(){pt.nextTick(r)};else if(!ft||n.navigator&&n.navigator.standalone)if(dt&&dt.resolve){var o=dt.resolve(void 0);i=function(){o.then(r)}}else i=function(){ht.call(n,r)};else{var s=!0,a=document.createTextNode("");new ft(r).observe(a,{characterData:!0}),i=function(){a.data=s=!s}}return function(n){var r={fn:n,next:void 0};e&&(e.next=r),t||(t=r,i()),e=r}}(),jt=n.TypeError,Nt=n.process,Dt=Nt&&Nt.versions,zt=Dt&&Dt.v8||"",Ft=n.Promise,Ut="process"==g(Nt),Bt=function(){},Vt=Ot=yt.f,Ht=!!function(){try{var t=Ft.resolve(1),e=(t.constructor={})[f("species")]=function(t){t(Bt,Bt)};return(Ut||"function"==typeof PromiseRejectionEvent)&&t.then(Bt)instanceof e&&0!==zt.indexOf("6.6")&&-1===_t.indexOf("Chrome/66")}catch(t){}}(),qt=function(t){var e;return!(!v(t)||"function"!=typeof(e=t.then))&&e},Wt=function(t,e){if(!t._n){t._n=!0;var n=t._c;Mt(function(){for(var i=t._v,r=1==t._s,o=0,s=function(e){var n,o,s,a=r?e.ok:e.fail,u=e.resolve,l=e.reject,c=e.domain;try{a?(r||(2==t._h&&Gt(t),t._h=1),!0===a?n=i:(c&&c.enter(),n=a(i),c&&(c.exit(),s=!0)),n===e.promise?l(jt("Promise-chain cycle")):(o=qt(n))?o.call(n,u,l):u(n)):l(i)}catch(t){c&&!s&&c.exit(),l(t)}};n.length>o;)s(n[o++]);t._c=[],t._n=!1,e&&!t._h&&Xt(t)})}},Xt=function(t){Rt.call(n,function(){var e,i,r,o=t._v,s=$t(t);if(s&&(e=mt(function(){Ut?Nt.emit("unhandledRejection",o,t):(i=n.onunhandledrejection)?i({promise:t,reason:o}):(r=n.console)&&r.error&&r.error("Unhandled promise rejection",o)}),t._h=Ut||$t(t)?2:1),t._a=void 0,s&&e.e)throw e.v})},$t=function(t){return 1!==t._h&&0===(t._a||t._c).length},Gt=function(t){Rt.call(n,function(){var e;Ut?Nt.emit("rejectionHandled",t):(e=n.onrejectionhandled)&&e({promise:t,reason:t._v})})},Yt=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),Wt(e,!0))},Kt=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw jt("Promise can't be resolved itself");(e=qt(t))?Mt(function(){var i={_w:n,_d:!1};try{e.call(t,r(Kt,i,1),r(Yt,i,1))}catch(t){Yt.call(i,t)}}):(n._v=t,n._s=1,Wt(n,!1))}catch(t){Yt.call({_w:n,_d:!1},t)}}};Ht||(Ft=function(t){!function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!")}(this,Ft,"Promise","_h"),i(t),At.call(this);try{t(r(Kt,this,1),r(Yt,this,1))}catch(t){Yt.call(this,t)}},(At=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=function(t,e,n){for(var i in e)L(t,i,e[i],n);return t}(Ft.prototype,{then:function(t,e){var n=Vt(J(this,Ft));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=Ut?Nt.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&Wt(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),Ct=function(){var t=new At;this.promise=t,this.resolve=r(Kt,t,1),this.reject=r(Yt,t,1)},yt.f=Vt=function(t){return t===Ft||t===Lt?new Ct(t):Ot(t)}),D(D.G+D.W+D.F*!Ht,{Promise:Ft}),kt(Ft,"Promise"),Et("Promise"),Lt=a.Promise,D(D.S+D.F*!Ht,"Promise",{reject:function(t){var e=Vt(this);return(0,e.reject)(t),e.promise}}),D(D.S+D.F*!Ht,"Promise",{resolve:function(t){return function(t,e){if(y(t),v(e)&&e.constructor===t)return e;var n=yt.f(t);return(0,n.resolve)(e),n.promise}(this,t)}}),D(D.S+D.F*!(Ht&&function(t,e){if(!e&&!Pt)return!1;var n=!1;try{var i=[7],r=i[Tt]();r.next=function(){return{done:n=!0}},i[Tt]=function(){return r},t(i)}catch(t){}return n}(function(t){Ft.all(t).catch(Bt)})),"Promise",{all:function(t){var e=this,n=Vt(e),i=n.resolve,r=n.reject,o=mt(function(){var n=[],o=0,s=1;K(t,!1,function(t){var a=o++,u=!1;n.push(void 0),s++,e.resolve(t).then(function(t){u||(u=!0,n[a]=t,--s||i(n))},r)}),--s||i(n)});return o.e&&r(o.v),n.promise},race:function(t){var e=this,n=Vt(e),i=n.reject,r=mt(function(){K(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}});var Zt,Jt={f:{}.propertyIsEnumerable},Qt=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==s(t)?t.split(""):Object(t)},te=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},ee=function(t){return Qt(te(t))},ne=Object.getOwnPropertyDescriptor,ie={f:b?ne:function(t,e){if(t=ee(t),e=S(e,!0),k)try{return ne(t,e)}catch(t){}if(O(t,e))return P(!Jt.f.call(t,e),t[e])}},re=function(t,e){if(y(t),!v(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},oe={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=r(Function.call,ie.f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,i){return re(t,i),e?t.__proto__=i:n(t,i),t}}({},!1):void 0),check:re},se=oe.set,ae=Math.max,ue=Math.min,le=u("keys"),ce=function(t){return le[t]||(le[t]=h(t))},he=(Zt=!1,function(t,e,n){var i,r=ee(t),o=$(r.length),s=function(t,e){return(t=W(t))<0?ae(t+e,0):ue(t,e)}(n,o);if(Zt&&e!=e){for(;o>s;)if((i=r[s++])!=i)return!0}else for(;o>s;s++)if((Zt||s in r)&&r[s]===e)return Zt||s||0;return!Zt&&-1}),fe=ce("IE_PROTO"),pe=function(t,e){var n,i=ee(t),r=0,o=[];for(n in i)n!=fe&&O(i,n)&&o.push(n);for(;e.length>r;)O(i,n=e[r++])&&(~he(o,n)||o.push(n));return o},de="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),ge=de.concat("length","prototype"),ve={f:Object.getOwnPropertyNames||function(t){return pe(t,ge)}},ye=f("match"),me=function(t){var e;return v(t)&&(void 0!==(e=t[ye])?!!e:"RegExp"==s(t))},be=function(){var t=y(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},_e=T.f,we=ve.f,xe=n.RegExp,ke=xe,Se=xe.prototype,Ee=/a/g,Te=/a/g,Pe=new xe(Ee)!==Ee;if(b&&(!Pe||m(function(){return Te[f("match")]=!1,xe(Ee)!=Ee||xe(Te)==Te||"/a/i"!=xe(Ee,"i")}))){xe=function(t,e){var n,i,r,o,s=this instanceof xe,a=me(t),u=void 0===e;return!s&&a&&t.constructor===xe&&u?t:(n=Pe?new ke(a&&!u?t.source:t,e):ke((a=t instanceof xe)?t.source:t,a&&u?be.call(t):e),i=xe,(o=(s?this:Se).constructor)!==i&&"function"==typeof o&&(r=o.prototype)!==i.prototype&&v(r)&&se&&se(n,r),n)};for(var Ie=function(t){t in xe||_e(xe,t,{configurable:!0,get:function(){return ke[t]},set:function(e){ke[t]=e}})},Ae=we(ke),Oe=0;Ae.length>Oe;)Ie(Ae[Oe++]);Se.constructor=xe,xe.prototype=Se,L(n,"RegExp",xe)}Et("RegExp"),b&&"g"!=/./g.flags&&T.f(RegExp.prototype,"flags",{configurable:!0,get:be});var Ce=/./.toString,Le=function(t){L(RegExp.prototype,"toString",t,!0)};m(function(){return"/a/b"!=Ce.call({source:"a",flags:"b"})})?Le(function(){var t=y(this);return"/".concat(t.source,"/","flags"in t?t.flags:!b&&t instanceof RegExp?be.call(t):void 0)}):"toString"!=Ce.name&&Le(function(){return Ce.call(this)});var Re={};Re[f("toStringTag")]="z",Re+""!="[object z]"&&L(Object.prototype,"toString",function(){return"[object "+g(this)+"]"},!0);var Me=function(t){return Object(te(t))},je=function(t){return function(e,n){var i,r,o=String(te(e)),s=W(n),a=o.length;return s<0||s>=a?t?"":void 0:(i=o.charCodeAt(s))<55296||i>56319||s+1===a||(r=o.charCodeAt(s+1))<56320||r>57343?t?o.charAt(s):i:t?o.slice(s,s+2):r-56320+(i-55296<<10)+65536}}(!0),Ne=function(t,e,n){return e+(n?je(t,e).length:1)},De=RegExp.prototype.exec,ze=function(t,e){var n=t.exec;if("function"==typeof n){var i=n.call(t,e);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==g(t))throw new TypeError("RegExp#exec called on incompatible receiver");return De.call(t,e)},Fe=RegExp.prototype.exec,Ue=String.prototype.replace,Be=Fe,Ve=function(){var t=/a/,e=/b*/g;return Fe.call(t,"a"),Fe.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),He=void 0!==/()??/.exec("")[1];(Ve||He)&&(Be=function(t){var e,n,i,r,o=this;return He&&(n=new RegExp("^"+o.source+"$(?!\\s)",be.call(o))),Ve&&(e=o.lastIndex),i=Fe.call(o,t),Ve&&i&&(o.lastIndex=o.global?i.index+i[0].length:e),He&&i&&i.length>1&&Ue.call(i[0],n,function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)}),i});var qe=Be;D({target:"RegExp",proto:!0,forced:qe!==/./.exec},{exec:qe});var We=f("species"),Xe=!m(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),$e=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}(),Ge=function(t,e,n){var i=f(t),r=!m(function(){var e={};return e[i]=function(){return 7},7!=""[t](e)}),o=r?!m(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[We]=function(){return n}),n[i](""),!e}):void 0;if(!r||!o||"replace"===t&&!Xe||"split"===t&&!$e){var s=/./[i],a=n(te,i,""[t],function(t,e,n,i,o){return e.exec===qe?r&&!o?{done:!0,value:s.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}),u=a[0],l=a[1];L(String.prototype,t,u),I(RegExp.prototype,i,2==e?function(t,e){return l.call(t,this,e)}:function(t){return l.call(t,this)})}},Ye=Math.max,Ke=Math.min,Ze=Math.floor,Je=/\$([$&`']|\d\d?|<[^>]*>)/g,Qe=/\$([$&`']|\d\d?)/g;Ge("replace",2,function(t,e,n,i){return[function(i,r){var o=t(this),s=null==i?void 0:i[e];return void 0!==s?s.call(i,o,r):n.call(String(o),i,r)},function(t,e){var o=i(n,t,this,e);if(o.done)return o.value;var s=y(t),a=String(this),u="function"==typeof e;u||(e=String(e));var l=s.global;if(l){var c=s.unicode;s.lastIndex=0}for(var h=[];;){var f=ze(s,a);if(null===f)break;if(h.push(f),!l)break;""===String(f[0])&&(s.lastIndex=Ne(a,$(s.lastIndex),c))}for(var p,d="",g=0,v=0;v<h.length;v++){f=h[v];for(var m=String(f[0]),b=Ye(Ke(W(f.index),a.length),0),_=[],w=1;w<f.length;w++)_.push(void 0===(p=f[w])?p:String(p));var x=f.groups;if(u){var k=[m].concat(_,b,a);void 0!==x&&k.push(x);var S=String(e.apply(void 0,k))}else S=r(m,a,b,_,x,e);b>=g&&(d+=a.slice(g,b)+S,g=b+m.length)}return d+a.slice(g)}];function r(t,e,i,r,o,s){var a=i+t.length,u=r.length,l=Qe;return void 0!==o&&(o=Me(o),l=Je),n.call(s,l,function(n,s){var l;switch(s.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(a);case"<":l=o[s.slice(1,-1)];break;default:var c=+s;if(0===c)return n;if(c>u){var h=Ze(c/10);return 0===h?n:h<=u?void 0===r[h-1]?s.charAt(1):r[h-1]+s.charAt(1):n}l=r[c-1]}return void 0===l?"":l})}});var tn,en=T.f,nn=Function.prototype,rn=/^\s*function ([^ (]*)/;"name"in nn||b&&en(nn,"name",{configurable:!0,get:function(){try{return(""+this).match(rn)[1]}catch(t){return""}}});var on=tn={isBrowser:function(){return"object"==typeof window&&"object"==typeof document},isNode:function(){return"object"==typeof process},error:function(t,e){var n,i;if(t.message=t.message||null,"string"==typeof e)t.message=e;else if("object"==typeof e&&null!=e){for(n in e)i=e[n],t[n]=i;null!=e.message&&(t.message=e.message),null==e.code&&null==e.message||(t.code=e.code||e.name),null!=e.stack&&(t.stack=e.stack)}return t.name=e&&e.name||t.name||t.code||"Error",t.time=new Date,t},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e;return e=16*Math.random()|0,("x"===t?e:3&e|8).toString(16)})},getQueryParam:function(t,e){var n,i;return n=e||window.location.href,(i=new RegExp("[?&]"+t+"=([^&#]*)","i").exec(n))?i[1]:void 0},getRandomNumberBetween:function(t,e){return Math.floor(Math.random()*e)+t},getOS:function(){var t,e;return t=null,(e=window.navigator.userAgent).indexOf("Windows")>-1?t="Windows":e.indexOf("Mac")>-1?t="macOS":e.indexOf("X11")>-1?t="unix":e.indexOf("Linux")>-1?t="Linux":e.indexOf("iOS")>-1?t="iOS":e.indexOf("Android")>-1&&(t="Android"),t},getDeviceCategory:function(){var t;return t="desktop","iPod"===navigator.platform||"iPhone"===navigator.platform?t="mobile":"iPad"===navigator.platform?t="tablet":("Android"===navigator.platform||/android/gi.test(navigator.userAgent))&&(t=/tablet/gi.test(navigator.userAgent)?"tablet":"mobile"),t},getPointer:function(){var t;return t="fine",matchMedia("(pointer:coarse)").matches&&(t="coarse"),t},getOrientation:function(t,e){return t===e?"quadratic":t>e?"horizontal":"vertical"},getScreenDimensions:function(){var t,e,n;return{density:t=null!=(n=window.devicePixelRatio)?n:1,logical:e={width:window.screen.width,height:window.screen.height},physical:{width:Math.round(e.width*t),height:Math.round(e.height*t)}}},getUtcOffsetSeconds:function(){var t,e,n;return e=new Date,n=(t=new Date(e.getFullYear(),0,1,0,0,0,0)).toGMTString(),(t-new Date(n.substring(0,n.lastIndexOf(" ")-1)))/1e3},getUtcDstOffsetSeconds:function(){return 60*(new Date).getTimezoneOffset()*-1},getColorBrightness:function(t){var e,n,i,r,o;for(t=t.replace("#",""),e=parseInt((e+"").replace(/[^a-f0-9]/gi,""),16),n=[],r=0,o=0;o<3;)i=parseInt(t.substring(2*o,2),16),n[o]=i,i>0&&(r+=i),++o;return r<=381?"dark":"light"},btoa:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return tn.isBrowser()?btoa(t):(null,(t instanceof Buffer?t:new Buffer(t.toString(),"binary")).toString("base64"))}),chunk:function(t,e){var n;for(n=[];t.length;)n.push(t.splice(0,e));return n},throttle:function(t){var e,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,r=arguments.length>2?arguments[2]:void 0;return n=void 0,e=void 0,function(){var o,s,a;s=r||this,a=(new Date).getTime(),o=arguments,n&&a<n+i?(clearTimeout(e),e=setTimeout(function(){n=a,t.apply(s,o)},i)):(n=a,t.apply(s,o))}},loadImage:function(t,e){var n;return(n=new Image).onload=function(){return e(null,n.width,n.height)},n.onerror=function(){return e(new Error)},n.src=t,n},distance:function(t,e,n,i){var r,o,s,a,u;return o=Math.PI*t/180,s=Math.PI*n/180,u=e-i,a=Math.PI*u/180,r=Math.sin(o)*Math.sin(s)+Math.cos(o)*Math.cos(s)*Math.cos(a),r=1.609344*(r=60*(r=180*(r=Math.acos(r))/Math.PI)*1.1515)*1e3},async:{parallel:function(t,e){var n,i,r,o;for(i=t.length,n=[],r=0,o=function(t){return function(){var r,o;for(o=[],r=0,i--;r<arguments.length;)o.push(arguments[r]),r++;n[t]=o,0===i&&e(n)}};r<t.length;)t[r](o(r)),r++}},promiseCallbackInterop:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.length-1;return e=function(t,e,n){return new Promise(function(i,r){var o,s,a,u,l;for(u=function(t,e){return t?r(t):i(e)},o=[],s=a=0,l=Math.max(n.length,e)+1;0<=l?a<l:a>l;s=0<=l?++a:--a)o.push(s===e?u:n[s]);return t.apply(this,o)})},function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];if("function"==typeof r[n])return t.apply(null,r);if("function"==typeof Promise)return e(t,n,r);throw new Error("To be able to use this asynchronous method you should:\nSupply a callback function as argument #".concat(1+n,".\nThis callback function will be called with the method call response.\nAlternatively, when supported, it can return a Promise if no callback function is given."))}}},sn=f("unscopables"),an=Array.prototype;null==an[sn]&&I(an,sn,{});var un=function(t){an[sn][t]=!0},ln=function(t,e){return{value:e,done:!!t}},cn=Object.keys||function(t){return pe(t,de)},hn=b?Object.defineProperties:function(t,e){y(t);for(var n,i=cn(e),r=i.length,o=0;r>o;)T.f(t,n=i[o++],e[n]);return t},fn=ce("IE_PROTO"),pn=function(){},dn=function(){var t,e=x("iframe"),n=de.length;for(e.style.display="none",tt.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),dn=t.F;n--;)delete dn.prototype[de[n]];return dn()},gn=Object.create||function(t,e){var n;return null!==t?(pn.prototype=y(t),n=new pn,pn.prototype=null,n[fn]=t):n=dn(),void 0===e?n:hn(n,e)},vn={};I(vn,f("iterator"),function(){return this});var yn=function(t,e,n){t.prototype=gn(vn,{next:P(1,n)}),kt(t,e+" Iterator")},mn=ce("IE_PROTO"),bn=Object.prototype,_n=Object.getPrototypeOf||function(t){return t=Me(t),O(t,mn)?t[mn]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?bn:null},wn=f("iterator"),xn=!([].keys&&"next"in[].keys()),kn=function(){return this},Sn=function(t,e,n,i,r,o,s){yn(n,e,i);var a,u,l,c=function(t){if(!xn&&t in d)return d[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},h=e+" Iterator",f="values"==r,p=!1,d=t.prototype,g=d[wn]||d["@@iterator"]||r&&d[r],v=g||c(r),y=r?f?c("entries"):v:void 0,m="Array"==e&&d.entries||g;if(m&&(l=_n(m.call(new t)))!==Object.prototype&&l.next&&(kt(l,h,!0),"function"!=typeof l[wn]&&I(l,wn,kn)),f&&g&&"values"!==g.name&&(p=!0,v=function(){return g.call(this)}),(xn||p||!d[wn])&&I(d,wn,v),F[e]=v,F[h]=kn,r)if(a={values:f?v:c("values"),keys:o?v:c("keys"),entries:y},s)for(u in a)u in d||L(d,u,a[u]);else D(D.P+D.F*(xn||p),e,a);return a}(Array,"Array",function(t,e){this._t=ee(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,ln(1)):ln(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");F.Arguments=F.Array,un("keys"),un("values"),un("entries");for(var En=f("iterator"),Tn=f("toStringTag"),Pn=F.Array,In={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},An=cn(In),On=0;On<An.length;On++){var Cn,Ln=An[On],Rn=In[Ln],Mn=n[Ln],jn=Mn&&Mn.prototype;if(jn&&(jn[En]||I(jn,En,Pn),jn[Tn]||I(jn,Tn,Ln),F[Ln]=Pn,Rn))for(Cn in Sn)jn[Cn]||L(jn,Cn,Sn[Cn],!0)}function Nn(t){this.wrapped=t}function Dn(t){var e,n;function i(e,n){try{var o=t[e](n),s=o.value,a=s instanceof Nn;Promise.resolve(a?s.wrapped:s).then(function(t){a?i("next",t):r(o.done?"return":"normal",t)},function(t){i("throw",t)})}catch(t){r("throw",t)}}function r(t,r){switch(t){case"return":e.resolve({value:r,done:!0});break;case"throw":e.reject(r);break;default:e.resolve({value:r,done:!1})}(e=e.next)?i(e.key,e.arg):n=null}this._invoke=function(t,r){return new Promise(function(o,s){var a={key:t,arg:r,resolve:o,reject:s,next:null};n?n=n.next=a:(e=n=a,i(t,r))})},"function"!=typeof t.return&&(this.return=void 0)}function zn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Un(t,e,n){return e&&Fn(t.prototype,e),n&&Fn(t,n),t}"function"==typeof Symbol&&Symbol.asyncIterator&&(Dn.prototype[Symbol.asyncIterator]=function(){return this}),Dn.prototype.next=function(t){return this._invoke("next",t)},Dn.prototype.throw=function(t){return this._invoke("throw",t)},Dn.prototype.return=function(t){return this._invoke("return",t)};var Bn,Vn,Hn=e(function(t){var e=function(){};e.prototype={bind:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},unbind:function(t,e){this._events=this._events||{},t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(e),1)},trigger:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},e.mixin=function(t){for(var n=["bind","unbind","trigger"],i=0;i<n.length;i++)t.prototype[n[i]]=e.prototype[n[i]]},"exports"in t&&(t.exports=e)}),qn=[].indexOf;Vn=Hn,Bn=Bn=function(){var t=function(){function t(){zn(this,t),this.attrs={}}return Un(t,[{key:"set",value:function(){var t,e,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(e in t={},i)n=i[e],qn.call(this.keys,e)>=0&&(this.attrs[e]=n,t[e]=n);this.trigger("change",t)}},{key:"get",value:function(t){return this.attrs[t]}}]),t}();return t.prototype.keys=["appVersion","appKey","appSecret","authToken","eventTracker","locale","coreSessionToken","coreSessionClientId","coreUrl","graphUrl","eventsTrackUrl","eventsPulseUrl","assetsFileUploadUrl"],t}.call(t),Vn.mixin(Bn);var Wn,Xn,$n=Bn,Gn=e(function(e,n){var i,r;i=t,r=function(t){var e=Object.prototype.toString,n=Array.isArray||function(t){return"[object Array]"===e.call(t)};function i(t){return"function"==typeof t}function r(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(t,e){return null!=t&&"object"==typeof t&&e in t}var s=RegExp.prototype.test,a=/\S/;function u(t){return!function(t,e){return s.call(t,e)}(a,t)}var l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},c=/\s*/,h=/\s+/,f=/\s*=/,p=/\s*\}/,d=/#|\^|\/|>|\{|&|=|!/;function g(t){this.string=t,this.tail=t,this.pos=0}function v(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function y(){this.cache={}}g.prototype.eos=function(){return""===this.tail},g.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},g.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=e.length,e},v.prototype.push=function(t){return new v(t,this)},v.prototype.lookup=function(t){var e,n,r,s=this.cache;if(s.hasOwnProperty(t))e=s[t];else{for(var a,u,l,c=this,h=!1;c;){if(t.indexOf(".")>0)for(a=c.view,u=t.split("."),l=0;null!=a&&l<u.length;)l===u.length-1&&(h=o(a,u[l])||(n=a,r=u[l],null!=n&&"object"!=typeof n&&n.hasOwnProperty&&n.hasOwnProperty(r))),a=a[u[l++]];else a=c.view[t],h=o(c.view,t);if(h){e=a;break}c=c.parent}s[t]=e}return i(e)&&(e=e.call(this.view)),e},y.prototype.clearCache=function(){this.cache={}},y.prototype.parse=function(e,i){var o=this.cache,s=e+":"+(i||t.tags).join(":"),a=o[s];return null==a&&(a=o[s]=function(e,i){if(!e)return[];var o,s,a,l=[],v=[],y=[],m=!1,b=!1;function _(){if(m&&!b)for(;y.length;)delete v[y.pop()];else y=[];m=!1,b=!1}function w(t){if("string"==typeof t&&(t=t.split(h,2)),!n(t)||2!==t.length)throw new Error("Invalid tags: "+t);o=new RegExp(r(t[0])+"\\s*"),s=new RegExp("\\s*"+r(t[1])),a=new RegExp("\\s*"+r("}"+t[1]))}w(i||t.tags);for(var x,k,S,E,T,P,I=new g(e);!I.eos();){if(x=I.pos,S=I.scanUntil(o))for(var A=0,O=S.length;A<O;++A)u(E=S.charAt(A))?y.push(v.length):b=!0,v.push(["text",E,x,x+1]),x+=1,"\n"===E&&_();if(!I.scan(o))break;if(m=!0,k=I.scan(d)||"name",I.scan(c),"="===k?(S=I.scanUntil(f),I.scan(f),I.scanUntil(s)):"{"===k?(S=I.scanUntil(a),I.scan(p),I.scanUntil(s),k="&"):S=I.scanUntil(s),!I.scan(s))throw new Error("Unclosed tag at "+I.pos);if(T=[k,S,x,I.pos],v.push(T),"#"===k||"^"===k)l.push(T);else if("/"===k){if(!(P=l.pop()))throw new Error('Unopened section "'+S+'" at '+x);if(P[1]!==S)throw new Error('Unclosed section "'+P[1]+'" at '+x)}else"name"===k||"{"===k||"&"===k?b=!0:"="===k&&w(S)}if(P=l.pop())throw new Error('Unclosed section "'+P[1]+'" at '+I.pos);return function(t){for(var e,n=[],i=n,r=[],o=0,s=t.length;o<s;++o)switch((e=t[o])[0]){case"#":case"^":i.push(e),r.push(e),i=e[4]=[];break;case"/":r.pop()[5]=e[2],i=r.length>0?r[r.length-1][4]:n;break;default:i.push(e)}return n}(function(t){for(var e,n,i=[],r=0,o=t.length;r<o;++r)(e=t[r])&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(i.push(e),n=e));return i}(v))}(e,i)),a},y.prototype.render=function(t,e,n,i){var r=this.parse(t,i),o=e instanceof v?e:new v(e);return this.renderTokens(r,o,n,t,i)},y.prototype.renderTokens=function(t,e,n,i,r){for(var o,s,a,u="",l=0,c=t.length;l<c;++l)a=void 0,"#"===(s=(o=t[l])[0])?a=this.renderSection(o,e,n,i):"^"===s?a=this.renderInverted(o,e,n,i):">"===s?a=this.renderPartial(o,e,n,r):"&"===s?a=this.unescapedValue(o,e):"name"===s?a=this.escapedValue(o,e):"text"===s&&(a=this.rawValue(o)),void 0!==a&&(u+=a);return u},y.prototype.renderSection=function(t,e,r,o){var s=this,a="",u=e.lookup(t[1]);if(u){if(n(u))for(var l=0,c=u.length;l<c;++l)a+=this.renderTokens(t[4],e.push(u[l]),r,o);else if("object"==typeof u||"string"==typeof u||"number"==typeof u)a+=this.renderTokens(t[4],e.push(u),r,o);else if(i(u)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");null!=(u=u.call(e.view,o.slice(t[3],t[5]),function(t){return s.render(t,e,r)}))&&(a+=u)}else a+=this.renderTokens(t[4],e,r,o);return a}},y.prototype.renderInverted=function(t,e,i,r){var o=e.lookup(t[1]);if(!o||n(o)&&0===o.length)return this.renderTokens(t[4],e,i,r)},y.prototype.renderPartial=function(t,e,n,r){if(n){var o=i(n)?n(t[1]):n[t[1]];return null!=o?this.renderTokens(this.parse(o,r),e,n,o):void 0}},y.prototype.unescapedValue=function(t,e){var n=e.lookup(t[1]);if(null!=n)return n},y.prototype.escapedValue=function(e,n){var i=n.lookup(e[1]);if(null!=i)return t.escape(i)},y.prototype.rawValue=function(t){return t[1]},t.name="mustache.js",t.version="3.0.1",t.tags=["{{","}}"];var m=new y;return t.clearCache=function(){return m.clearCache()},t.parse=function(t,e){return m.parse(t,e)},t.render=function(t,e,i,r){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+(n(o=t)?"array":typeof o)+'" was given as the first argument for mustache#render(template, view, partials)');var o;return m.render(t,e,i,r)},t.to_html=function(e,n,r,o){var s=t.render(e,n,r);if(!i(o))return s;o(s)},t.escape=function(t){return String(t).replace(/[&<>"'`=\/]/g,function(t){return l[t]})},t.Scanner=g,t.Context=v,t.Writer=y,t},n&&"string"!=typeof n.nodeName?r(n):(i.Mustache={},r(i.Mustache))});Wn=Gn,Xn={"paged_publication.hotspot_picker.header":"Which offer did you mean?","incito_publication.product_picker.header":"Which product?"};var Yn,Kn,Zn,Jn={t:function(t,e){var n,i;return i=null!=(n=Xn[t])?n:"",Wn.render(i,e)},update:function(t){var e,n;for(e in t)n=t[e],Xn[e]=n}};Kn=Jn,Zn=on,(Yn=new $n).set({locale:"en_US",coreUrl:"https://api.etilbudsavis.dk",graphUrl:"https://graph.service.shopgun.com",eventsTrackUrl:"https://events.service.shopgun.com/sync",eventsPulseUrl:"wss://events.service.shopgun.com/pulse",assetsFileUploadUrl:"https://assets.service.shopgun.com/upload"});var Qn={config:Yn,translations:Kn,util:Zn},ti=Qn;var ei={key:"sgn-",storage:function(){var t;try{return(t=window.localStorage)["".concat("sgn-","test-storage")]="foobar",delete t["".concat("sgn-","test-storage")],t}catch(t){return{}}}(),get:function(t){try{return JSON.parse(this.storage["".concat("sgn-").concat(t)])}catch(t){}},set:function(t,e){try{this.storage["".concat("sgn-").concat(t)]=JSON.stringify(e)}catch(t){}return this}};var ni,ii={key:"sgn-",storage:function(){var t;try{return(t=window.sessionStorage)["".concat("sgn-","test-storage")]="foobar",delete t["".concat("sgn-","test-storage")],t}catch(t){return{}}}(),get:function(t){try{return JSON.parse(this.storage["".concat("sgn-").concat(t)])}catch(t){}},set:function(t,e){try{this.storage["".concat("sgn-").concat(t)]=JSON.stringify(e)}catch(t){}return this}},ri=Math.min,oi=[].push,si=!m(function(){RegExp(4294967295,"y")});Ge("split",2,function(t,e,n,i){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!me(t))return n.call(i,t,e);for(var r,o,s,a=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),l=0,c=void 0===e?4294967295:e>>>0,h=new RegExp(t.source,u+"g");(r=qe.call(h,i))&&!((o=h.lastIndex)>l&&(a.push(i.slice(l,r.index)),r.length>1&&r.index<i.length&&oi.apply(a,r.slice(1)),s=r[0].length,l=o,a.length>=c));)h.lastIndex===r.index&&h.lastIndex++;return l===i.length?!s&&h.test("")||a.push(""):a.push(i.slice(l)),a.length>c?a.slice(0,c):a}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,i){var o=t(this),s=null==n?void 0:n[e];return void 0!==s?s.call(n,o,i):r.call(String(o),n,i)},function(t,e){var o=i(r,t,this,e,r!==n);if(o.done)return o.value;var s=y(t),a=String(this),u=J(s,RegExp),l=s.unicode,c=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(si?"y":"g"),h=new u(si?s:"^(?:"+s.source+")",c),f=void 0===e?4294967295:e>>>0;if(0===f)return[];if(0===a.length)return null===ze(h,a)?[a]:[];for(var p=0,d=0,g=[];d<a.length;){h.lastIndex=si?d:0;var v,m=ze(h,si?a:a.slice(d));if(null===m||(v=ri($(h.lastIndex+(si?0:d)),a.length))===p)d=Ne(a,d,l);else{if(g.push(a.slice(p,d)),g.length===f)return g;for(var b=1;b<=m.length-1;b++)if(g.push(m[b]),g.length===f)return g;d=p=v}}return g.push(a.slice(p)),g}]}),ni=ti;var ai,ui={get:function(t){var e,n,i,r,o,s;if(!ni.util.isNode()){try{for(o="".concat("sgn-").concat(t,"="),e=document.cookie.split(";"),i=0,r=e.length;i<r;i++)0===(n=e[i].trim()).indexOf(o)&&(s=n.substring(o.length,n.length));s=JSON.parse(s)}catch(t){t,s={}}return s}},set:function(t,e){var n,i;if(!ni.util.isNode())try{365,n=new Date,i=JSON.stringify(e),n.setTime(n.getTime()+31536e6),document.cookie="".concat("sgn-").concat(t,"=").concat(i,";expires=").concat(n.toUTCString(),";path=/")}catch(t){t}}};ai=ti;var li={fileUpload:function(){var t,e,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;if(null==i.file)throw new Error("File is not defined");n=ai.config.get("assetsFileUploadUrl"),t=new FormData,e=new XMLHttpRequest,t.append("file",i.file),e.onload=function(){200===e.status?r(null,JSON.parse(e.response)):r(ai.util.error(new Error("Request error"),{code:"RequestError",statusCode:data.statusCode}))},e.upload.onprogress=function(t){"function"==typeof o&&t.lengthComputable&&o({progress:t.loaded/t.total,loaded:t.loaded,total:t.total})},e.open("post",n),e.timeout=36e5,e.setRequestHeader("Accept","application/json"),e.send(t)}},ci={f:Object.getOwnPropertySymbols},hi=Object.assign,fi=!hi||m(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=hi({},t)[n]||Object.keys(hi({},e)).join("")!=i})?function(t,e){for(var n=Me(t),i=arguments.length,r=1,o=ci.f,s=Jt.f;i>r;)for(var a,u=Qt(arguments[r++]),l=o?cn(u).concat(o(u)):cn(u),c=l.length,h=0;c>h;)s.call(u,a=l[h++])&&(n[a]=u[a]);return n}:hi;D(D.S+D.F,"Object",{assign:fi});var pi=e(function(e,n){var i=function(t){function e(){this.fetch=!1}return e.prototype=t,new e}("undefined"!=typeof self?self:t);!function(t){!function(e){var n={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(n.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=ArrayBuffer.isView||function(t){return t&&i.indexOf(Object.prototype.toString.call(t))>-1};function o(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function s(t){return"string"!=typeof t&&(t=String(t)),t}function a(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n.iterable&&(e[Symbol.iterator]=function(){return e}),e}function u(t){this.map={},t instanceof u?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function l(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function c(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function h(t){var e=new FileReader,n=c(e);return e.readAsArrayBuffer(t),n}function f(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function p(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:n.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:n.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():n.arrayBuffer&&n.blob&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=f(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||r(t))?this._bodyArrayBuffer=f(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var t=l(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var t,e,n,i=l(this);if(i)return i;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=c(e),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),i=0;i<e.length;i++)n[i]=String.fromCharCode(e[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}u.prototype.append=function(t,e){t=o(t),e=s(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},u.prototype.delete=function(t){delete this.map[o(t)]},u.prototype.get=function(t){return t=o(t),this.has(t)?this.map[t]:null},u.prototype.has=function(t){return this.map.hasOwnProperty(o(t))},u.prototype.set=function(t,e){this.map[o(t)]=s(e)},u.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},u.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),a(t)},u.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),a(t)},u.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),a(t)},n.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var d=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(t,e){var n,i,r=(e=e||{}).body;if(t instanceof g){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new u(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new u(e.headers)),this.method=(n=e.method||this.method||"GET",i=n.toUpperCase(),d.indexOf(i)>-1?i:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function v(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(r))}}),e}function y(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new u(e.headers),this.url=e.url||"",this._initBody(t)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},p.call(g.prototype),p.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},y.error=function(){var t=new y(null,{status:0,statusText:""});return t.type="error",t};var m=[301,302,303,307,308];y.redirect=function(t,e){if(-1===m.indexOf(e))throw new RangeError("Invalid status code");return new y(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function b(t,i){return new Promise(function(r,o){var s=new g(t,i);if(s.signal&&s.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function l(){a.abort()}a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new u,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();e.append(i,r)}}),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;r(new y(i,n))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&n.blob&&(a.responseType="blob"),s.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),s.signal&&(s.signal.addEventListener("abort",l),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",l)}),a.send(void 0===s._bodyInit?null:s._bodyInit)})}b.polyfill=!0,t.fetch||(t.fetch=b,t.Headers=u,t.Request=g,t.Response=y),e.Headers=u,e.Request=g,e.Response=y,e.fetch=b}({})}(i),delete i.fetch.polyfill,(n=i.fetch).default=i.fetch,n.fetch=i.fetch,n.Headers=i.Headers,n.Request=i.Request,n.Response=i.Response,e.exports=n}),di=(pi.fetch,pi.Headers,pi.Request,pi.Response,e(function(t){var e,n;e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,i=0;n<t.length;n++,i+=8)e[i>>>5]|=t[n]<<24-i%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var n=[],i=0;i<t.length;i+=3)for(var r=t[i]<<16|t[i+1]<<8|t[i+2],o=0;o<4;o++)8*i+6*o<=8*t.length?n.push(e.charAt(r>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],i=0,r=0;i<t.length;r=++i%4)0!=r&&n.push((e.indexOf(t.charAt(i-1))&Math.pow(2,-2*r+8)-1)<<2*r|e.indexOf(t.charAt(i))>>>6-2*r);return n}},t.exports=n})),gi={utf8:{stringToBytes:function(t){return gi.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(gi.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}},vi=gi,yi=function(t){return null!=t&&(mi(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&mi(t.slice(0,0))}(t)||!!t._isBuffer)};function mi(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var bi,_i,wi,xi,ki,Si,Ei,Ti,Pi,Ii,Ai=e(function(t){var e,n,i,r,o;e=di,n=vi.utf8,i=yi,r=vi.bin,(o=function(t,s){t.constructor==String?t=s&&"binary"===s.encoding?r.stringToBytes(t):n.stringToBytes(t):i(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||(t=t.toString());for(var a=e.bytesToWords(t),u=8*t.length,l=1732584193,c=-271733879,h=-1732584194,f=271733878,p=0;p<a.length;p++)a[p]=16711935&(a[p]<<8|a[p]>>>24)|4278255360&(a[p]<<24|a[p]>>>8);a[u>>>5]|=128<<u%32,a[14+(u+64>>>9<<4)]=u;var d=o._ff,g=o._gg,v=o._hh,y=o._ii;for(p=0;p<a.length;p+=16){var m=l,b=c,_=h,w=f;l=d(l,c,h,f,a[p+0],7,-680876936),f=d(f,l,c,h,a[p+1],12,-389564586),h=d(h,f,l,c,a[p+2],17,606105819),c=d(c,h,f,l,a[p+3],22,-1044525330),l=d(l,c,h,f,a[p+4],7,-176418897),f=d(f,l,c,h,a[p+5],12,1200080426),h=d(h,f,l,c,a[p+6],17,-1473231341),c=d(c,h,f,l,a[p+7],22,-45705983),l=d(l,c,h,f,a[p+8],7,1770035416),f=d(f,l,c,h,a[p+9],12,-1958414417),h=d(h,f,l,c,a[p+10],17,-42063),c=d(c,h,f,l,a[p+11],22,-1990404162),l=d(l,c,h,f,a[p+12],7,1804603682),f=d(f,l,c,h,a[p+13],12,-40341101),h=d(h,f,l,c,a[p+14],17,-1502002290),l=g(l,c=d(c,h,f,l,a[p+15],22,1236535329),h,f,a[p+1],5,-165796510),f=g(f,l,c,h,a[p+6],9,-1069501632),h=g(h,f,l,c,a[p+11],14,643717713),c=g(c,h,f,l,a[p+0],20,-373897302),l=g(l,c,h,f,a[p+5],5,-701558691),f=g(f,l,c,h,a[p+10],9,38016083),h=g(h,f,l,c,a[p+15],14,-660478335),c=g(c,h,f,l,a[p+4],20,-405537848),l=g(l,c,h,f,a[p+9],5,568446438),f=g(f,l,c,h,a[p+14],9,-1019803690),h=g(h,f,l,c,a[p+3],14,-187363961),c=g(c,h,f,l,a[p+8],20,1163531501),l=g(l,c,h,f,a[p+13],5,-1444681467),f=g(f,l,c,h,a[p+2],9,-51403784),h=g(h,f,l,c,a[p+7],14,1735328473),l=v(l,c=g(c,h,f,l,a[p+12],20,-1926607734),h,f,a[p+5],4,-378558),f=v(f,l,c,h,a[p+8],11,-2022574463),h=v(h,f,l,c,a[p+11],16,1839030562),c=v(c,h,f,l,a[p+14],23,-35309556),l=v(l,c,h,f,a[p+1],4,-1530992060),f=v(f,l,c,h,a[p+4],11,1272893353),h=v(h,f,l,c,a[p+7],16,-155497632),c=v(c,h,f,l,a[p+10],23,-1094730640),l=v(l,c,h,f,a[p+13],4,681279174),f=v(f,l,c,h,a[p+0],11,-358537222),h=v(h,f,l,c,a[p+3],16,-722521979),c=v(c,h,f,l,a[p+6],23,76029189),l=v(l,c,h,f,a[p+9],4,-640364487),f=v(f,l,c,h,a[p+12],11,-421815835),h=v(h,f,l,c,a[p+15],16,530742520),l=y(l,c=v(c,h,f,l,a[p+2],23,-995338651),h,f,a[p+0],6,-198630844),f=y(f,l,c,h,a[p+7],10,1126891415),h=y(h,f,l,c,a[p+14],15,-1416354905),c=y(c,h,f,l,a[p+5],21,-57434055),l=y(l,c,h,f,a[p+12],6,1700485571),f=y(f,l,c,h,a[p+3],10,-1894986606),h=y(h,f,l,c,a[p+10],15,-1051523),c=y(c,h,f,l,a[p+1],21,-2054922799),l=y(l,c,h,f,a[p+8],6,1873313359),f=y(f,l,c,h,a[p+15],10,-30611744),h=y(h,f,l,c,a[p+6],15,-1560198380),c=y(c,h,f,l,a[p+13],21,1309151649),l=y(l,c,h,f,a[p+4],6,-145523070),f=y(f,l,c,h,a[p+11],10,-1120210379),h=y(h,f,l,c,a[p+2],15,718787259),c=y(c,h,f,l,a[p+9],21,-343485551),l=l+m>>>0,c=c+b>>>0,h=h+_>>>0,f=f+w>>>0}return e.endian([l,c,h,f])})._ff=function(t,e,n,i,r,o,s){var a=t+(e&n|~e&i)+(r>>>0)+s;return(a<<o|a>>>32-o)+e},o._gg=function(t,e,n,i,r,o,s){var a=t+(e&i|n&~i)+(r>>>0)+s;return(a<<o|a>>>32-o)+e},o._hh=function(t,e,n,i,r,o,s){var a=t+(e^n^i)+(r>>>0)+s;return(a<<o|a>>>32-o)+e},o._ii=function(t,e,n,i,r,o,s){var a=t+(n^(e|~i))+(r>>>0)+s;return(a<<o|a>>>32-o)+e},o._blocksize=16,o._digestsize=16,t.exports=function(t,n){if(null==t)throw new Error("Illegal argument "+t);var i=e.wordsToBytes(o(t,n));return n&&n.asBytes?i:n&&n.asString?r.bytesToString(i):e.bytesToHex(i)}});Si=pi,Ti=Ai,bi=ti,wi=ei,Pi=(Ei=function(){var t;return t=wi.get("event-tracker-pool"),!1===Array.isArray(t)&&(t=[]),t=t.filter(function(t){return"string"==typeof t._i})})();var Oi,Ci,Li=function(){var t=function(){function t(){var e,n,i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(e in zn(this,t),n=this.defaultOptions)i=n[e],this[e]=r[e]||i;this.location={geohash:null,time:null,country:null},this.dispatching=!1,xi()}return Un(t,[{key:"trackEvent",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if("number"!=typeof t)throw bi.util.error(new Error("Event type is required"));if(null!=this.trackId){if(bi.config.get("appKey")===this.trackId)throw bi.util.error(new Error("Track identifier must not be identical to app key. Go to https://shopgun.com/developers/apps to get a track identifier for your app"));for((new Date).getTime(),e=Object.assign({},n,{_e:t,_v:i,_i:bi.util.uuid(),_t:Math.round((new Date).getTime()/1e3),_a:this.trackId}),null!=this.location.geohash&&(e["l.h"]=this.location.geohash),null!=this.location.time&&(e["l.ht"]=this.location.time),null!=this.location.country&&(e["l.c"]=this.location.country),Pi.push(e);Pi.length>this.poolLimit;)Pi.shift();return xi(),this}}},{key:"setLocation",value:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(t in n)e=n[t],this.location.hasOwnProperty(t)&&(this.location[t]=e);return this}},{key:"trackPagedPublicationOpened",value:function(t,e){return this.trackEvent(1,t,e)}},{key:"trackPagedPublicationPageDisappeared",value:function(t,e){return this.trackEvent(2,t,e)}},{key:"trackOfferOpened",value:function(t,e){return this.trackEvent(3,t,e)}},{key:"trackClientSessionOpened",value:function(t,e){return this.trackEvent(4,t,e)}},{key:"trackSearched",value:function(t,e){return this.trackEvent(5,t,e)}},{key:"trackIncitoPublicationOpened",value:function(t,e){return this.trackEvent(8,t,e)}},{key:"createViewToken",value:function(){for(var t,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t=[bi.client.id].concat(n).join(""),bi.util.btoa(String.fromCharCode.apply(null,Ti(t,{asBytes:!0}).slice(0,8)))}}]),t}();return t.prototype.defaultOptions={trackId:null,poolLimit:1e3},t}.call(t);ki=!1,Ii=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Si(bi.config.get("eventsTrackUrl"),{method:"post",timeout:2e4,headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify({events:t})}).then(function(t){return t.json()})},_i=function(){var t,e;!0!==ki&&0!==Pi.length&&(t=Pi.slice(0,100),e=0,ki=!0,Ii(t).then(function(t){ki=!1,t.events.forEach(function(t){"validation_error"===t.status||"ack"===t.status?Pi=Pi.filter(function(e){return e._i!==t.id}):e++}),Pi.length>=100&&0===e&&xi()}).catch(function(t){throw ki=!1,t}))},xi=bi.util.throttle(_i,4e3),wi.set("event-tracker-pool",[]);try{window.addEventListener("beforeunload",function(t){Pi=Pi.concat(Ei()),wi.set("event-tracker-pool",Pi)},!1)}catch(t){}Oi=Hn,Ci=function(){function t(){zn(this,t),this.destroyed=!1,this.connection=this.connect()}return Un(t,[{key:"destroy",value:function(){return this.destroyed=!0,this.connection.close(),this}},{key:"connect",value:function(){var t;return(t=new WebSocket(SGN.config.get("eventsPulseUrl"))).onopen=this.onOpen.bind(this),t.onmessage=this.onMessage.bind(this),t.onerror=this.onError.bind(this),t.onclose=this.onClose.bind(this),t}},{key:"onOpen",value:function(){this.trigger("open")}},{key:"onMessage",value:function(t){try{this.trigger("event",JSON.parse(t.data))}catch(t){}}},{key:"onError",value:function(){}},{key:"onClose",value:function(){var t=this;!1===this.destroyed&&setTimeout(function(){t.connection=t.connect()},2e3)}}]),t}(),Oi.mixin(Ci);var Ri,Mi,ji,Ni={Tracker:Li,Pulse:Ci};Mi=pi,Ri=ti,ji=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t={},e.map(function(e){var n,i,r;n=(i=e.split("; ")[0].split("="))[0],r=i[1],t[n]=r}),t};var Di,zi,Fi,Ui={request:(0,on.promiseCallbackInterop)(function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;e=Ri.config.get("graphUrl"),Ri.config.get("appKey"),t=Ri.config.get("authToken"),n={method:"post",timeout:12e3,headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify({query:n.query,operationName:n.operationName,variables:n.variables})},Ri.util.isNode()&&null!=t?n.cookies=[{key:"shopgun-auth-token",value:t,url:e}]:Ri.util.isBrowser()&&(n.credentials="include"),Mi(e,n).then(function(t){return t.json().then(function(e){var n,r;return Ri.util.isNode()&&(n=ji(null!=(r=t.headers)?r["set-cookie"]:void 0)["shopgun-auth-token"],Ri.config.get("authToken")!==n&&Ri.config.set("authToken",n)),200!==t.status?i(Ri.util.error(new Error("Graph API error"),{code:"GraphAPIError",statusCode:data.statusCode})):i(null,e)})}).catch(i)},1)};!function(t,e){var n=(a.Object||{})[t]||Object[t],i={};i[t]=e(n),D(D.S+D.F*m(function(){n(1)}),"Object",i)}("keys",function(){return function(t){return cn(Me(t))}}),zi=pi,Di=ti;var Bi,Vi,Hi,qi,Wi,Xi,$i,Gi=(0,on.promiseCallbackInterop)(Fi=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;Di.CoreKit.session.ensure(function(i){var r,o,s,a,u,l,c,h,f,p,d,g,v;return null!=i?e(i):(v=Di.config.get("coreUrl")+(null!=(f=t.url)?f:""),u=null!=(p=t.headers)?p:{},l="boolean"!=typeof t.json||t.json,g=Di.config.get("coreSessionToken"),o=Di.config.get("appVersion"),r=Di.config.get("appSecret"),c=Di.config.get("locale"),h=null!=(d=t.qs)?d:{},a=t.geolocation,s=t.body,u["X-Token"]=g,null!=r&&(u["X-Signature"]=Di.CoreKit.session.sign(r,g)),l&&(u["Content-Type"]="application/json",u.Accept="application/json",s&&(s=JSON.stringify(s))),null!=c&&(h.r_locale=c),null!=o&&(h.api_av=o),null!=a&&(null!=a.latitude&&null==h.r_lat&&(h.r_lat=a.latitude),null!=a.longitude&&null==h.r_lng&&(h.r_lng=a.longitude),null!=a.radius&&null==h.r_radius&&(h.r_radius=a.radius),null!=a.sensor&&null==h.r_sensor&&(h.r_sensor=a.sensor)),Object.keys(h).length&&(v+="?"+Object.keys(h).map(function(t){return Array.isArray(t)?h[t].map(function(e){return"".concat(encodeURIComponent(t),"[]=").concat(encodeURIComponent(e))}).join("&"):"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(h[t]))}).join("&")),zi(v,{method:t.method,body:s,headers:u}).then(function(i){return i.json().then(function(r){var o,s;g=Di.config.get("coreSessionToken"),(s=i.headers.get("x-token"))&&g!==s&&Di.CoreKit.session.saveToken(s),i.status>=200&&i.status<300||304===i.status?e(null,r):!0===n||1101!==(o=null!=r?r.code:void 0)&&1107!==o&&1108!==o?e(Di.util.error(new Error("Core API error"),{code:"CoreAPIError",statusCode:i.status}),r):(Di.config.set({coreSessionToken:void 0}),Fi(t,e,!0))})}).catch(e))})},1),Yi=e(function(e){!function(t){var n={bytesToHex:function(t){return function(t){return t.map(function(t){return e=t.toString(16),n=2,e.length>n?e:Array(n-e.length+1).join("0")+e;var e,n}).join("")}(t)},hexToBytes:function(t){if(t.length%2==1)throw new Error("hexToBytes can't have a string with an odd number of characters.");return 0===t.indexOf("0x")&&(t=t.slice(2)),t.match(/../g).map(function(t){return parseInt(t,16)})}};e.exports?e.exports=n:t.convertHex=n}(t)}),Ki=e(function(e){var n,i;n=t,(i={bytesToString:function(t){return t.map(function(t){return String.fromCharCode(t)}).join("")},stringToBytes:function(t){return t.split("").map(function(t){return t.charCodeAt(0)})}}).UTF8={bytesToString:function(t){return decodeURIComponent(escape(i.bytesToString(t)))},stringToBytes:function(t){return i.stringToBytes(unescape(encodeURIComponent(t)))}},e.exports?e.exports=i:n.convertString=i}),Zi=e(function(e){!function(t){var n={};e.exports?(n.bytesToHex=Yi.bytesToHex,n.convertString=Ki,e.exports=u):(n.bytesToHex=t.convertHex.bytesToHex,n.convertString=t.convertString,t.sha256=u);var i=[];!function(){function t(t){for(var e=Math.sqrt(t),n=2;n<=e;n++)if(!(t%n))return!1;return!0}function e(t){return 4294967296*(t-(0|t))|0}for(var n=2,r=0;r<64;)t(n)&&(i[r]=e(Math.pow(n,1/3)),r++),n++}();var r=function(t){for(var e=[],n=0,i=0;n<t.length;n++,i+=8)e[i>>>5]|=t[n]<<24-i%32;return e},o=function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},s=[],a=function(t,e,n){for(var r=t[0],o=t[1],a=t[2],u=t[3],l=t[4],c=t[5],h=t[6],f=t[7],p=0;p<64;p++){if(p<16)s[p]=0|e[n+p];else{var d=s[p-15],g=(d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3,v=s[p-2],y=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;s[p]=g+s[p-7]+y+s[p-16]}var m=r&o^r&a^o&a,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),_=f+((l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25))+(l&c^~l&h)+i[p]+s[p];f=h,h=c,c=l,l=u+_|0,u=a,a=o,o=r,r=_+(b+m)|0}t[0]=t[0]+r|0,t[1]=t[1]+o|0,t[2]=t[2]+a|0,t[3]=t[3]+u|0,t[4]=t[4]+l|0,t[5]=t[5]+c|0,t[6]=t[6]+h|0,t[7]=t[7]+f|0};function u(t,e){t.constructor===String&&(t=n.convertString.UTF8.stringToBytes(t));var i=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],s=r(t),u=8*t.length;s[u>>5]|=128<<24-u%32,s[15+(u+64>>9<<4)]=u;for(var l=0;l<s.length;l+=16)a(i,s,l);var c=o(i);return e&&e.asBytes?c:e&&e.asString?n.convertString.bytesToString(c):n.bytesToHex(c)}u.x2=function(t,e){return u(u(t,{asBytes:!0}),e)}}(t)});qi=pi,$i=Zi,Bi=ti,Hi=ui,Vi=[],Wi=!1;var Ji,Qi,tr,er,nr,ir,rr,or,sr,ar={request:Gi,session:Xi={ttl:5184e3,saveToken:function(t){if(!t)throw new Error("No token provided for saving");Bi.config.set({coreSessionToken:t}),Xi.saveCookie()},saveClientId:function(t){Bi.config.set({coreSessionClientId:t}),Xi.saveCookie()},saveCookie:function(){Hi.set("session",{token:Bi.config.get("coreSessionToken"),client_id:Bi.config.get("coreSessionClientId")})},create:function(t){var e,n;e=Bi.config.get("appKey"),n=Xi.ttl,qi(Bi.config.get("coreUrl")+"/v2/sessions?api_key=".concat(e,"&token_ttl=").concat(n),{method:"post"}).then(function(e){return e.json().then(function(n){201===e.status?(Xi.saveToken(n.token),Xi.saveClientId(n.client_id),t(null,n)):t(new Error("Could not create session"))})}).catch(function(e){t(e)})},update:function(t){var e,n,i;n={},i=Bi.config.get("coreSessionToken"),e=Bi.config.get("appSecret"),n["X-Token"]=i,null!=e&&(n["X-Signature"]=Xi.sign(e,i)),qi(Bi.config.get("coreUrl")+"/v2/sessions",{method:"put",headers:n}).then(function(e){return e.json().then(function(n){200===e.status?(Xi.saveToken(n.token),Xi.saveClientId(n.client_id),t(null,n)):t(new Error("Could not update session"))})}).catch(function(e){t(e)})},renew:function(t){var e,n,i;n={},i=Bi.config.get("coreSessionToken"),e=Bi.config.get("appSecret"),n["X-Token"]=i,e&&(n["X-Signature"]=Xi.sign(e,i)),qi(Bi.config.get("coreUrl")+"/v2/sessions",{method:"put",headers:n}).then(function(e){return e.json().then(function(n){200===e.status?(Xi.saveToken(n.token),Xi.saveClientId(n.client_id),t(null,n)):t(new Error("Could not renew session"))})}).catch(function(e){t(e)})},ensure:function(t){var e,n;n=Vi.length,e=function(t){Vi=Vi.filter(function(e){return e(t),!1})},Vi.push(t),0===n&&(null==Bi.config.get("coreSessionToken")?Xi.create(e):!1===Wi?(Wi=!0,Xi.renew(function(t){null!=t?Xi.create(e):e()})):e())},sign:function(t,e){return $i([t,e].join(""))}}},ur=Array.isArray||function(t){return"Array"==s(t)},lr=f("species"),cr=(tr=1==(Ji=5),er=2==Ji,nr=3==Ji,ir=4==Ji,rr=6==Ji,or=5==Ji||rr,sr=Qi||function(t,e){return new(function(t){var e;return ur(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!ur(e.prototype)||(e=void 0),v(e)&&null===(e=e[lr])&&(e=void 0)),void 0===e?Array:e}(t))(e)},function(t,e,n){for(var i,o,s=Me(t),a=Qt(s),u=r(e,n,3),l=$(a.length),c=0,h=tr?sr(t,l):er?sr(t,0):void 0;l>c;c++)if((or||c in a)&&(o=u(i=a[c],c,s),Ji))if(tr)h[c]=o;else if(o)switch(Ji){case 3:return!0;case 5:return i;case 6:return c;case 2:h.push(i)}else if(ir)return!1;return rr?-1:nr||ir?ir:h}),hr=!0;"find"in[]&&Array(1).find(function(){hr=!1}),D(D.P+D.F*hr,"Array",{find:function(t){return cr(this,t,arguments.length>1?arguments[1]:void 0)}}),un("find");var fr,pr,dr,gr,vr,yr,mr,br,_r,wr,xr,kr,Sr=e(function(t,e){var n;n=function(){var t=function(t){return"object"==typeof t?null!==t:"function"==typeof t},e={}.toString,n=function(t){return e.call(t).slice(8,-1)};function i(t,e){return t(e={exports:{}},e.exports),e.exports}var r,o,s,a=i(function(t){var e=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=e)}),u=(a.version,i(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)})),l=i(function(t){var e=u["__core-js_shared__"]||(u["__core-js_shared__"]={});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:a.version,mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})}),c=0,h=Math.random(),f=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++c+h).toString(36))},p=i(function(t){var e=l("wks"),n=u.Symbol,i="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=i&&n[t]||(i?n:f)("Symbol."+t))}).store=e}),d=p("match"),g=function(e){if(!t(e))throw TypeError(e+" is not an object!");return e},v=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},y=p("species"),m=Math.ceil,b=Math.floor,_=function(t){return isNaN(t=+t)?0:(t>0?b:m)(t)},w=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},x=(r=!0,function(t,e){var n,i,o=String(w(t)),s=_(e),a=o.length;return s<0||s>=a?r?"":void 0:(n=o.charCodeAt(s))<55296||n>56319||s+1===a||(i=o.charCodeAt(s+1))<56320||i>57343?r?o.charAt(s):n:r?o.slice(s,s+2):i-56320+(n-55296<<10)+65536}),k=function(t,e,n){return e+(n?x(t,e).length:1)},S=Math.min,E=function(t){return t>0?S(_(t),9007199254740991):0},T=p("toStringTag"),P="Arguments"==n(function(){return arguments}()),I=function(t){var e,i,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),T))?i:P?n(e):"Object"==(r=n(e))&&"function"==typeof e.callee?"Arguments":r},A=RegExp.prototype.exec,O=function(t,e){var n=t.exec;if("function"==typeof n){var i=n.call(t,e);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==I(t))throw new TypeError("RegExp#exec called on incompatible receiver");return A.call(t,e)},C=RegExp.prototype.exec,L=String.prototype.replace,R=C,M=(o=/a/,s=/b*/g,C.call(o,"a"),C.call(s,"a"),0!==o.lastIndex||0!==s.lastIndex),j=void 0!==/()??/.exec("")[1];(M||j)&&(R=function(t){var e,n,i,r,o=this;return j&&(n=new RegExp("^"+o.source+"$(?!\\s)",function(){var t=g(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}.call(o))),M&&(e=o.lastIndex),i=C.call(o,t),M&&i&&(o.lastIndex=o.global?i.index+i[0].length:e),j&&i&&i.length>1&&L.call(i[0],n,function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)}),i});var N=R,D=function(t){try{return!!t()}catch(t){return!0}},z=!D(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),F=u.document,U=t(F)&&t(F.createElement),B=function(t){return U?F.createElement(t):{}},V=!z&&!D(function(){return 7!=Object.defineProperty(B("div"),"a",{get:function(){return 7}}).a}),H=Object.defineProperty,q={f:z?Object.defineProperty:function(e,n,i){if(g(e),n=function(e,n){if(!t(e))return e;var i,r;if(n&&"function"==typeof(i=e.toString)&&!t(r=i.call(e)))return r;if("function"==typeof(i=e.valueOf)&&!t(r=i.call(e)))return r;if(!n&&"function"==typeof(i=e.toString)&&!t(r=i.call(e)))return r;throw TypeError("Can't convert object to primitive value")}(n,!0),g(i),V)try{return H(e,n,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[n]=i.value),e}},W=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},X=z?function(t,e,n){return q.f(t,e,W(1,n))}:function(t,e,n){return t[e]=n,t},$={}.hasOwnProperty,G=function(t,e){return $.call(t,e)},Y=l("native-function-to-string",Function.toString),K=i(function(t){var e=f("src"),n=(""+Y).split("toString");a.inspectSource=function(t){return Y.call(t)},(t.exports=function(t,i,r,o){var s="function"==typeof r;s&&(G(r,"name")||X(r,"name",i)),t[i]!==r&&(s&&(G(r,e)||X(r,e,t[i]?""+t[i]:n.join(String(i)))),t===u?t[i]=r:o?t[i]?t[i]=r:X(t,i,r):(delete t[i],X(t,i,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||Y.call(this)})}),Z=function(t,e,n){if(v(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}},J=function(t,e,n){var i,r,o,s,l=t&J.F,c=t&J.G,h=t&J.S,f=t&J.P,p=t&J.B,d=c?u:h?u[e]||(u[e]={}):(u[e]||{}).prototype,g=c?a:a[e]||(a[e]={}),v=g.prototype||(g.prototype={});for(i in c&&(n=e),n)o=((r=!l&&d&&void 0!==d[i])?d:n)[i],s=p&&r?Z(o,u):f&&"function"==typeof o?Z(Function.call,o):o,d&&K(d,i,o,t&J.U),g[i]!=o&&X(g,i,s),f&&v[i]!=o&&(v[i]=o)};u.core=a,J.F=1,J.G=2,J.S=4,J.P=8,J.B=16,J.W=32,J.U=64,J.R=128;var Q=J;Q({target:"RegExp",proto:!0,forced:N!==/./.exec},{exec:N});var tt=p("species"),et=!D(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),nt=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}(),it=function(t,e,n){var i=p(t),r=!D(function(){var e={};return e[i]=function(){return 7},7!=""[t](e)}),o=r?!D(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[tt]=function(){return n}),n[i](""),!e}):void 0;if(!r||!o||"replace"===t&&!et||"split"===t&&!nt){var s=/./[i],a=n(w,i,""[t],function(t,e,n,i,o){return e.exec===N?r&&!o?{done:!0,value:s.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}),u=a[0],l=a[1];K(String.prototype,t,u),X(RegExp.prototype,i,2==e?function(t,e){return l.call(t,this,e)}:function(t){return l.call(t,this)})}},rt=Math.min,ot=[].push,st=!D(function(){});function at(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ut(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function lt(t,e,n){return e&&ut(t.prototype,e),n&&ut(t,n),t}function ct(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}it("split",2,function(e,i,r,o){var s;return s="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,i){var o,s,a=String(this);if(void 0===e&&0===i)return[];if(!t(o=e)||(void 0!==(s=o[d])?!s:"RegExp"!=n(o)))return r.call(a,e,i);for(var u,l,c,h=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,g=void 0===i?4294967295:i>>>0,v=new RegExp(e.source,f+"g");(u=N.call(v,a))&&!((l=v.lastIndex)>p&&(h.push(a.slice(p,u.index)),u.length>1&&u.index<a.length&&ot.apply(h,u.slice(1)),c=u[0].length,p=l,h.length>=g));)v.lastIndex===u.index&&v.lastIndex++;return p===a.length?!c&&v.test("")||h.push(""):h.push(a.slice(p)),h.length>g?h.slice(0,g):h}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:r.call(this,t,e)}:r,[function(t,n){var r=e(this),o=null==t?void 0:t[i];return void 0!==o?o.call(t,r,n):s.call(String(r),t,n)},function(t,e){var n=o(s,t,this,e,s!==r);if(n.done)return n.value;var i=g(t),a=String(this),u=function(t,e){var n,i=g(t).constructor;return void 0===i||null==(n=g(i)[y])?e:v(n)}(i,RegExp),l=i.unicode,c=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(st?"y":"g"),h=new u(st?i:"^(?:"+i.source+")",c),f=void 0===e?4294967295:e>>>0;if(0===f)return[];if(0===a.length)return null===O(h,a)?[a]:[];for(var p=0,d=0,m=[];d<a.length;){h.lastIndex=st?d:0;var b,_=O(h,st?a:a.slice(d));if(null===_||(b=rt(E(h.lastIndex+(st?0:d)),a.length))===p)d=k(a,d,l);else{if(m.push(a.slice(p,d)),m.length===f)return m;for(var w=1;w<=_.length-1;w++)if(m.push(_[w]),m.length===f)return m;d=p=b}}return m.push(a.slice(p)),m}]});var ht=p("unscopables"),ft=Array.prototype;null==ft[ht]&&X(ft,ht,{});var pt,dt=function(t){ft[ht][t]=!0},gt=function(t,e){return{value:e,done:!!t}},vt={},yt=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)},mt=function(t){return yt(w(t))},bt=Math.max,_t=Math.min,wt=l("keys"),xt=function(t){return wt[t]||(wt[t]=f(t))},kt=(pt=!1,function(t,e,n){var i,r=mt(t),o=E(r.length),s=function(t,e){return(t=_(t))<0?bt(t+e,0):_t(t,e)}(n,o);if(pt&&e!=e){for(;o>s;)if((i=r[s++])!=i)return!0}else for(;o>s;s++)if((pt||s in r)&&r[s]===e)return pt||s||0;return!pt&&-1}),St=xt("IE_PROTO"),Et="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),Tt=Object.keys||function(t){return function(t,e){var n,i=mt(t),r=0,o=[];for(n in i)n!=St&&G(i,n)&&o.push(n);for(;e.length>r;)G(i,n=e[r++])&&(~kt(o,n)||o.push(n));return o}(t,Et)},Pt=z?Object.defineProperties:function(t,e){g(t);for(var n,i=Tt(e),r=i.length,o=0;r>o;)q.f(t,n=i[o++],e[n]);return t},It=u.document,At=It&&It.documentElement,Ot=xt("IE_PROTO"),Ct=function(){},Lt=function(){var t,e=B("iframe"),n=Et.length;for(e.style.display="none",At.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),Lt=t.F;n--;)delete Lt.prototype[Et[n]];return Lt()},Rt=Object.create||function(t,e){var n;return null!==t?(Ct.prototype=g(t),n=new Ct,Ct.prototype=null,n[Ot]=t):n=Lt(),void 0===e?n:Pt(n,e)},Mt=q.f,jt=p("toStringTag"),Nt=function(t,e,n){t&&!G(t=n?t:t.prototype,jt)&&Mt(t,jt,{configurable:!0,value:e})},Dt={};X(Dt,p("iterator"),function(){return this});var zt=function(t,e,n){t.prototype=Rt(Dt,{next:W(1,n)}),Nt(t,e+" Iterator")},Ft=function(t){return Object(w(t))},Ut=xt("IE_PROTO"),Bt=Object.prototype,Vt=Object.getPrototypeOf||function(t){return t=Ft(t),G(t,Ut)?t[Ut]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Bt:null},Ht=p("iterator"),qt=!([].keys&&"next"in[].keys()),Wt=function(){return this},Xt=function(t,e,n,i,r,o,s){zt(n,e,i);var a,u,l,c=function(t){if(!qt&&t in d)return d[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},h=e+" Iterator",f="values"==r,p=!1,d=t.prototype,g=d[Ht]||d["@@iterator"]||r&&d[r],v=g||c(r),y=r?f?c("entries"):v:void 0,m="Array"==e&&d.entries||g;if(m&&(l=Vt(m.call(new t)))!==Object.prototype&&l.next&&(Nt(l,h,!0),"function"!=typeof l[Ht]&&X(l,Ht,Wt)),f&&g&&"values"!==g.name&&(p=!0,v=function(){return g.call(this)}),(qt||p||!d[Ht])&&X(d,Ht,v),vt[e]=v,vt[h]=Wt,r)if(a={values:f?v:c("values"),keys:o?v:c("keys"),entries:y},s)for(u in a)u in d||K(d,u,a[u]);else Q(Q.P+Q.F*(qt||p),e,a);return a}(Array,"Array",function(t,e){this._t=mt(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,gt(1)):gt(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");vt.Arguments=vt.Array,dt("keys"),dt("values"),dt("entries");for(var $t=p("iterator"),Gt=p("toStringTag"),Yt=vt.Array,Kt={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Zt=Tt(Kt),Jt=0;Jt<Zt.length;Jt++){var Qt,te=Zt[Jt],ee=Kt[te],ne=u[te],ie=ne&&ne.prototype;if(ie&&(ie[$t]||X(ie,$t,Yt),ie[Gt]||X(ie,Gt,te),vt[te]=Yt,ee))for(Qt in Xt)ie[Qt]||K(ie,Qt,Xt[Qt],!0)}var re={};re[p("toStringTag")]="z",re+""!="[object z]"&&K(Object.prototype,"toString",function(){return"[object "+I(this)+"]"},!0);var oe,se={f:{}.propertyIsEnumerable},ae=se.f,ue=(oe=!0,function(t){for(var e,n=mt(t),i=Tt(n),r=i.length,o=0,s=[];r>o;)ae.call(n,e=i[o++])&&s.push(oe?[e,n[e]]:n[e]);return s});Q(Q.S,"Object",{entries:function(t){return ue(t)}});var le=Array.isArray||function(t){return"Array"==n(t)},ce=p("species"),he=function(e,n){return new(function(e){var n;return le(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!le(n.prototype)||(n=void 0),t(n)&&null===(n=n[ce])&&(n=void 0)),void 0===n?Array:n}(e))(n)},fe=function(t,e){var n=1==t,i=2==t,r=3==t,o=4==t,s=6==t,a=5==t||s,u=e||he;return function(e,l,c){for(var h,f,p=Ft(e),d=yt(p),g=Z(l,c,3),v=E(d.length),y=0,m=n?u(e,v):i?u(e,0):void 0;v>y;y++)if((a||y in d)&&(f=g(h=d[y],y,p),t))if(n)m[y]=f;else if(f)switch(t){case 3:return!0;case 5:return h;case 6:return y;case 2:m.push(h)}else if(o)return!1;return s?-1:r||o?o:m}},pe=fe(6),de="findIndex",ge=!0;de in[]&&Array(1)[de](function(){ge=!1}),Q(Q.P+Q.F*ge,"Array",{findIndex:function(t){return pe(this,t,arguments.length>1?arguments[1]:void 0)}}),dt(de);var ve=Math.max,ye=Math.min,me=Math.floor,be=/\$([$&`']|\d\d?|<[^>]*>)/g,_e=/\$([$&`']|\d\d?)/g;it("replace",2,function(t,e,n,i){return[function(i,r){var o=t(this),s=null==i?void 0:i[e];return void 0!==s?s.call(i,o,r):n.call(String(o),i,r)},function(t,e){var o=i(n,t,this,e);if(o.done)return o.value;var s=g(t),a=String(this),u="function"==typeof e;u||(e=String(e));var l=s.global;if(l){var c=s.unicode;s.lastIndex=0}for(var h=[];;){var f=O(s,a);if(null===f)break;if(h.push(f),!l)break;""===String(f[0])&&(s.lastIndex=k(a,E(s.lastIndex),c))}for(var p,d="",v=0,y=0;y<h.length;y++){f=h[y];for(var m=String(f[0]),b=ve(ye(_(f.index),a.length),0),w=[],x=1;x<f.length;x++)w.push(void 0===(p=f[x])?p:String(p));var S=f.groups;if(u){var T=[m].concat(w,b,a);void 0!==S&&T.push(S);var P=String(e.apply(void 0,T))}else P=r(m,a,b,w,S,e);b>=v&&(d+=a.slice(v,b)+P,v=b+m.length)}return d+a.slice(v)}];function r(t,e,i,r,o,s){var a=i+t.length,u=r.length,l=_e;return void 0!==o&&(o=Ft(o),l=be),n.call(s,l,function(n,s){var l;switch(s.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(a);case"<":l=o[s.slice(1,-1)];break;default:var c=+s;if(0===c)return n;if(c>u){var h=me(c/10);return 0===h?n:h<=u?void 0===r[h-1]?s.charAt(1):r[h-1]+s.charAt(1):n}l=r[c-1]}return void 0===l?"":l})}});var we=fe(5),xe=!0;"find"in[]&&Array(1).find(function(){xe=!1}),Q(Q.P+Q.F*xe,"Array",{find:function(t){return we(this,t,arguments.length>1?arguments[1]:void 0)}}),dt("find");var ke,Se,Ee=[].sort,Te=[1,2,3];Q(Q.P+Q.F*(D(function(){Te.sort(void 0)})||!D(function(){Te.sort(null)})||!((ke=Ee)&&D(function(){Se?ke.call(null,function(){},1):ke.call(null)}))),"Array",{sort:function(t){return void 0===t?Ee.call(Ft(this)):Ee.call(Ft(this),v(t))}});var Pe={f:Object.getOwnPropertySymbols},Ie=Object.assign,Ae=!Ie||D(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=Ie({},t)[n]||Object.keys(Ie({},e)).join("")!=i})?function(t,e){for(var n=Ft(t),i=arguments.length,r=1,o=Pe.f,s=se.f;i>r;)for(var a,u=yt(arguments[r++]),l=o?Tt(u).concat(o(u)):Tt(u),c=l.length,h=0;c>h;)s.call(u,a=l[h++])&&(n[a]=u[a]);return n}:Ie;Q(Q.S+Q.F,"Object",{assign:Ae});var Oe=["","webkit","Moz","MS","ms","o"],Ce="function",Le=Math.round,Re=Math.abs,Me=Date.now;function je(t,e,n){return!!Array.isArray(t)&&(Ne(t,n[e],n),!0)}function Ne(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function De(t,e,n){var i,r=e.prototype;(i=t.prototype=Object.create(r)).constructor=t,i._super=r,n&&Object.assign(i,n)}function ze(t,e){return typeof t==Ce?t.apply(e&&e[0]||void 0,e):t}function Fe(t,e){return void 0===t?e:t}function Ue(t,e,n){qe(e).forEach(function(e){return t.addEventListener(e,n,!1)})}function Be(t,e,n){qe(e).forEach(function(e){return t.removeEventListener(e,n,!1)})}function Ve(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function He(t,e){return t.indexOf(e)>-1}function qe(t){return t.trim().split(/\s+/g)}var We=function(t){return Array.prototype.slice.call(t,0)};function Xe(t,e,n){var i=[],r=[];return t.forEach(function(t,n){var o=e?t[e]:t;r.indexOf(o)<0&&i.push(t),r[n]=o}),n&&i.sort(e?function(t,n){return t[e]>n[e]}:void 0),i}function $e(t,e){var n=e[0].toUpperCase()+e.slice(1);return Oe.find(function(i){return(i?i+n:e)in t})}var Ge=1,Ye=function(){return Ge++};function Ke(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Ze=/mobile|tablet|ip(ad|hone|od)|android/i,Je=function(){return"ontouchstart"in window},Qe=function(){return void 0!==$e(window,"PointerEvent")},tn=function(){return Je()&&Ze.test(navigator.userAgent)},en=25,nn=1,rn=2,on=4,sn=8,an=1,un=2,ln=4,cn=8,hn=16,fn=un|ln,pn=cn|hn,dn=fn|pn,gn=["x","y"],vn=["clientX","clientY"];function yn(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){ze(t.options.enable,[t])&&n.handler(e)},this.init()}function mn(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=e&nn&&i-r==0,s=e&(on|sn)&&i-r==0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=bn(e));r>1&&!n.firstMultiple?n.firstMultiple=bn(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,u=e.center=_n(i);e.timeStamp=Me(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=Sn(a,u),e.distance=kn(a,u),function(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};e.eventType!==nn&&o.eventType!==on||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y});e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}(n,e),e.offsetDirection=xn(e.deltaX,e.deltaY);var l=wn(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=Re(l.x)>Re(l.y)?l.x:l.y,e.scale=s?Tn(s.pointers,i):1,e.rotation=s?En(s.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,i,r,o,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(e.eventType!=sn&&(a>en||void 0===s.velocity)){var u=e.deltaX-s.deltaX,l=e.deltaY-s.deltaY,c=wn(a,u,l);i=c.x,r=c.y,n=Re(c.x)>Re(c.y)?c.x:c.y,o=xn(u,l),t.lastInterval=e}else n=s.velocity,i=s.velocityX,r=s.velocityY,o=s.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=o}(n,e);var c=t.element;Ve(e.srcEvent.target,c)&&(c=e.srcEvent.target);e.target=c}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function bn(t){var e=t.pointers.map(function(t){return{clientX:Le(t.clientX),clientY:Le(t.clientY)}});return{timeStamp:Me(),pointers:e,center:_n(e),deltaX:t.deltaX,deltaY:t.deltaY}}function _n(t){var e=t.length;if(1===e)return{x:Le(t[0].clientX),y:Le(t[0].clientY)};var n=0,i=0;return t.forEach(function(t){var e=t.clientX,r=t.clientY;n+=e,i+=r}),{x:Le(n/e),y:Le(i/e)}}yn.prototype={handler:function(){},init:function(){this.evEl&&Ue(this.element,this.evEl,this.domHandler),this.evTarget&&Ue(this.target,this.evTarget,this.domHandler),this.evWin&&Ue(Ke(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&Be(this.element,this.evEl,this.domHandler),this.evTarget&&Be(this.target,this.evTarget,this.domHandler),this.evWin&&Be(Ke(this.element),this.evWin,this.domHandler)}};var wn=function(t,e,n){return{x:e/t||0,y:n/t||0}};function xn(t,e){return t===e?an:Re(t)>=Re(e)?t<0?un:ln:e<0?cn:hn}var kn=function(t,e){var n=ct(arguments.length>2&&void 0!==arguments[2]?arguments[2]:gn,2),i=n[0],r=n[1];return Math.sqrt(Math.pow(e[i]-t[i],2)+Math.pow(e[r]-t[r],2))},Sn=function(t,e){var n=ct(arguments.length>2&&void 0!==arguments[2]?arguments[2]:gn,2),i=n[0],r=n[1];return 180*Math.atan2(e[r]-t[r],e[i]-t[i])/Math.PI},En=function(t,e){return Sn(e[1],e[0],vn)+Sn(t[1],t[0],vn)},Tn=function(t,e){return kn(e[0],e[1],vn)/kn(t[0],t[1],vn)},Pn={mousedown:nn,mousemove:rn,mouseup:on},In="mousedown",An="mousemove mouseup";function On(){this.evEl=In,this.evWin=An,this.pressed=!1,yn.apply(this,arguments)}De(On,yn,{handler:function(t){var e=Pn[t.type];e&nn&&0===t.button&&(this.pressed=!0),e&rn&&1!==t.which&&(e=on),this.pressed&&(e&on&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var Cn={pointerdown:nn,pointermove:rn,pointerup:on,pointercancel:sn,pointerout:sn},Ln={2:"touch",3:"pen",4:"mouse",5:"kinect"},Rn="pointerdown",Mn="pointermove pointerup pointercancel";function jn(){this.evEl=Rn,this.evWin=Mn,yn.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}"undefined"!=typeof window&&window.MSPointerEvent&&!window.PointerEvent&&(Rn="MSPointerDown",Mn="MSPointerMove MSPointerUp MSPointerCancel"),De(jn,yn,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=Cn[i],o=Ln[t.pointerType]||t.pointerType,s="touch"==o,a=e.findIndex(function(e){return e.pointerId==t.pointerId});r&nn&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):r&(on|sn)&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))}});var Nn={touchstart:nn,touchmove:rn,touchend:on,touchcancel:sn},Dn="touchstart",zn="touchstart touchmove touchend touchcancel";function Fn(){this.evTarget=Dn,this.evWin=zn,this.started=!1,yn.apply(this,arguments)}De(Fn,yn,{handler:function(t){var e=Nn[t.type];if(e===nn&&(this.started=!0),this.started){var n=ct(function(t,e){var n=We(t.touches),i=We(t.changedTouches);e&(on|sn)&&(n=Xe(n.concat(i),"identifier",!0));return[n,i]}(t,e),2),i=n[0],r=n[1];e&(on|sn)&&i.length-r.length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i,changedPointers:r,pointerType:"touch",srcEvent:t})}}});var Un={touchstart:nn,touchmove:rn,touchend:on,touchcancel:sn},Bn="touchstart touchmove touchend touchcancel";function Vn(){this.evTarget=Bn,this.targetIds={},yn.apply(this,arguments)}De(Vn,yn,{handler:function(t){var e=Un[t.type],n=function(t,e){var n=We(t.touches),i=this.targetIds;if(e&(nn|rn)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o=We(t.changedTouches),s=[],a=this.target;r=n.filter(function(t){return Ve(t.target,a)}),e===nn&&r.forEach(function(t){i[t.identifier]=!0});if(o.forEach(function(t,n){i[t.identifier]&&s.push(t),e&(on|sn)&&delete i[t.identifier]}),!s.length)return;return[Xe(r.concat(s),"identifier",!0),s]}.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});var Hn=2500,qn=25;function Wn(){yn.apply(this,arguments);var t=this.handler.bind(this);this.touch=new Vn(this.manager,t),this.mouse=new On(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Xn(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout(function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)},Hn)}}De(Wn,yn,{handler:function(t,e,n){var i="touch"==n.pointerType,r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)(function(t,e){t&nn?(this.primaryTouch=e.changedPointers[0].identifier,Xn.call(this,e)):t&(on|sn)&&Xn.call(this,e)}).call(this,e,n);else if(r&&function(t){var e=t.srcEvent,n=e.clientX,i=e.clientY;return!!this.lastTouches.find(function(t){return Math.abs(n-t.x)<=qn&&Math.abs(i-t.y)<=qn})}.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var $n=function(){return $e(document.createElement("div").style,"touchAction")},Gn=function(){return void 0!==$n()},Yn="auto",Kn="manipulation",Zn="none",Jn="pan-x",Qn="pan-y";function ti(t,e){this.manager=t,this.set(e)}function ei(){if(!Gn())return!1;var t={};return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(e){t[e]=!window.CSS||!window.CSS.supports||window.CSS.supports("touch-action",e)}),t}ti.prototype={set:function(t){"compute"==t&&(t=this.compute());var e=ei();Gn()&&this.manager.element.style&&e[t]&&(this.manager.element.style[$n()]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return this.manager.recognizers.forEach(function(e){ze(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(He(t,Zn))return Zn;var e=He(t,Jn),n=He(t,Qn);return e&&n?Zn:e||n?e?Jn:Qn:He(t,Kn)?Kn:Yn}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,r=ei(),o=He(i,Zn)&&!r[Zn],s=He(i,Qn)&&!r[Qn],a=He(i,Jn)&&!r[Jn];if(o){var u=1===t.pointers.length,l=t.distance<2,c=t.deltaTime<250;if(u&&l&&c)return}if(!a||!s)return o||s&&n&fn||a&&n&pn?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var ni=1,ii=2,ri=4,oi=8,si=oi,ai=16;function ui(t){this.options=Object.assign({},this.defaults,t||{}),this.id=Ye(),this.manager=null,this.options.enable=Fe(this.options.enable,!0),this.state=ni,this.simultaneous={},this.requireFail=[]}function li(t){return t&ai?"cancel":t&oi?"end":t&ri?"move":t&ii?"start":""}function ci(t){return t==hn?"down":t==cn?"up":t==un?"left":t==ln?"right":""}ui.prototype={defaults:{},set:function(t){return Object.assign(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(je(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=hi(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return je(t,"dropRecognizeWith",this)?this:(t=hi(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(je(t,"requireFailure",this))return this;var e=this.requireFail;return t=hi(t,this),-1===e.indexOf(t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(je(t,"dropRequireFailure",this))return this;t=hi(t,this);var e=this.requireFail.indexOf(t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function i(n){e.manager.emit(n,t)}n<oi&&i(e.options.event+li(n)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),n>=oi&&i(e.options.event+li(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|ni)))return!1;t++}return!0},recognize:function(t){var e=Object.assign({},t);if(!ze(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(si|ai|32)&&(this.state=ni),this.state=this.process(e),this.state&(ii|ri|oi|ai)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}};var hi=function(t,e){var n=e.manager;return n?n.get(t):t};function fi(){ui.apply(this,arguments)}function pi(){fi.apply(this,arguments),this.pX=null,this.pY=null}function di(){fi.apply(this,arguments)}function gi(){ui.apply(this,arguments),this._timer=null,this._input=null}function vi(){fi.apply(this,arguments)}function yi(){fi.apply(this,arguments)}function mi(){ui.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function bi(t,e){return(e=e||{}).recognizers=Fe(e.recognizers,bi.defaults.preset),new _i(t,e)}function _i(t,e){var n,i=this;this.options=Object.assign({},bi.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(Qe()?jn:tn()?Vn:Je()?Wn:On))(n,mn),this.touchAction=new ti(this,this.options.touchAction),wi(this,!0),this.options.recognizers&&this.options.recognizers.forEach(function(t){var e=i.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])})}function wi(t,e){var n,i=t.element;i.style&&(Object.entries(t.options.cssProps).forEach(function(r){var o=ct(r,2),s=o[0],a=o[1];n=$e(i.style,a),e?(t.oldCssProps[n]=i.style[n],i.style[n]=s):i.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={}))}De(fi,ui,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(ii|ri),r=this.attrTest(t);return i&&(n&sn||!r)?e|ai:i||r?n&on?e|oi:e&ii?e|ri:ii:32}}),De(pi,fi,{defaults:{event:"pan",threshold:10,pointers:1,direction:dn},getTouchAction:function(){var t=this.options.direction,e=[];return t&fn&&e.push(Qn),t&pn&&e.push(Jn),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(e.direction&fn?(r=0===o?an:o<0?un:ln,n=o!=this.pX,i=Math.abs(t.deltaX)):(r=0===s?an:s<0?cn:hn,n=s!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return fi.prototype.attrTest.call(this,t)&&(this.state&ii||!(this.state&ii)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=ci(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),De(di,fi,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Zn]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&ii)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),De(gi,ui,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Yn]},process:function(t){var e=this,n=this.options,i=t.pointers.length===n.pointers,r=t.distance<n.threshold,o=t.deltaTime>n.time;if(this._input=t,!r||!i||t.eventType&(on|sn)&&!o)this.reset();else if(t.eventType&nn)this.reset(),this._timer=setTimeout(function(){e.state=si,e.tryEmit()},n.time);else if(t.eventType&on)return si;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===si&&(t&&t.eventType&on?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=Me(),this.manager.emit(this.options.event,this._input)))}}),De(vi,fi,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Zn]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&ii)}}),De(yi,fi,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:fn|pn,pointers:1},getTouchAction:function(){return pi.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(fn|pn)?e=t.overallVelocity:n&fn?e=t.overallVelocityX:n&pn&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&Re(e)>this.options.velocity&&t.eventType&on},emit:function(t){var e=ci(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),De(mi,ui,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Kn]},process:function(t){var e=this,n=this.options,i=t.pointers.length===n.pointers,r=t.distance<n.threshold,o=t.deltaTime<n.time;if(this.reset(),t.eventType&nn&&0===this.count)return this.failTimeout();if(r&&o&&i){if(t.eventType!=on)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<n.interval,a=!this.pCenter||kn(this.pCenter,t.center)<n.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t,0===this.count%n.taps)return this.hasRequireFailures()?(this._timer=setTimeout(function(){e.state=si,e.tryEmit()},n.interval),ii):si}return 32},failTimeout:function(){var t=this;return this._timer=setTimeout(function(){t.state=32},this.options.interval),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==si&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),bi.VERSION="2.0.7",bi.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[vi,{enable:!1}],[di,{enable:!1},["rotate"]],[yi,{direction:fn}],[pi,{direction:fn},["swipe"]],[mi],[mi,{event:"doubletap",taps:2},["tap"]],[gi]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},_i.prototype={set:function(t){return Object.assign(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n=this.recognizers,i=e.curRecognizer;(!i||i&&i.state&si)&&(i=e.curRecognizer=null),n.forEach(function(n){2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&n.state&(ii|ri|oi)&&(i=e.curRecognizer=n)})}},get:function(t){return t instanceof ui?t:this.recognizers.find(function(e){return e.options.event==t})||null},add:function(t){if(je(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(je(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers.indexOf(t);-1!==e&&(this.recognizers.splice(e,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var n=this.handlers;return qe(t).forEach(function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(void 0!==t){var n=this.handlers;return qe(t).forEach(function(t){e?n[t]&&n[t].splice(n[t].indexOf(e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=document.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();n&&n.length&&(e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()},n.forEach(function(t){return t(e)}))},destroy:function(){this.element&&wi(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},Object.assign(bi,{INPUT_START:nn,INPUT_MOVE:rn,INPUT_END:on,INPUT_CANCEL:sn,STATE_POSSIBLE:ni,STATE_BEGAN:ii,STATE_CHANGED:ri,STATE_ENDED:oi,STATE_RECOGNIZED:si,STATE_CANCELLED:ai,STATE_FAILED:32,DIRECTION_NONE:an,DIRECTION_LEFT:un,DIRECTION_RIGHT:ln,DIRECTION_UP:cn,DIRECTION_DOWN:hn,DIRECTION_HORIZONTAL:fn,DIRECTION_VERTICAL:pn,DIRECTION_ALL:dn,Manager:_i,Input:yn,TouchAction:ti,TouchInput:Vn,MouseInput:On,PointerEventInput:jn,TouchMouseInput:Wn,SingleTouchInput:Fn,Recognizer:ui,AttrRecognizer:fi,Tap:mi,Pan:pi,Swipe:yi,Pinch:di,Rotate:vi,Press:gi,on:Ue,off:Be,each:Ne,inherit:De,prefixed:$e});var xi,ki,Si,Ei,Ti,Pi=bi,Ii=i(function(t){var e=function(){};e.prototype={bind:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},unbind:function(t,e){this._events=this._events||{},t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(e),1)},trigger:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},e.mixin=function(t){for(var n=["bind","unbind","trigger"],i=0;i<n.length;i++)t.prototype[n[i]]=e.prototype[n[i]]},"exports"in t&&(t.exports=e)});return ki=Pi,Si=Ii,Ei=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};at(this,t),this.el=e,this.options=n,this.visibility="gone",this.positioned=!1,this.active=!1,this.id=this.options.id,this.type=this.options.type,this.pageIds=this.options.pageIds,this.width=this.options.width,this.left=this.options.left,this.maxZoomScale=this.options.maxZoomScale}return lt(t,[{key:"isZoomable",value:function(){return this.getMaxZoomScale()>1&&"false"!==this.getEl().getAttribute("data-zoomable")}},{key:"isScrollable",value:function(){return this.getEl().classList.contains("verso--scrollable")}},{key:"getEl",value:function(){return this.el}},{key:"getOverlayEls",value:function(){return this.getEl().querySelectorAll(".verso__overlay")}},{key:"getPageEls",value:function(){return this.getEl().querySelectorAll(".verso__page")}},{key:"getRect",value:function(){return this.getEl().getBoundingClientRect()}},{key:"getContentRect",value:function(){var t,e,n,i,r,o,s,a,u;for(i={top:null,left:null,right:null,bottom:null,width:null,height:null},t=0,e=(r=this.getPageEls()).length;t<e;t++)((n=r[t].getBoundingClientRect()).top<i.top||null==i.top)&&(i.top=n.top),(n.left<i.left||null==i.left)&&(i.left=n.left),(n.right>i.right||null==i.right)&&(i.right=n.right),(n.bottom>i.bottom||null==i.bottom)&&(i.bottom=n.bottom);return i.top=null!=(o=i.top)?o:0,i.left=null!=(s=i.left)?s:0,i.right=null!=(a=i.right)?a:0,i.bottom=null!=(u=i.bottom)?u:0,i.width=i.right-i.left,i.height=i.bottom-i.top,i}},{key:"getId",value:function(){return this.id}},{key:"getType",value:function(){return this.type}},{key:"getPageIds",value:function(){return this.pageIds}},{key:"getWidth",value:function(){return this.width}},{key:"getLeft",value:function(){return this.left}},{key:"getMaxZoomScale",value:function(){return this.maxZoomScale}},{key:"getVisibility",value:function(){return this.visibility}},{key:"setVisibility",value:function(t){return this.visibility!==t&&(this.getEl().style.display="visible"===t?"block":"none",this.visibility=t),this}},{key:"position",value:function(){return!1===this.positioned&&(this.getEl().style.left="".concat(this.getLeft(),"%"),this.positioned=!0),this}},{key:"activate",value:function(){this.active=!0,this.getEl().setAttribute("data-active",this.active)}},{key:"deactivate",value:function(){this.active=!1,this.getEl().setAttribute("data-active",this.active)}}]),t}(),xi=function(){function t(e){at(this,t),this.el=e,this.run=0}return lt(t,[{key:"animate",value:function(){var t,e,n,i,r,o,s,a,u,l,c,h,f,p=this,d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return h=null!=(n=d.x)?n:0,f=null!=(i=d.y)?i:0,u=null!=(r=d.scale)?r:1,e=null!=(o=d.easing)?o:"ease-out",t=null!=(s=d.duration)?s:0,a=++this.run,l="translateX(".concat(h,") translateY(").concat(f,") scale(").concat(u,")"),this.el.style.transform===l?g():t>0?(c=function(){a===p.run&&(p.el.removeEventListener("transitionend",c),p.el.style.transition="none",g())},this.el.addEventListener("transitionend",c,!1),this.el.style.transition="transform ".concat(e," ").concat(t,"ms"),this.el.style.transform=l):(this.el.style.transition="none",this.el.style.transform=l,g()),this}}]),t}(),Ti=function(){function t(e){var n,i,r,o,s,a,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};at(this,t),this.el=e,this.options=u,this.swipeVelocity=null!=(n=this.options.swipeVelocity)?n:.3,this.swipeThreshold=null!=(i=this.options.swipeThreshold)?i:10,this.navigationDuration=null!=(r=this.options.navigationDuration)?r:240,this.navigationPanDuration=null!=(o=this.options.navigationPanDuration)?o:200,this.zoomDuration=null!=(s=this.options.zoomDuration)?s:200,this.doubleTapDelay=null!=(a=this.options.doubleTapDelay)?a:300,this.position=-1,this.pinching=!1,this.panning=!1,this.transform={left:0,top:0,scale:1},this.startTransform={left:0,top:0,scale:1},this.tap={count:0,delay:this.doubleTapDelay},this.scrollerEl=this.el.querySelector(".verso__scroller"),this.pageSpreadEls=this.el.querySelectorAll(".verso__page-spread"),this.pageSpreads=this.traversePageSpreads(this.pageSpreadEls),this.pageIds=this.buildPageIds(this.pageSpreads),this.animation=new xi(this.scrollerEl),this.hammer=new ki.Manager(this.scrollerEl,{touchAction:"none",enable:!1,inputClass:this.getHammerInputClass()}),this.hammer.add(new ki.Pan({threshold:5,direction:ki.DIRECTION_ALL})),this.hammer.add(new ki.Tap({event:"singletap",interval:0})),this.hammer.add(new ki.Pinch),this.hammer.add(new ki.Press({time:500})),this.hammer.on("panstart",this.onPanStart.bind(this)),this.hammer.on("panmove",this.onPanMove.bind(this)),this.hammer.on("panend",this.onPanEnd.bind(this)),this.hammer.on("pancancel",this.onPanEnd.bind(this)),this.hammer.on("singletap",this.onSingletap.bind(this)),this.hammer.on("pinchstart",this.onPinchStart.bind(this)),this.hammer.on("pinchmove",this.onPinchMove.bind(this)),this.hammer.on("pinchend",this.onPinchEnd.bind(this)),this.hammer.on("pinchcancel",this.onPinchEnd.bind(this)),this.hammer.on("press",this.onPress.bind(this)),this.scrollerEl.addEventListener("contextmenu",this.onContextmenu.bind(this),!1),this.scrollerEl.addEventListener("wheel",this.onWheel.bind(this),!1)}return lt(t,[{key:"start",value:function(){var t,e;return t=null!=(e=this.getPageSpreadPositionFromPageId(this.options.pageId))?e:0,this.hammer.set({enable:!0}),this.navigateTo(t,{duration:0}),this.resizeListener=this.onResize.bind(this),this.touchStartListener=this.onTouchStart.bind(this),this.touchEndListener=this.onTouchEnd.bind(this),this.el.addEventListener("touchstart",this.touchStartListener,!1),this.el.addEventListener("touchend",this.touchEndListener,!1),window.addEventListener("resize",this.resizeListener,!1),this}},{key:"destroy",value:function(){return this.hammer.destroy(),this.el.removeEventListener("touchstart",this.touchStartListener),this.el.removeEventListener("touchend",this.touchEndListener),window.removeEventListener("resize",this.resizeListener),this}},{key:"first",value:function(t){return this.navigateTo(0,t)}},{key:"prev",value:function(t){return this.navigateTo(this.getPosition()-1,t)}},{key:"next",value:function(t){return this.navigateTo(this.getPosition()+1,t)}},{key:"last",value:function(t){return this.navigateTo(this.getPageSpreadCount()-1,t)}},{key:"navigateTo",value:function(t){var e,n,i,r,o,s,a,u,l,c=this,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t<0||t>this.getPageSpreadCount()-1||(r=this.getPosition(),i=this.getPageSpreadFromPosition(r),e=this.getPageSpreadFromPosition(t),n=this.getCarouselFromPageSpread(e),l=null!=(s=h.velocity)?s:1,o=null!=(a=h.duration)?a:this.navigationDuration,o/=Math.abs(l),u=e.isScrollable()?"pan-y":"none",null!=i&&i.deactivate(),e.activate(),n.visible.forEach(function(t){return t.position().setVisibility("visible")}),this.hammer.set({touchAction:u}),this.transform.left=this.getLeftTransformFromPageSpread(t,e),this.setPosition(t),this.transform.scale>1&&(this.transform.top=0,this.transform.scale=1,this.trigger("zoomedOut",{position:r})),this.trigger("beforeNavigation",{currentPosition:r,newPosition:t}),this.animation.animate({x:"".concat(this.transform.left,"%"),duration:o},function(){(n=c.getCarouselFromPageSpread(c.getActivePageSpread())).gone.forEach(function(t){return t.setVisibility("gone")}),c.trigger("afterNavigation",{newPosition:c.getPosition(),previousPosition:r})}))}},{key:"getPosition",value:function(){return this.position}},{key:"setPosition",value:function(t){return this.position=t,this}},{key:"getLeftTransformFromPageSpread",value:function(t,e){var n;return n=0,t===this.getPageSpreadCount()-1?n=100-e.getWidth()-e.getLeft():t>0&&(n=(100-e.getWidth())/2-e.getLeft()),n}},{key:"getCarouselFromPageSpread",value:function(t){var e;return e={visible:[],gone:[]},this.pageSpreads.forEach(function(n){var i;i=!1,n.getLeft()<=t.getLeft()?n.getLeft()+n.getWidth()>t.getLeft()-100&&(i=!0):n.getLeft()-n.getWidth()<t.getLeft()+100&&(i=!0),!0===i?e.visible.push(n):e.gone.push(n)}),e}},{key:"traversePageSpreads",value:function(t){var e,n,i,r,o,s,a,u,l,c,h;for(l=[],r=0,i=0,o=t.length;i<o;i++)n=(e=t[i]).getAttribute("data-id"),c=e.getAttribute("data-type"),a=null!=(a=e.getAttribute("data-page-ids"))?a.split(",").map(function(t){return t}):[],s=null!=(s=e.getAttribute("data-max-zoom-scale"))?+s:1,h=e.getAttribute("data-width"),u=new Ei(e,{id:n,type:c,pageIds:a,maxZoomScale:s,width:h=null!=h?+h:100,left:r}),r+=h,l.push(u);return l}},{key:"buildPageIds",value:function(t){var e;return e={},t.forEach(function(t,n){t.options.pageIds.forEach(function(n){e[n]=t})}),e}},{key:"isCoordinateInsideElement",value:function(t,e,n){var i;return t>=(i=n.getBoundingClientRect()).left&&t<=i.right&&e>=i.top&&e<=i.bottom}},{key:"getCoordinateInfo",value:function(t,e,n){var i,r,o,s,a,u,l,c,h,f;for(r={x:t-=this.el.offsetLeft,y:e-=this.el.offsetTop,contentX:0,contentY:0,pageX:0,pageY:0,overlayEls:[],pageEl:null,isInsideContentX:!1,isInsideContentY:!1,isInsideContent:!1},i=n.getContentRect(),c=n.getOverlayEls(),f=n.getPageEls(),o=0,a=c.length;o<a;o++)l=c[o],this.isCoordinateInsideElement(t,e,l)&&r.overlayEls.push(l);for(s=0,u=f.length;s<u;s++)if(h=f[s],this.isCoordinateInsideElement(t,e,h)){r.pageEl=h;break}return r.contentX=(t-i.left)/Math.max(1,i.width),r.contentY=(e-i.top)/Math.max(1,i.height),null!=r.pageEl&&(r.isInsideContentX=r.contentX>=0&&r.contentX<=1,r.isInsideContentY=r.contentY>=0&&r.contentY<=1,r.isInsideContent=r.isInsideContentX&&r.isInsideContentY),r}},{key:"getPageSpreadCount",value:function(){return this.pageSpreads.length}},{key:"getActivePageSpread",value:function(){return this.getPageSpreadFromPosition(this.getPosition())}},{key:"getPageSpreadFromPosition",value:function(t){return this.pageSpreads[t]}},{key:"getPageSpreadPositionFromPageId",value:function(t){var e,n,i,r;for(e=n=0,i=(r=this.pageSpreads).length;n<i;e=++n)if(r[e].options.pageIds.indexOf(t)>-1)return e}},{key:"getPageSpreadBounds",value:function(t){var e,n;return n=t.getRect(),{left:((e=t.getContentRect()).left-n.left)/n.width*100,top:(e.top-n.top)/n.height*100,width:e.width/n.width*100,height:e.height/n.height*100,pageSpreadRect:n,pageSpreadContentRect:e}}},{key:"clipCoordinate",value:function(t,e,n,i){return n*e<100?t=i*-e+50-n*e/2:(t=Math.min(t,i*-e),t=Math.max(t,i*-e-n*e+100)),t}},{key:"zoomTo",value:function(){var t,e,n,i,r,o,s,a,u,l,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},h=arguments.length>1?arguments[1]:void 0;a=c.scale,i=this.transform.scale,t=this.getActivePageSpread(),r=this.getPageSpreadBounds(t),n=(e=t.getLeft())*i,u=null!=(o=c.x)?o:0,l=null!=(s=c.y)?s:0,1!==a?(u-=r.pageSpreadRect.left,l-=r.pageSpreadRect.top,u=u/(r.pageSpreadRect.width/i)*100,l=l/(r.pageSpreadRect.height/i)*100,u=this.transform.left+n+u-u*a/i,l=this.transform.top+l-l*a/i,!1!==c.bounds&&a>1&&(u=this.clipCoordinate(u,a,r.width,r.left),l=this.clipCoordinate(l,a,r.height,r.top))):(u=0,l=0),u-=e*a,this.transform.left=u,this.transform.top=l,this.transform.scale=a,this.animation.animate({x:"".concat(u,"%"),y:"".concat(l,"%"),scale:a,easing:c.easing,duration:c.duration},h)}},{key:"refresh",value:function(){return this.pageSpreadEls=this.el.querySelectorAll(".verso__page-spread"),this.pageSpreads=this.traversePageSpreads(this.pageSpreadEls),this.pageIds=this.buildPageIds(this.pageSpreads),this}},{key:"getHammerInputClass",value:function(){return"ontouchstart"in window&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent)?ki.TouchInput:null}},{key:"onPanStart",value:function(t){var e,n;(this.transform.scale>1||t.direction===ki.DIRECTION_LEFT||t.direction===ki.DIRECTION_RIGHT)&&(n=t.center.x,30,e=this.scrollerEl.offsetWidth,n>30&&n<e-30&&(this.startTransform.left=this.transform.left,this.startTransform.top=this.transform.top,this.panning=!0,this.trigger("panStart")))}},{key:"onPanMove",value:function(t){var e,n,i,r,o,s;!0!==this.pinching&&!1!==this.panning&&(this.transform.scale>1?(n=(e=this.getActivePageSpread()).getLeft()*this.transform.scale,i=this.getPageSpreadBounds(e),r=this.transform.scale,o=this.startTransform.left+n+t.deltaX/this.scrollerEl.offsetWidth*100,s=this.startTransform.top+t.deltaY/this.scrollerEl.offsetHeight*100,o=this.clipCoordinate(o,r,i.width,i.left),s=this.clipCoordinate(s,r,i.height,i.top),o-=n,this.transform.left=o,this.transform.top=s,this.animation.animate({x:"".concat(o,"%"),y:"".concat(s,"%"),scale:r,easing:"linear"})):(o=this.transform.left+t.deltaX/this.scrollerEl.offsetWidth*100,this.animation.animate({x:"".concat(o,"%"),easing:"linear"})))}},{key:"onPanEnd",value:function(t){var e,n;!1!==this.panning&&(this.panning=!1,this.trigger("panEnd"),1===this.transform.scale&&!1===this.pinching&&(e=this.getPosition(),n=t.overallVelocityX,Math.abs(n)>=this.swipeVelocity&&Math.abs(t.deltaX)>=this.swipeThreshold&&(t.offsetDirection===ki.DIRECTION_LEFT?this.next({velocity:n,duration:this.navigationPanDuration}):t.offsetDirection===ki.DIRECTION_RIGHT&&this.prev({velocity:n,duration:this.navigationPanDuration})),e===this.getPosition()&&(this.animation.animate({x:"".concat(this.transform.left,"%"),duration:this.navigationPanDuration}),this.trigger("attemptedNavigation",{position:this.getPosition()}))))}},{key:"onPinchStart",value:function(t){this.getActivePageSpread().isZoomable()&&(this.pinching=!0,this.el.setAttribute("data-pinching",!0),this.startTransform.scale=this.transform.scale)}},{key:"onPinchMove",value:function(t){!1!==this.pinching&&this.zoomTo({x:t.center.x,y:t.center.y,scale:this.startTransform.scale*t.scale,bounds:!1,easing:"linear"})}},{key:"onPinchEnd",value:function(t){var e,n,i,r=this;!1!==this.pinching&&(e=this.getActivePageSpread().getMaxZoomScale(),i=Math.max(1,Math.min(this.transform.scale,e)),n=this.getPosition(),1===this.startTransform.scale&&i>1?this.trigger("zoomedIn",{position:n}):this.startTransform.scale>1&&1===i&&this.trigger("zoomedOut",{position:n}),this.zoomTo({x:t.center.x,y:t.center.y,scale:i,duration:this.zoomDuration},function(){r.pinching=!1,r.el.setAttribute("data-pinching",!1)}))}},{key:"onPress",value:function(t){this.trigger("pressed",this.getCoordinateInfo(t.center.x,t.center.y,this.getActivePageSpread()))}},{key:"onContextmenu",value:function(t){return t.preventDefault(),this.trigger("contextmenu",this.getCoordinateInfo(t.clientX,t.clientY,this.getActivePageSpread())),!1}},{key:"onWheel",value:function(t){var e,n,i,r=this;!1!==(e=this.getActivePageSpread()).isZoomable()&&(t.deltaY>0&&1===this.transform.scale?(i=e.getMaxZoomScale(),n=this.getPosition(),this.zoomTo({x:t.clientX,y:t.clientY,scale:i,duration:this.zoomDuration},function(){r.trigger("zoomedIn",{position:n})})):t.deltaY<0&&this.transform.scale>1&&(n=this.getPosition(),this.zoomTo({x:t.clientX,y:t.clientY,scale:1,duration:this.zoomDuration},function(){r.trigger("zoomedOut",{position:n})})))}},{key:"onSingletap",value:function(t){var e,n,i,r,o,s,a,u=this;e=this.getActivePageSpread(),n=this.getCoordinateInfo(t.center.x,t.center.y,e),clearTimeout(this.tap.timeout),1===this.tap.count?(this.tap.count=0,this.trigger("doubleClicked",n),e.isZoomable()&&(i=e.getMaxZoomScale(),o=(a=this.transform.scale>1)?1:i,s=a?"zoomedOut":"zoomedIn",r=this.getPosition(),this.zoomTo({x:t.center.x,y:t.center.y,scale:o,duration:this.zoomDuration},function(){u.trigger(s,{position:r})}))):(this.tap.count++,this.tap.timeout=setTimeout(function(){u.tap.count=0,u.trigger("clicked",n)},this.tap.delay))}},{key:"onTouchStart",value:function(t){this.getActivePageSpread().isScrollable()||t.preventDefault()}},{key:"onTouchEnd",value:function(t){this.getActivePageSpread().isScrollable()||t.preventDefault()}},{key:"onResize",value:function(){var t,e;this.transform.scale>1&&(e=this.getPosition(),t=this.getActivePageSpread(),this.transform.left=this.getLeftTransformFromPageSpread(e,t),this.transform.top=0,this.transform.scale=1,this.zoomTo({x:this.transform.left,y:this.transform.top,scale:this.transform.scale,duration:0}),this.trigger("zoomedOut",{position:e}))}}]),t}(),Si.mixin(Ti),Ti},t.exports=n()});fr=Hn,dr=ti,pr=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};zn(this,t),this.options=e,this.contentsRendered=!1,this.hotspotsRendered=!1,this.el=this.renderEl()}return Un(t,[{key:"getId",value:function(){return this.options.id}},{key:"getEl",value:function(){return this.el}},{key:"getPages",value:function(){return this.options.pages}},{key:"renderEl",value:function(){var t,e;return t=document.createElement("div"),e=this.getPages().map(function(t){return t.id}),t.className="verso__page-spread sgn-pp__page-spread",t.setAttribute("data-id",this.getId()),t.setAttribute("data-type","page"),t.setAttribute("data-width",this.options.width),t.setAttribute("data-page-ids",e.join(",")),t.setAttribute("data-max-zoom-scale",this.options.maxZoomScale),t.setAttribute("data-zoomable",!1),t}},{key:"renderContents",value:function(){var t,e,n,i,r,o=this;return e=this.getId(),t=this.getEl(),r=this.getPages(),i=r.length,n=0,r.forEach(function(s,a){var u,l,c;u=s.images.medium,c=document.createElement("div"),l=document.createElement("div"),c.className="sgn-pp__page verso__page",null!=s.id&&c.setAttribute("data-id",s.id),2===i&&(c.className+=0===a?" verso-page--verso":" verso-page--recto"),c.appendChild(l),t.appendChild(c),l.className="sgn-pp-page__loader",l.innerHTML="<span>".concat(s.label,"</span>"),dr.util.loadImage(u,function(a,h,f){var p;null==a?(p=++n===i,c.style.backgroundImage="url(".concat(u,")"),c.setAttribute("data-width",h),c.setAttribute("data-height",f),c.innerHTML="&nbsp;",p&&t.setAttribute("data-zoomable",!0),o.trigger("pageLoaded",{pageSpreadId:e,page:s}),p&&o.trigger("pagesLoaded",{pageSpreadId:e,pages:r})):l.innerHTML="<span>!</span>"})}),this.contentsRendered=!0,this}},{key:"clearContents",value:function(t,e){return this.el.innerHTML="",this.contentsRendered=!1,this}},{key:"zoomIn",value:function(){var t,e,n=this;t=[].slice.call(this.el.querySelectorAll(".sgn-pp__page")),e=this.getPages(),t.forEach(function(t){var i,r,o;i=t.getAttribute("data-id"),o=e.find(function(t){return t.id===i}),r=o.images.large,dr.util.loadImage(r,function(e){null==e&&"true"===n.el.getAttribute("data-active")&&(t.setAttribute("data-image",t.style.backgroundImage),t.style.backgroundImage="url(".concat(r,")"))})})}},{key:"zoomOut",value:function(){[].slice.call(this.el.querySelectorAll(".sgn-pp__page[data-image]")).forEach(function(t){t.style.backgroundImage=t.getAttribute("data-image"),t.removeAttribute("data-image")})}}]),t}(),fr.mixin(pr),gr=Hn,vr=pr,mr=ti,yr=function(){function t(e){zn(this,t),this.options=e,this.collection=[],this.ids={}}return Un(t,[{key:"get",value:function(t){return this.ids[t]}},{key:"getFrag",value:function(){var t;return t=document.createDocumentFragment(),this.collection.forEach(function(e){return t.appendChild(e.el)}),t}},{key:"update",value:function(){var t,e,n,i,r,o,s,a,u=this,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"single";return o=[],e={},s=this.options.pages.slice(),a=this.options.width,i=this.options.maxZoomScale,"single"===l?s.forEach(function(t){return o.push([t])}):(t=s.shift(),n=s.length%2==1?s.pop():null,r=mr.util.chunk(s,2),null!=t&&o.push([t]),r.forEach(function(t){return o.push(t.map(function(t){return t}))}),null!=n&&o.push([n])),this.collection=o.map(function(t,n){var r,o;return r="".concat(l,"-").concat(n),(o=new vr({width:a,maxZoomScale:i,pages:t,id:r})).bind("pageLoaded",function(t){return u.trigger("pageLoaded",t)}),o.bind("pagesLoaded",function(t){return u.trigger("pagesLoaded",t)}),e[r]=o,o}),this.ids=e,this}}]),t}(),gr.mixin(yr),br=Hn,kr=Sr,_r=yr,xr=ti,wr=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};zn(this,t),this.options=this.makeOptions(n,this.defaults),this.pageId=this.getOption("pageId"),this.els={root:e,pages:e.querySelector(".sgn-pp__pages"),verso:e.querySelector(".verso")},this.pageMode=this.getPageMode(),this.pageSpreads=new _r({pages:this.getOption("pages"),maxZoomScale:this.getOption("pageSpreadMaxZoomScale"),width:this.getOption("pageSpreadWidth")}),this.pageSpreads.bind("pageLoaded",this.pageLoaded.bind(this)),this.pageSpreads.bind("pagesLoaded",this.pagesLoaded.bind(this)),this.setColor(this.getOption("color")),this.els.pages.parentNode.insertBefore(this.pageSpreads.update(this.pageMode).getFrag(),this.els.pages),this.verso=this.createVerso(),this.bind("started",this.start.bind(this)),this.bind("destroyed",this.destroy.bind(this))}return Un(t,[{key:"start",value:function(){this.getVerso().start(),this.resizeListener=xr.util.throttle(this.resize,this.getOption("resizeDelay"),this),this.unloadListener=this.unload.bind(this),window.addEventListener("resize",this.resizeListener,!1),window.addEventListener("beforeunload",this.unloadListener,!1),this.els.root.setAttribute("data-started",""),this.els.root.setAttribute("tabindex","-1"),this.els.root.focus()}},{key:"destroy",value:function(){var t,e,n,i,r;for(i=(r=this.getVerso()).el.querySelectorAll(".sgn-pp__page-spread"),this.els.root.removeAttribute("data-started"),this.els.root.removeAttribute("data-idle"),this.els.root.removeAttribute("data-navigating"),this.els.root.removeAttribute("data-color-brightness"),this.els.root.removeAttribute("data-zoomed-in"),this.els.root.style.backgroundColor="#ffffff",t=0,e=i.length;t<e;t++)(n=i[t]).parentNode.removeChild(n);r.destroy(),window.removeEventListener("resize",this.resizeListener,!1),window.removeEventListener("beforeunload",this.unloadListener,!1)}},{key:"makeOptions",value:function(t,e){var n,i,r;for(n in i={},t)t[n],i[n]=null!=(r=t[n])?r:e[n];return i}},{key:"getOption",value:function(t){return this.options[t]}},{key:"setColor",value:function(t){this.els.root.setAttribute("data-color-brightness",xr.util.getColorBrightness(t)),this.els.root.style.backgroundColor=t}},{key:"createVerso",value:function(){var t;return(t=new kr(this.els.verso,{pageId:this.pageId})).pageSpreads.forEach(this.overridePageSpreadContentRect.bind(this)),t.bind("beforeNavigation",this.beforeNavigation.bind(this)),t.bind("afterNavigation",this.afterNavigation.bind(this)),t.bind("attemptedNavigation",this.attemptedNavigation.bind(this)),t.bind("clicked",this.clicked.bind(this)),t.bind("doubleClicked",this.doubleClicked.bind(this)),t.bind("pressed",this.pressed.bind(this)),t.bind("contextmenu",this.contextmenu.bind(this)),t.bind("panStart",this.panStart.bind(this)),t.bind("panEnd",this.panEnd.bind(this)),t.bind("zoomedIn",this.zoomedIn.bind(this)),t.bind("zoomedOut",this.zoomedOut.bind(this)),t}},{key:"getVerso",value:function(){return this.verso}},{key:"getContentRect",value:function(t){var e,n,i,r,o,s,a,u,l,c,h;return c={top:0,left:0,right:0,bottom:0,width:0,height:0},s=(a=t.getPageEls())[0],(o=a.length)?(h=this.getVerso().transform.scale,l=s.offsetWidth*o*h,n=(e=u=s.offsetHeight*h)/(r=+s.getAttribute("data-height")/(+s.getAttribute("data-width")*o)),e=(n=Math.min(l,n))*r,i=s.getBoundingClientRect(),c.width=n,c.height=e,c.top=i.top+(u-e)/2,c.left=i.left+(l-n)/2,c.right=c.width+c.left,c.bottom=c.height+c.top,c):c}},{key:"formatProgressLabel",value:function(t){var e,n,i,r,o;return n=(r=null!=(o=null!=t?t.options.pages:void 0)?o:[]).map(function(t){return t.id}),i=r.map(function(t){return t.label}),e=this.getOption("pages").length,n.length>0?i.join("-")+" / "+e:null}},{key:"renderPageSpreads",value:function(){var t=this;return this.getVerso().pageSpreads.forEach(function(e){var n,i;i=e.getVisibility(),null!=(n=t.pageSpreads.get(e.getId()))&&("visible"===i&&!1===n.contentsRendered&&setTimeout(n.renderContents.bind(n),0),"gone"===i&&!0===n.contentsRendered&&setTimeout(n.clearContents.bind(n),0))}),this}},{key:"findPage",value:function(t){return this.getOption("pages").find(function(e){return e.id===t})}},{key:"pageLoaded",value:function(t){this.trigger("pageLoaded",t)}},{key:"pagesLoaded",value:function(t){this.trigger("pagesLoaded",t)}},{key:"beforeNavigation",value:function(t){var e,n,i,r,o,s,a,u;r=t.newPosition,u=(a=this.getVerso()).getPageSpreadFromPosition(r),n=this.pageSpreads.get(u.getId()),i=a.getPageSpreadCount(),e=a.pageSpreadEls[t.newPosition],o=r/(i-1)*100,s=this.formatProgressLabel(n),this.els.root.setAttribute("data-navigating",!0),this.renderPageSpreads(),this.resetIdleTimer(),this.startIdleTimer(),this.trigger("beforeNavigation",{verso:t,pageSpread:n,newSpreadEl:e,progress:o,progressLabel:s,pageSpreadCount:i,newPositionIsEnd:t.newPosition+1===i})}},{key:"afterNavigation",value:function(t){var e,n,i,r,o,s;r=t.newPosition,s=(o=this.getVerso()).getPageSpreadFromPosition(r),n=this.pageSpreads.get(s.getId()),i=o.getPageSpreadCount(),e=o.pageSpreadEls[t.newPosition],this.els.root.setAttribute("data-navigating",!1),this.trigger("afterNavigation",{verso:t,pageSpread:n,pageSpreadCount:i,newSpreadEl:e,newPositionIsEnd:t.newPosition+1===i})}},{key:"attemptedNavigation",value:function(t){this.trigger("attemptedNavigation",{verso:t})}},{key:"clicked",value:function(t){var e,n;t.isInsideContent&&(n=t.pageEl.getAttribute("data-id"),e=this.findPage(n),this.trigger("clicked",{verso:t,page:e}))}},{key:"doubleClicked",value:function(t){var e,n;t.isInsideContent&&(n=t.pageEl.getAttribute("data-id"),e=this.findPage(n),this.trigger("doubleClicked",{verso:t,page:e}))}},{key:"pressed",value:function(t){var e,n;t.isInsideContent&&(n=t.pageEl.getAttribute("data-id"),e=this.findPage(n),this.trigger("pressed",{verso:t,page:e}))}},{key:"contextmenu",value:function(t){var e,n;t.isInsideContent&&(n=t.pageEl.getAttribute("data-id"),e=this.findPage(n),this.trigger("contextmenu",{verso:t,page:e}))}},{key:"panStart",value:function(){this.resetIdleTimer(),this.trigger("panStart",{scale:this.getVerso().transform.scale})}},{key:"panEnd",value:function(){this.startIdleTimer(),this.trigger("panEnd")}},{key:"zoomedIn",value:function(t){var e,n,i;n=t.position,i=this.getVerso().getPageSpreadFromPosition(n),null!=(e=this.pageSpreads.get(i.getId()))&&e.zoomIn(),this.els.root.setAttribute("data-zoomed-in",!0),this.trigger("zoomedIn",{verso:t,pageSpread:e})}},{key:"zoomedOut",value:function(t){var e,n,i;n=t.position,i=this.getVerso().getPageSpreadFromPosition(n),null!=(e=this.pageSpreads.get(i.getId()))&&e.zoomOut(),this.els.root.setAttribute("data-zoomed-in",!1),this.trigger("zoomedOut",{verso:t,pageSpread:e})}},{key:"getPageMode",value:function(){var t,e;return null==(t=this.getOption("pageMode"))&&(e=this.els.root.offsetWidth,t=this.els.root.offsetHeight/e<.8?"double":"single"),t}},{key:"resetIdleTimer",value:function(){return clearTimeout(this.idleTimeout),this.els.root.setAttribute("data-idle",!1),this}},{key:"startIdleTimer",value:function(){var t=this;return this.idleTimeout=setTimeout(function(){t.els.root.setAttribute("data-idle",!0)},this.getOption("idleDelay")),this}},{key:"switchPageMode",value:function(t){var e,n,i,r,o,s;if(this.pageMode===t)return this;for(i=(s=this.getVerso()).getPageSpreadFromPosition(s.getPosition()).getPageIds(),o=this.getVerso().el.querySelectorAll(".sgn-pp__page-spread"),this.pageMode=t,this.pageSpreads.update(this.pageMode),e=0,n=o.length;e<n;e++)(r=o[e]).parentNode.removeChild(r);return this.els.pages.parentNode.insertBefore(this.pageSpreads.getFrag(),this.els.pages),s.refresh(),s.navigateTo(s.getPageSpreadPositionFromPageId(i[0]),{duration:0}),s.pageSpreads.forEach(this.overridePageSpreadContentRect.bind(this)),this}},{key:"overridePageSpreadContentRect",value:function(t){var e=this;if("page"===t.getType())return t.getContentRect=function(){return e.getContentRect(t)}}},{key:"resize",value:function(){var t;t=this.getPageMode(),null==this.getOption("pageMode")&&t!==this.pageMode?this.switchPageMode(t):this.trigger("resized")}},{key:"unload",value:function(){this.trigger("disappeared")}}]),t}();return t.prototype.defaults={pages:[],pageSpreadWidth:100,pageSpreadMaxZoomScale:2.3,idleDelay:1e3,resizeDelay:400,color:"#ffffff"},t}.call(t),br.mixin(wr);var Er,Tr,Pr,Ir=wr;Er=Hn,Tr=Gn,Pr=function(){function t(){zn(this,t),this.currentPageSpreadId=null,this.pageSpreadsLoaded={},this.cache={},this.bind("hotspotsReceived",this.hotspotsReceived.bind(this)),this.bind("afterNavigation",this.afterNavigation.bind(this)),this.bind("pagesLoaded",this.pagesLoaded.bind(this)),this.bind("resized",this.resized.bind(this))}return Un(t,[{key:"renderHotspots",value:function(t){var e,n,i,r,o,s,a,u,l,c,h,f,p;for(r=document.createDocumentFragment(),n=t.versoPageSpread.getContentRect(),a=(h=t.pageSpread.getEl()).querySelectorAll(".sgn-pp__hotspot"),e=h.getBoundingClientRect(),u=0,c=a.length;u<c;u++)(s=a[u]).parentNode.removeChild(s);for(l in p=t.hotspots)o=p[l],f=this.getPosition(t.pages,t.ratio,o),i=this.renderHotspot(o,f,n,e),r.appendChild(i);return h.appendChild(r),this}},{key:"renderHotspot",value:function(t,e,n,i){var r,o,s,a,u;return r=document.createElement("div"),a=Math.round(n.height/100*e.top),s=Math.round(n.width/100*e.left),u=Math.round(n.width/100*e.width),o=Math.round(n.height/100*e.height),a+=Math.round(n.top),s+=Math.round(n.left),a-=i.top,s-=i.left,r.className="sgn-pp__hotspot verso__overlay",null!=t.id&&r.setAttribute("data-id",t.id),null!=t.type&&r.setAttribute("data-type",t.type),r.innerHTML=Tr.render("",t),r.style.top="".concat(a,"px"),r.style.left="".concat(s,"px"),r.style.width="".concat(u,"px"),r.style.height="".concat(o,"px"),r}},{key:"getPosition",value:function(t,e,n){var i,r,o,s,a,u;for(a in o=null,s=null,i=null,r=null,u=t.map(function(t){return t.pageNumber}),n.locations)-1!==u.indexOf(+a)&&n.locations[a].forEach(function(e){var n,l;if(n=e[0],l=e[1],t[1]&&u[1]===+a&&(n+=1),n/=t.length,null==o&&(o=i=n,s=r=l),n<o&&(o=n),n>i&&(i=n),l<s&&(s=l),l>r)return r=l});return{top:s/e*100,left:100*o,width:100*(i-o),height:(r-s)/e*100}}},{key:"requestHotspots",value:function(t,e){this.trigger("hotspotsRequested",{id:t,pages:e})}},{key:"hotspotsReceived",value:function(t){var e;e=t.pageSpread.getId(),this.setCache(e,t),this.renderHotspots(t)}},{key:"getCache",value:function(t){return this.cache[t]}},{key:"setCache",value:function(t,e){return this.cache[t]=e,this}},{key:"afterNavigation",value:function(t){var e;null!=t.pageSpread&&(e=t.pageSpread.getId(),this.currentPageSpreadId=e,this.pageSpreadsLoaded[e]&&this.requestHotspots(e,t.pageSpread.getPages()))}},{key:"pagesLoaded",value:function(t){this.pageSpreadsLoaded[t.pageSpreadId]=!0,this.currentPageSpreadId===t.pageSpreadId&&this.requestHotspots(t.pageSpreadId,t.pages)}},{key:"resized",value:function(t){var e;null!=(e=this.getCache(this.currentPageSpreadId))&&this.renderHotspots(e)}}]),t}(),Er.mixin(Pr);var Ar,Or,Cr,Lr,Rr=Pr,Mr={ESC:27,ARROW_RIGHT:39,ARROW_LEFT:37,SPACE:32,NUMBER_ONE:49};Ar=Hn,Cr=ti,Lr=Mr,Or=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};zn(this,t),this.options=n,this.els={root:e,progress:e.querySelector(".sgn-pp__progress"),progressBar:e.querySelector(".sgn-pp-progress__bar"),progressLabel:e.querySelector(".sgn-pp__progress-label"),prevControl:e.querySelector(".sgn-pp__control[data-direction=prev]"),nextControl:e.querySelector(".sgn-pp__control[data-direction=next]"),close:e.querySelector(".sgn-pp--close")},this.keyDownListener=Cr.util.throttle(this.keyDown,150,this),!0===this.options.keyboard&&this.els.root.addEventListener("keydown",this.keyDownListener,!1),null!=this.els.prevControl&&this.els.prevControl.addEventListener("mousedown",this.prevClicked.bind(this),!1),null!=this.els.nextControl&&this.els.nextControl.addEventListener("mousedown",this.nextClicked.bind(this),!1),null!=this.els.close&&this.els.close.addEventListener("mousedown",this.closeClicked.bind(this),!1),this.bind("beforeNavigation",this.beforeNavigation.bind(this))}return Un(t,[{key:"destroy",value:function(){this.els.root.removeEventListener("keydown",this.keyDownListener)}},{key:"beforeNavigation",value:function(t){var e;e="string"==typeof t.progressLabel&&t.progressLabel.length>0,null!=this.els.progress&&null!=this.els.progressBar&&(this.els.progressBar.style.width="".concat(t.progress,"%"),!0===e?this.els.progress.classList.remove("sgn-pp--hidden"):this.els.progress.classList.add("sgn-pp--hidden")),null!=this.els.progressLabel&&(!0===e?(this.els.progressLabel.textContent=t.progressLabel,this.els.progressLabel.classList.remove("sgn-pp--hidden")):this.els.progressLabel.classList.add("sgn-pp--hidden")),null!=this.els.prevControl&&(0===t.verso.newPosition?this.els.prevControl.classList.add("sgn-pp--hidden"):this.els.prevControl.classList.remove("sgn-pp--hidden")),null!=this.els.nextControl&&(t.verso.newPosition===t.pageSpreadCount-1?this.els.nextControl.classList.add("sgn-pp--hidden"):this.els.nextControl.classList.remove("sgn-pp--hidden"))}},{key:"prevClicked",value:function(t){t.preventDefault(),this.trigger("prev")}},{key:"nextClicked",value:function(t){t.preventDefault(),this.trigger("next")}},{key:"closeClicked",value:function(t){t.preventDefault(),this.trigger("close")}},{key:"keyDown",value:function(t){var e;e=t.keyCode,Lr.ARROW_LEFT===e?this.trigger("prev",{duration:0}):Lr.ARROW_RIGHT===e||Lr.SPACE===e?this.trigger("next",{duration:0}):Lr.NUMBER_ONE===e&&this.trigger("first",{duration:0})}}]),t}(),Ar.mixin(Or);var jr,Nr,Dr,zr,Fr,Ur,Br,Vr,Hr,qr=Or;jr=Hn,Nr=function(){function t(e,n){zn(this,t),this.eventTracker=e,this.id=n,this.hidden=!0,this.pageSpread=null,this.bind("appeared",this.appeared.bind(this)),this.bind("disappeared",this.disappeared.bind(this)),this.bind("beforeNavigation",this.beforeNavigation.bind(this)),this.bind("afterNavigation",this.afterNavigation.bind(this)),this.bind("attemptedNavigation",this.attemptedNavigation.bind(this)),this.bind("panStart",this.panStart.bind(this)),this.bind("destroyed",this.destroy.bind(this))}return Un(t,[{key:"destroy",value:function(){this.pageSpreadDisappeared()}},{key:"trackOpened",value:function(t){return null==this.eventTracker?this:(this.eventTracker.trackPagedPublicationOpened({"pp.id":this.id,vt:this.eventTracker.createViewToken(this.id)}),this)}},{key:"trackPageSpreadDisappeared",value:function(t){var e=this;return null==this.eventTracker?this:(t.forEach(function(t){e.eventTracker.trackPagedPublicationPageDisappeared({"pp.id":e.id,"ppp.n":t,vt:e.eventTracker.createViewToken(e.id,t)})}),this)}},{key:"appeared",value:function(t){this.pageSpreadAppeared(t.pageSpread)}},{key:"disappeared",value:function(){this.pageSpreadDisappeared()}},{key:"beforeNavigation",value:function(){this.pageSpreadDisappeared()}},{key:"afterNavigation",value:function(t){this.pageSpreadAppeared(t.pageSpread)}},{key:"attemptedNavigation",value:function(t){this.pageSpreadAppeared(t.pageSpread)}},{key:"panStart",value:function(t){1===t.scale&&this.pageSpreadDisappeared()}},{key:"pageSpreadAppeared",value:function(t){null!=t&&!0===this.hidden&&(this.pageSpread=t,this.hidden=!1)}},{key:"pageSpreadDisappeared",value:function(){null!=this.pageSpread&&!1===this.hidden&&(this.trackPageSpreadDisappeared(this.pageSpread.getPages().map(function(t){return t.pageNumber})),this.hidden=!0,this.pageSpread=null)}}]),t}(),jr.mixin(Nr),Br=Hn,Vr=ti,zr=Ir,Ur=Rr,Dr=qr,Fr=Nr,Hr=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};zn(this,t),this.el=e,this.options=n,this._core=new zr(this.el,{id:this.options.id,pages:this.options.pages,pageSpreadWidth:this.options.pageSpreadWidth,pageSpreadMaxZoomScale:this.options.pageSpreadMaxZoomScale,pageId:this.options.pageId,idleDelay:this.options.idleDelay,resizeDelay:this.options.resizeDelay,color:this.options.color}),this._hotspots=new Ur,this._controls=new Dr(this.el,{keyboard:this.options.keyboard}),this._eventTracking=new Fr(this.options.eventTracker,this.options.id),this.viewSession=Vr.util.uuid(),this.hotspots=null,this.hotspotQueue=[],this.popover=null,this._setupEventListeners()}return Un(t,[{key:"start",value:function(){return this._eventTracking.trackOpened(),this._core.trigger("started"),this}},{key:"destroy",value:function(){return this._core.trigger("destroyed"),this._hotspots.trigger("destroyed"),this._controls.trigger("destroyed"),this._eventTracking.trigger("destroyed"),this.trigger("destroyed"),this}},{key:"navigateTo",value:function(t,e){return this.navigateToIndex(t,e),this}},{key:"navigateToIndex",value:function(t,e){return this._core.getVerso().navigateTo(t,e),this}},{key:"navigateToPageId",value:function(t,e){var n;return n=this._core.getVerso().getPageSpreadPositionFromPageId(t),this._core.getVerso().navigateTo(n,e)}},{key:"first",value:function(t){return this._core.getVerso().first(t),this}},{key:"prev",value:function(t){return this._core.getVerso().prev(t),this}},{key:"next",value:function(t){return this._core.getVerso().next(t),this}},{key:"last",value:function(t){return this._core.getVerso().last(t),this}},{key:"_setupEventListeners",value:function(){var t=this;this._controls.bind("prev",function(e){t.prev(e)}),this._controls.bind("next",function(e){t.next(e)}),this._controls.bind("first",function(e){t.first(e)}),this._controls.bind("last",function(e){t.last(e)}),this._controls.bind("close",function(e){t.destroy(e)}),this._hotspots.bind("hotspotsRequested",function(e){t.trigger("hotspotsRequested",e)}),this._core.bind("appeared",function(e){t._eventTracking.trigger("appeared",e),t.trigger("appeared",e)}),this._core.bind("disappeared",function(e){t._eventTracking.trigger("disappeared",e),t.trigger("disappeared",e)}),this._core.bind("beforeNavigation",function(e){t._eventTracking.trigger("beforeNavigation",e),t._controls.trigger("beforeNavigation",e),t.trigger("beforeNavigation",e)}),this._core.bind("afterNavigation",function(e){t._eventTracking.trigger("afterNavigation",e),t._hotspots.trigger("afterNavigation",e),t.trigger("afterNavigation",e)}),this._core.bind("attemptedNavigation",function(e){t._eventTracking.trigger("attemptedNavigation",e),t.trigger("attemptedNavigation",e)}),this._core.bind("clicked",function(e){t._eventTracking.trigger("clicked",e),t.trigger("clicked",e)}),this._core.bind("doubleClicked",function(e){t._eventTracking.trigger("doubleClicked",e),t.trigger("doubleClicked",e)}),this._core.bind("contextmenu",function(e){t.trigger("contextmenu",e)}),this._core.bind("pressed",function(e){t._eventTracking.trigger("pressed",e),t.trigger("pressed",e)}),this._core.bind("panStart",function(e){t._eventTracking.trigger("panStart",e),t.trigger("panStart",e)}),this._core.bind("zoomedIn",function(e){t._eventTracking.trigger("zoomedIn",e),t.trigger("zoomedIn",e)}),this._core.bind("zoomedOut",function(e){t._eventTracking.trigger("zoomedOut",e),t.trigger("zoomedOut",e)}),this._core.bind("pageLoaded",function(e){t._eventTracking.trigger("pageLoaded",e),t.trigger("pageLoaded",e)}),this._core.bind("pagesLoaded",function(e){t._hotspots.trigger("pagesLoaded",e),t.trigger("pagesLoaded",e)}),this._core.bind("resized",function(e){t._hotspots.trigger("resized"),t.trigger("resized",e)}),this.bind("hotspotsRequested",this.hotspotsRequested.bind(this)),this.bind("beforeNavigation",this.beforeNavigation.bind(this)),this.bind("clicked",this.clicked.bind(this)),this.bind("contextmenu",this.contextmenu.bind(this)),this.bind("pressed",this.pressed.bind(this))}},{key:"pickHotspot",value:function(t,e){var n,i=this;null!=this.hotspots&&(null!=this.popover&&(this.popover.destroy(),this.popover=null),1===(n=t.verso.overlayEls.map(function(t){return i.hotspots[t.getAttribute("data-id")]})).length?e(n[0]):n.length>1&&(this.popover=Vr.CoreUIKit.singleChoicePopover({el:this.el,header:Vr.translations.t("paged_publication.hotspot_picker.header"),x:t.verso.x,y:t.verso.y,items:n.filter(function(t){return"offer"===t.type}).map(function(t){return{id:t.id,title:t.offer.heading,subtitle:t.offer.pricing.currency+""+t.offer.pricing.price}})},function(t){e(i.hotspots[t.id])})))}},{key:"processHotspotQueue",value:function(){var t=this;null!=this.hotspots&&(this.hotspotQueue=this.hotspotQueue.filter(function(e){var n,i,r,o,s,a,u,l,c;for(o in i={},c=t._core.getVerso().pageSpreads.find(function(t){return t.getId()===e.id}),u=t.hotspots)if(n=u[o],null==i[o])for(r=0,s=(l=e.pages).length;r<s;r++)if(a=l[r],null!=n.locations[a.pageNumber]){i[o]={type:n.type,id:n.id,locations:n.locations};break}return t._hotspots.trigger("hotspotsReceived",{pageSpread:t._core.pageSpreads.get(e.id),versoPageSpread:c,ratio:t.options.hotspotRatio,pages:e.pages,hotspots:i}),!1}))}},{key:"hotspotsRequested",value:function(t){this.hotspotQueue.push(t),this.processHotspotQueue()}},{key:"applyHotspots",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.hotspots=t,this.processHotspotQueue()}},{key:"beforeNavigation",value:function(){null!=this.popover&&this.popover.destroy()}},{key:"clicked",value:function(t){var e=this;this.pickHotspot(t,function(t){e.trigger("hotspotClicked",t)})}},{key:"contextmenu",value:function(t){var e=this;this.pickHotspot(t,function(t){e.trigger("hotspotContextmenu",t)})}},{key:"pressed",value:function(t){var e=this;this.pickHotspot(t,function(t){e.trigger("hotspotPressed",t)})}}]),t}(),Br.mixin(Hr);var Wr,Xr=Hr;Wr=Qn;var $r,Gr,Yr,Kr,Zr,Jr,Qr=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};zn(this,t),this.options=e}return Un(t,[{key:"createViewer",value:function(t){return new Wr.PagedPublicationKit.Viewer(this.options.el,{id:this.options.id,ownedBy:t.details.dealer_id,color:"#"+t.details.branding.pageflip.color,hotspotRatio:t.details.dimensions.height,keyboard:!0,pageId:this.options.pageId,eventTracker:this.options.eventTracker,pages:this.transformPages(t.pages)})}},{key:"transformPages",value:function(t){return t.map(function(t,e){var n;return{id:"page"+(n=e+1),label:n+"",pageNumber:n,images:{medium:t.view,large:t.zoom}}})}},{key:"applyHotspots",value:function(t,e){var n;n={},e.forEach(function(t){return n[t.id]=t}),t.applyHotspots(n)}},{key:"fetch",value:function(t){t=t.bind(this),Wr.util.async.parallel([this.fetchDetails.bind(this),this.fetchPages.bind(this)],function(e){var n;n={details:e[0][1],pages:e[1][1]},null!=e[0][0]?t(e[0][0]):null!=e[1][0]?t(e[1][0]):null!=n.details&&null!=n.pages?t(null,n):t(new Error)})}},{key:"fetchDetails",value:function(t){Wr.CoreKit.request({url:"/v2/catalogs/".concat(this.options.id)},t)}},{key:"fetchPages",value:function(t){Wr.CoreKit.request({url:"/v2/catalogs/".concat(this.options.id,"/pages")},t)}},{key:"fetchHotspots",value:function(t){Wr.CoreKit.request({url:"/v2/catalogs/".concat(this.options.id,"/hotspots")},t)}}]),t}(),to={Viewer:Xr,Bootstrapper:Qr},eo=e(function(e,n){var i;i=function(){var e="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function n(t,e){return t(e={exports:{}},e.exports),e.exports}var i,r=n(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),o={}.hasOwnProperty,s=function(t,e){return o.call(t,e)},a={}.toString,u=function(t){return a.call(t).slice(8,-1)},l=function(t){return"object"==typeof t?null!==t:"function"==typeof t},c=function(t){if(!l(t))throw TypeError(t+" is not an object!");return t},h=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},f=function(t,e,n){if(h(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}},p={f:{}.propertyIsEnumerable},d=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},g=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==u(t)?t.split(""):Object(t)},v=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},y=function(t){return g(v(t))},m=function(t,e){if(!l(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!l(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!l(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!l(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")},b=function(t){try{return!!t()}catch(t){return!0}},_=!b(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),w=r.document,x=l(w)&&l(w.createElement),k=function(t){return x?w.createElement(t):{}},S=!_&&!b(function(){return 7!=Object.defineProperty(k("div"),"a",{get:function(){return 7}}).a}),E=Object.getOwnPropertyDescriptor,T={f:_?E:function(t,e){if(t=y(t),e=m(e,!0),S)try{return E(t,e)}catch(t){}if(s(t,e))return d(!p.f.call(t,e),t[e])}},P=function(t,e){if(c(t),!l(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},I={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=f(Function.call,T.f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,i){return P(t,i),e?t.__proto__=i:n(t,i),t}}({},!1):void 0),check:P}.set,A=Math.ceil,O=Math.floor,C=function(t){return isNaN(t=+t)?0:(t>0?O:A)(t)},L=Math.min,R=function(t){return t>0?L(C(t),9007199254740991):0},M=Math.max,j=Math.min,N=n(function(t){var e=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=e)}),D=(N.version,n(function(t){var e=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:N.version,mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})})),z=0,F=Math.random(),U=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++z+F).toString(36))},B=D("keys"),V=function(t){return B[t]||(B[t]=U(t))},H=(i=!1,function(t,e,n){var r,o=y(t),s=R(o.length),a=function(t,e){return(t=C(t))<0?M(t+e,0):j(t,e)}(n,s);if(i&&e!=e){for(;s>a;)if((r=o[a++])!=r)return!0}else for(;s>a;a++)if((i||a in o)&&o[a]===e)return i||a||0;return!i&&-1}),q=V("IE_PROTO"),W=function(t,e){var n,i=y(t),r=0,o=[];for(n in i)n!=q&&s(i,n)&&o.push(n);for(;e.length>r;)s(i,n=e[r++])&&(~H(o,n)||o.push(n));return o},X="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),$=X.concat("length","prototype"),G={f:Object.getOwnPropertyNames||function(t){return W(t,$)}},Y=Object.defineProperty,K={f:_?Object.defineProperty:function(t,e,n){if(c(t),e=m(e,!0),c(n),S)try{return Y(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},Z=_?function(t,e,n){return K.f(t,e,d(1,n))}:function(t,e,n){return t[e]=n,t},J=D("native-function-to-string",Function.toString),Q=n(function(t){var e=U("src"),n=(""+J).split("toString");N.inspectSource=function(t){return J.call(t)},(t.exports=function(t,i,o,a){var u="function"==typeof o;u&&(s(o,"name")||Z(o,"name",i)),t[i]!==o&&(u&&(s(o,e)||Z(o,e,t[i]?""+t[i]:n.join(String(i)))),t===r?t[i]=o:a?t[i]?t[i]=o:Z(t,i,o):(delete t[i],Z(t,i,o)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||J.call(this)})}),tt=function(t,e,n){var i,o,s,a,u=t&tt.F,l=t&tt.G,c=t&tt.S,h=t&tt.P,p=t&tt.B,d=l?r:c?r[e]||(r[e]={}):(r[e]||{}).prototype,g=l?N:N[e]||(N[e]={}),v=g.prototype||(g.prototype={});for(i in l&&(n=e),n)s=((o=!u&&d&&void 0!==d[i])?d:n)[i],a=p&&o?f(s,r):h&&"function"==typeof s?f(Function.call,s):s,d&&Q(d,i,s,t&tt.U),g[i]!=s&&Z(g,i,a),h&&v[i]!=s&&(v[i]=s)};r.core=N,tt.F=1,tt.G=2,tt.S=4,tt.P=8,tt.B=16,tt.W=32,tt.U=64,tt.R=128;var et=tt,nt="\t\n\v\f\r Â áá ââââââââââââ¯âã\u2028\u2029\ufeff",it="["+nt+"]",rt=RegExp("^"+it+it+"*"),ot=RegExp(it+it+"*$"),st=function(t,e,n){var i={},r=b(function(){return!!nt[t]()||"âÂ"!="âÂ"[t]()}),o=i[t]=r?e(at):nt[t];n&&(i[n]=o),et(et.P+et.F*r,"String",i)},at=st.trim=function(t,e){return t=String(v(t)),1&e&&(t=t.replace(rt,"")),2&e&&(t=t.replace(ot,"")),t},ut=st,lt=Object.keys||function(t){return W(t,X)},ct=_?Object.defineProperties:function(t,e){c(t);for(var n,i=lt(e),r=i.length,o=0;r>o;)K.f(t,n=i[o++],e[n]);return t},ht=r.document,ft=ht&&ht.documentElement,pt=V("IE_PROTO"),dt=function(){},gt=function(){var t,e=k("iframe"),n=X.length;for(e.style.display="none",ft.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),gt=t.F;n--;)delete gt.prototype[X[n]];return gt()},vt=Object.create||function(t,e){var n;return null!==t?(dt.prototype=c(t),n=new dt,dt.prototype=null,n[pt]=t):n=gt(),void 0===e?n:ct(n,e)},yt=G.f,mt=T.f,bt=K.f,_t=ut.trim,wt=r.Number,xt=wt,kt=wt.prototype,St="Number"==u(vt(kt)),Et="trim"in String.prototype,Tt=function(t){var e=m(t,!1);if("string"==typeof e&&e.length>2){var n,i,r,o=(e=Et?e.trim():_t(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var s,a=e.slice(2),u=0,l=a.length;u<l;u++)if((s=a.charCodeAt(u))<48||s>r)return NaN;return parseInt(a,i)}}return+e};if(!wt(" 0o1")||!wt("0b1")||wt("+0x1")){wt=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof wt&&(St?b(function(){kt.valueOf.call(n)}):"Number"!=u(n))?function(t,e,n){var i,r=e.constructor;return r!==n&&"function"==typeof r&&(i=r.prototype)!==n.prototype&&l(i)&&I&&I(t,i),t}(new xt(Tt(e)),n,wt):Tt(e)};for(var Pt,It=_?yt(xt):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),At=0;It.length>At;At++)s(xt,Pt=It[At])&&!s(wt,Pt)&&bt(wt,Pt,mt(xt,Pt));wt.prototype=kt,kt.constructor=wt,Q(r,"Number",wt)}function Ot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ct(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Lt(t,e,n){return e&&Ct(t.prototype,e),n&&Ct(t,n),t}function Rt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jt(t,e)}function Mt(t){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jt(t,e){return(jt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Nt(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}var Dt,zt,Ft,Ut=n(function(t){var e=function(){};e.prototype={bind:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},unbind:function(t,e){this._events=this._events||{},t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(e),1)},trigger:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},e.mixin=function(t){for(var n=["bind","unbind","trigger"],i=0;i<n.length;i++)t.prototype[n[i]]=e.prototype[n[i]]},"exports"in t&&(t.exports=e)}),Bt=function(t){return Object(v(t))},Vt=(Dt=!0,function(t,e){var n,i,r=String(v(t)),o=C(e),s=r.length;return o<0||o>=s?Dt?"":void 0:(n=r.charCodeAt(o))<55296||n>56319||o+1===s||(i=r.charCodeAt(o+1))<56320||i>57343?Dt?r.charAt(o):n:Dt?r.slice(o,o+2):i-56320+(n-55296<<10)+65536}),Ht=function(t,e,n){return e+(n?Vt(t,e).length:1)},qt=n(function(t){var e=D("wks"),n=r.Symbol,i="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=i&&n[t]||(i?n:U)("Symbol."+t))}).store=e}),Wt=qt("toStringTag"),Xt="Arguments"==u(function(){return arguments}()),$t=RegExp.prototype.exec,Gt=function(t,e){var n,i,r,o,s=t.exec;if("function"==typeof s){var a=s.call(t,e);if("object"!=typeof a)throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==(void 0===(n=t)?"Undefined":null===n?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(i=Object(n),Wt))?r:Xt?u(i):"Object"==(o=u(i))&&"function"==typeof i.callee?"Arguments":o))throw new TypeError("RegExp#exec called on incompatible receiver");return $t.call(t,e)},Yt=RegExp.prototype.exec,Kt=String.prototype.replace,Zt=Yt,Jt=(zt=/a/,Ft=/b*/g,Yt.call(zt,"a"),Yt.call(Ft,"a"),0!==zt.lastIndex||0!==Ft.lastIndex),Qt=void 0!==/()??/.exec("")[1];(Jt||Qt)&&(Zt=function(t){var e,n,i,r,o=this;return Qt&&(n=new RegExp("^"+o.source+"$(?!\\s)",function(){var t=c(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}.call(o))),Jt&&(e=o.lastIndex),i=Yt.call(o,t),Jt&&i&&(o.lastIndex=o.global?i.index+i[0].length:e),Qt&&i&&i.length>1&&Kt.call(i[0],n,function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)}),i});var te=Zt;et({target:"RegExp",proto:!0,forced:te!==/./.exec},{exec:te});var ee=qt("species"),ne=!b(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),ie=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}(),re=function(t,e,n){var i=qt(t),r=!b(function(){var e={};return e[i]=function(){return 7},7!=""[t](e)}),o=r?!b(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[ee]=function(){return n}),n[i](""),!e}):void 0;if(!r||!o||"replace"===t&&!ne||"split"===t&&!ie){var s=/./[i],a=n(v,i,""[t],function(t,e,n,i,o){return e.exec===te?r&&!o?{done:!0,value:s.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}),u=a[0],l=a[1];Q(String.prototype,t,u),Z(RegExp.prototype,i,2==e?function(t,e){return l.call(t,this,e)}:function(t){return l.call(t,this)})}},oe=Math.max,se=Math.min,ae=Math.floor,ue=/\$([$&`']|\d\d?|<[^>]*>)/g,le=/\$([$&`']|\d\d?)/g;re("replace",2,function(t,e,n,i){return[function(i,r){var o=t(this),s=null==i?void 0:i[e];return void 0!==s?s.call(i,o,r):n.call(String(o),i,r)},function(t,e){var o=i(n,t,this,e);if(o.done)return o.value;var s=c(t),a=String(this),u="function"==typeof e;u||(e=String(e));var l=s.global;if(l){var h=s.unicode;s.lastIndex=0}for(var f=[];;){var p=Gt(s,a);if(null===p)break;if(f.push(p),!l)break;""===String(p[0])&&(s.lastIndex=Ht(a,R(s.lastIndex),h))}for(var d,g="",v=0,y=0;y<f.length;y++){p=f[y];for(var m=String(p[0]),b=oe(se(C(p.index),a.length),0),_=[],w=1;w<p.length;w++)_.push(void 0===(d=p[w])?d:String(d));var x=p.groups;if(u){var k=[m].concat(_,b,a);void 0!==x&&k.push(x);var S=String(e.apply(void 0,k))}else S=r(m,a,b,_,x,e);b>=v&&(g+=a.slice(v,b)+S,v=b+m.length)}return g+a.slice(v)}];function r(t,e,i,r,o,s){var a=i+t.length,u=r.length,l=le;return void 0!==o&&(o=Bt(o),l=ue),n.call(s,l,function(n,s){var l;switch(s.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(a);case"<":l=o[s.slice(1,-1)];break;default:var c=+s;if(0===c)return n;if(c>u){var h=ae(c/10);return 0===h?n:h<=u?void 0===r[h-1]?s.charAt(1):r[h-1]+s.charAt(1):n}l=r[c-1]}return void 0===l?"":l})}});var ce={formatUnit:function(t){return null==t?0:"number"==typeof t?"".concat(t,"px"):"string"==typeof t?t.replace("dp","px"):0},isDefinedStr:function(t){return"string"==typeof t&&t.length>0},escapeHTML:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},throttle:function(t,e){var n;return 0===e?t:(n=!1,function(){if(!n)return n=!0,setTimeout(function(){n=!1,t.apply(void 0,arguments)},e)})}},he=/"/g,fe=function(t,e,n,i){var r=String(v(t)),o="<"+e;return""!==n&&(o+=" "+n+'="'+String(i).replace(he,"&quot;")+'"'),o+">"+r+"</"+e+">"};!function(t,e){var n={};n[t]=e(fe),et(et.P+et.F*b(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}("link",function(t){return function(e){return t(this,"a","href",e)}});var pe,de=[].indexOf;pe=ce;var ge,ve,ye=function(){var t=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ot(this,t),this.attrs=e,this.el=this.createElement(),this.setAttributes()}return Lt(t,[{key:"render",value:function(){return this}},{key:"createElement",value:function(){var t,e,n;return e=document.createElement(this.tagName),t=null!=(n=this.className)?n:"",e.className="incito__view "+t,e}},{key:"setAttributes",value:function(){var t,e,n,i,r,o,s=this;pe.isDefinedStr(this.attrs.id)&&this.el.setAttribute("data-id",this.attrs.id),pe.isDefinedStr(this.attrs.role)&&this.el.setAttribute("data-role",this.attrs.role),pe.isDefinedStr(this.attrs.accessibility_label)&&this.el.setAttribute("aria-label",this.attrs.accessibility_label),!0===this.attrs.accessibility_hidden&&this.el.setAttribute("aria-hidden",!0),Array.isArray(this.attrs.feature_labels)&&(t=this.attrs.feature_labels.filter(function(t){return/^[a-z_-]{1,14}$/.test(t)})).length&&this.el.setAttribute("data-feature-labels",t.join(",")),pe.isDefinedStr(this.attrs.title)&&this.el.setAttribute("title",this.attrs.title),pe.isDefinedStr(this.attrs.gravity)&&this.el.setAttribute("data-gravity",this.attrs.gravity),pe.isDefinedStr(this.attrs.link)&&(this.el.setAttribute("data-link",""),this.el.addEventListener("click",function(){window.open(s.attrs.link,"_blank")},!1)),"match_parent"===this.attrs.layout_width?this.el.style.width="100%":"wrap_content"===this.attrs.layout_width?this.el.style.display="inline-block":null!=this.attrs.layout_width&&(this.el.style.width=pe.formatUnit(this.attrs.layout_width)),"match_parent"===this.attrs.layout_height?this.el.style.height="100%":"wrap_content"===this.attrs.layout_height?this.el.style.height="auto":null!=this.attrs.layout_height&&(this.el.style.height=pe.formatUnit(this.attrs.layout_height)),null!=this.attrs.min_width&&(this.el.style.minWidth=pe.formatUnit(this.attrs.min_width)),null!=this.attrs.max_width&&(this.el.style.maxWidth=pe.formatUnit(this.attrs.max_width)),null!=this.attrs.min_height&&(this.el.style.minHeight=pe.formatUnit(this.attrs.min_height)),null!=this.attrs.max_height&&(this.el.style.maxHeight=pe.formatUnit(this.attrs.max_height)),null!=this.attrs.layout_top&&(this.el.style.top=pe.formatUnit(this.attrs.layout_top)),null!=this.attrs.layout_left&&(this.el.style.left=pe.formatUnit(this.attrs.layout_left)),null!=this.attrs.layout_right&&(this.el.style.right=pe.formatUnit(this.attrs.layout_right)),null!=this.attrs.layout_bottom&&(this.el.style.bottom=pe.formatUnit(this.attrs.layout_bottom)),pe.isDefinedStr(this.attrs.background_color)&&(this.el.style.backgroundColor=this.attrs.background_color),pe.isDefinedStr(this.attrs.background_image)&&(this.el.setAttribute("data-src",this.attrs.background_image),this.lazyload=!0),"repeat_x"!==(e=this.attrs.background_tile_mode)&&"repeat_y"!==e&&"repeat"!==e||(this.el.style.backgroundRepeat=this.attrs.background_tile_mode.replace("_","-")),pe.isDefinedStr(this.attrs.background_image_position)&&(this.el.style.backgroundPosition=this.attrs.background_image_position.replace("_"," ")),"center_crop"===this.attrs.background_image_scale_type?this.el.style.backgroundSize="cover":"center_inside"===this.attrs.background_image_scale_type&&(this.el.style.backgroundSize="contain"),null!=this.attrs.layout_margin&&(this.el.style.margin=pe.formatUnit(this.attrs.layout_margin)),null!=this.attrs.layout_margin_top&&(this.el.style.marginTop=pe.formatUnit(this.attrs.layout_margin_top)),null!=this.attrs.layout_margin_left&&(this.el.style.marginLeft=pe.formatUnit(this.attrs.layout_margin_left)),null!=this.attrs.layout_margin_right&&(this.el.style.marginRight=pe.formatUnit(this.attrs.layout_margin_right)),null!=this.attrs.layout_margin_bottom&&(this.el.style.marginBottom=pe.formatUnit(this.attrs.layout_margin_bottom)),null!=this.attrs.padding&&(this.el.style.padding=pe.formatUnit(this.attrs.padding)),null!=this.attrs.padding_top&&(this.el.style.paddingTop=pe.formatUnit(this.attrs.padding_top)),null!=this.attrs.padding_left&&(this.el.style.paddingLeft=pe.formatUnit(this.attrs.padding_left)),null!=this.attrs.padding_right&&(this.el.style.paddingRight=pe.formatUnit(this.attrs.padding_right)),null!=this.attrs.padding_bottom&&(this.el.style.paddingBottom=pe.formatUnit(this.attrs.padding_bottom)),null!=this.attrs.corner_radius&&(this.el.style.borderRadius=pe.formatUnit(this.attrs.corner_radius)),null!=this.attrs.corner_top_left_radius&&(this.el.style.borderTopLeftRadius=pe.formatUnit(this.attrs.corner_top_left_radius)),null!=this.attrs.corner_top_right_radius&&(this.el.style.borderTopRightRadius=pe.formatUnit(this.attrs.corner_top_right_radius)),null!=this.attrs.corner_bottom_left_radius&&(this.el.style.borderBottomLeftRadius=pe.formatUnit(this.attrs.corner_bottom_left_radius)),null!=this.attrs.corner_bottom_right_radius&&(this.el.style.borderBottomRightRadius=pe.formatUnit(this.attrs.corner_bottom_right_radius)),!1===this.attrs.clip_children&&(this.el.style.overflow="visible"),null!=(i=this.getShadow())&&(this.el.style.boxShadow="".concat(i.dx,"px ").concat(i.dy,"px ").concat(i.radius,"px ").concat(i.color)),r=["solid","dotted","dashed"],null!=this.attrs.stroke_width&&(this.el.style.borderWidth=pe.formatUnit(this.attrs.stroke_width)),null!=this.attrs.stroke_color&&(this.el.style.borderColor=this.attrs.stroke_color),n=this.attrs.stroke_style,de.call(r,n)>=0&&(this.el.style.borderStyle=this.attrs.stroke_style),null!=this.attrs.stroke_top_width&&(this.el.style.borderTopWidth=pe.formatUnit(this.attrs.stroke_top_width)),null!=this.attrs.stroke_top_color&&(this.el.style.borderTopColor=this.attrs.stroke_top_color),null!=this.attrs.stroke_left_width&&(this.el.style.borderLeftWidth=pe.formatUnit(this.attrs.stroke_left_width)),null!=this.attrs.stroke_left_color&&(this.el.style.borderLeftColor=this.attrs.stroke_left_color),null!=this.attrs.stroke_right_width&&(this.el.style.borderRightWidth=pe.formatUnit(this.attrs.stroke_right_width)),null!=this.attrs.stroke_right_color&&(this.el.style.borderRightColor=this.attrs.stroke_right_color),null!=this.attrs.stroke_bottom_width&&(this.el.style.borderBottomWidth=pe.formatUnit(this.attrs.stroke_bottom_width)),null!=this.attrs.stroke_bottom_color&&(this.el.style.borderBottomColor=this.attrs.stroke_bottom_color),"number"==typeof this.attrs.layout_flex_shrink&&(this.el.style.flexShrink=this.attrs.layout_flex_shrink,this.el.style.msFlexShrink=this.attrs.layout_flex_shrink),"number"==typeof this.attrs.layout_flex_grow&&(this.el.style.flexGrow=this.attrs.layout_flex_grow,this.el.style.msFlexGrow=this.attrs.layout_flex_grow),null!=this.attrs.layout_flex_basis&&(this.el.style.flexBasis=pe.formatUnit(this.attrs.layout_flex_basis),this.el.style.msFlexBasis=pe.formatUnit(this.attrs.layout_flex_basis)),(o=this.getTransforms()).length>0&&(this.el.style.transform=o.join(" ")),Array.isArray(this.attrs.transform_origin)&&2===this.attrs.transform_origin.length&&(this.el.style.transformOrigin=[pe.formatUnit(this.attrs.transform_origin[0]),pe.formatUnit(this.attrs.transform_origin[1])].join(" "))}},{key:"getTransforms",value:function(){var t,e,n;return t=[],e=pe.formatUnit(this.attrs.transform_translate_x),n=pe.formatUnit(this.attrs.transform_translate_y),0!==e&&t.push("translateX(".concat(e,")")),0!==n&&t.push("translateY(".concat(n,")")),"number"==typeof this.attrs.transform_rotate&&0!==this.attrs.transform_rotate&&t.push("rotate(".concat(this.attrs.transform_rotate,"deg)")),"number"==typeof this.attrs.transform_scale&&1!==this.attrs.transform_scale&&t.push("scale(".concat(this.attrs.transform_scale,")")),t}},{key:"getShadow",value:function(){if(pe.isDefinedStr(this.attrs.shadow_color))return{dx:"number"==typeof this.attrs.shadow_dx?this.attrs.shadow_dx:0,dy:"number"==typeof this.attrs.shadow_dy?this.attrs.shadow_dy:0,radius:"number"==typeof this.attrs.shadow_radius?this.attrs.shadow_radius:0,color:this.attrs.shadow_color}}}]),t}();return t.prototype.tagName="div",t.prototype.className=null,t}.call(e);ge=ye,ve=ce;var me=function(){var t=function(t){function e(){return Ot(this,e),Nt(this,Mt(e).apply(this,arguments))}return Rt(e,ge),Lt(e,[{key:"render",value:function(){return ve.isDefinedStr(this.attrs.src)&&this.el.setAttribute("data-src",this.attrs.src),ve.isDefinedStr(this.attrs.label)?this.el.setAttribute("alt",this.attrs.label):this.el.setAttribute("alt",""),this}}]),e}();return t.prototype.tagName="img",t.prototype.className="incito__image-view",t.prototype.lazyload=!0,t}.call(e),be=K.f,_e=Function.prototype,we=/^\s*function ([^ (]*)/;"name"in _e||_&&be(_e,"name",{configurable:!0,get:function(){try{return(""+this).match(we)[1]}catch(t){return""}}});var xe=qt("match"),ke=qt("species"),Se=Math.min,Ee=[].push,Te=!b(function(){});re("split",2,function(t,e,n,i){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var i,r,o=String(this);if(void 0===t&&0===e)return[];if(!l(i=t)||(void 0!==(r=i[xe])?!r:"RegExp"!=u(i)))return n.call(o,t,e);for(var s,a,c,h=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,d=void 0===e?4294967295:e>>>0,g=new RegExp(t.source,f+"g");(s=te.call(g,o))&&!((a=g.lastIndex)>p&&(h.push(o.slice(p,s.index)),s.length>1&&s.index<o.length&&Ee.apply(h,s.slice(1)),c=s[0].length,p=a,h.length>=d));)g.lastIndex===s.index&&g.lastIndex++;return p===o.length?!c&&g.test("")||h.push(""):h.push(o.slice(p)),h.length>d?h.slice(0,d):h}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,i){var o=t(this),s=null==n?void 0:n[e];return void 0!==s?s.call(n,o,i):r.call(String(o),n,i)},function(t,e){var o=i(r,t,this,e,r!==n);if(o.done)return o.value;var s=c(t),a=String(this),u=function(t,e){var n,i=c(t).constructor;return void 0===i||null==(n=c(i)[ke])?e:h(n)}(s,RegExp),l=s.unicode,f=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(Te?"y":"g"),p=new u(Te?s:"^(?:"+s.source+")",f),d=void 0===e?4294967295:e>>>0;if(0===d)return[];if(0===a.length)return null===Gt(p,a)?[a]:[];for(var g=0,v=0,y=[];v<a.length;){p.lastIndex=Te?v:0;var m,b=Gt(p,Te?a:a.slice(v));if(null===b||(m=Se(R(p.lastIndex+(Te?0:v)),a.length))===g)v=Ht(a,v,l);else{if(y.push(a.slice(g,v)),y.length===d)return y;for(var _=1;_<=b.length-1;_++)if(y.push(b[_]),y.length===d)return y;v=g=m}}return y.push(a.slice(g)),y}]});var Pe,Ie,Ae=[].indexOf;Pe=ye,Ie=ce;var Oe,Ce,Le,Re=function(){var t=function(t){function e(){return Ot(this,e),Nt(this,Mt(e).apply(this,arguments))}return Rt(e,Pe),Lt(e,[{key:"render",value:function(){var t,e,n;return"string"!=typeof this.attrs.text?this:(n=(this.attrs.text_style||"").split("|"),t=this.attrs.text,t=Array.isArray(this.attrs.spans)&&this.attrs.spans.length>0?(t=this.parseSpans(t,this.attrs.spans).map(function(t){var e;return e=Ie.escapeHTML(t.text||""),null!=t.span&&"link"===t.span.name&&null!=t.span.url?'<a href="'+encodeURI(t.span.url)+'" rel="external" target="_blank">'+e+"</a>":null!=t.span&&null!=t.span.name?'<span data-name="'+t.span.name+'">'+e+"</span>":e})).join(""):Ie.escapeHTML(t),this.attrs.text_prevent_widow?this.el.innerHTML=t.replace(/\&nbsp;([^\s]+)$/," $1").replace(/\s([^\s]+)\s*$/,"&nbsp;$1"):this.el.innerHTML=t,Array.isArray(this.attrs.font_family)&&this.attrs.font_family.length>0?this.el.style.fontFamily=this.attrs.font_family.join(", "):this.el.style.fontFamily="inherit",null!=this.attrs.text_size&&(this.el.style.fontSize="".concat(this.attrs.text_size,"px")),null!=this.attrs.line_spacing_multiplier&&(this.el.style.lineHeight=this.attrs.line_spacing_multiplier),null!=this.attrs.text_color&&(this.el.style.color=this.attrs.text_color),Ae.call(n,"bold")>=0&&(this.el.style.fontWeight="bold"),Ae.call(n,"italic")>=0&&(this.el.style.fontStyle="italic"),null!=(e=this.getTextShadow())&&(this.el.style.textShadow="".concat(e.dx,"px ").concat(e.dy,"px ").concat(e.radius,"px ").concat(e.color)),"left"===this.attrs.text_alignment?this.el.style.textAlign="left":"center"===this.attrs.text_alignment?this.el.style.textAlign="center":"right"===this.attrs.text_alignment&&(this.el.style.textAlign="right"),!0===this.attrs.single_line||1===this.attrs.max_lines?this.el.setAttribute("data-single-line",!0):"number"==typeof this.attrs.max_lines&&(this.el.style.display="-webkit-box",this.el.style.webkitLineClamp=this.attrs.max_lines,this.el.style.webkitBoxOrient="vertical"),!0===this.attrs.text_all_caps&&(this.el.style.textTransform="uppercase"),this)}},{key:"parseSpans",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e=[],0===n.length?e.push({text:t}):n[0].start>0&&e.push({text:t.slice(0,n[0].start)}),n.forEach(function(i,r){var o,s;s=i.start,o=i.end,e.push({text:t.slice(s,o),span:i}),r===n.length-1?o<t.length&&e.push({text:t.slice(o,t.length)}):o<n[r+1].start&&e.push({text:t.slice(o,n[r+1].start)})}),e}},{key:"getTextShadow",value:function(){if(Ie.isDefinedStr(this.attrs.text_shadow_color))return{dx:"number"==typeof this.attrs.text_shadow_dx?this.attrs.text_shadow_dx:0,dy:"number"==typeof this.attrs.text_shadow_dy?this.attrs.text_shadow_dy:0,radius:"number"==typeof this.attrs.text_shadow_radius?this.attrs.text_shadow_radius:0,color:this.attrs.text_shadow_color}}}]),e}();return t.prototype.tagName="p",t.prototype.className="incito__text-view",t}.call(e),Me=[].indexOf;Oe=ye,Le=ce,Ce=["www.youtube.com","www.vimeo.com","video.twentythree.net"];var je,Ne,De=function(){var t=function(t){function e(){return Ot(this,e),Nt(this,Mt(e).apply(this,arguments))}return Rt(e,Oe),Lt(e,[{key:"render",value:function(){var t,e,n;return Le.isDefinedStr(this.attrs.src)&&(n=this.attrs.src,(t=document.createElement("a")).setAttribute("href",n),e=t.hostname,Me.call(Ce,e)>=0&&(this.el.setAttribute("data-src",n),this.lazyload=!0)),this}}]),e}();return t.prototype.className="incito__video-embed-view",t.prototype.lazyload=!1,t}.call(e);je=ye,Ne=ce;var ze,Fe=function(){var t=function(t){function e(){return Ot(this,e),Nt(this,Mt(e).apply(this,arguments))}return Rt(e,je),Lt(e,[{key:"render",value:function(){if(Ne.isDefinedStr(this.attrs.src))return this.el.muted=!0,this.el.preload="metadata",this.el.setAttribute("muted",""),this.el.setAttribute("playsinline","true"),this.el.setAttribute("webkit-playsinline","true"),this.el.setAttribute("data-src",this.attrs.src),this.el.setAttribute("data-mime",this.attrs.mime),!0===this.attrs.autoplay&&(this.el.autoplay=!0),!0===this.attrs.loop&&(this.el.loop=!0),!0===this.attrs.controls&&(this.el.controls=!0),this}}]),e}();return t.prototype.className="incito__video-view",t.prototype.tagName="video",t.prototype.lazyload=!0,t}.call(e);ze=ye;var Ue,Be,Ve,He,qe=function(){var t=function(t){function e(){return Ot(this,e),Nt(this,Mt(e).apply(this,arguments))}return Rt(e,ze),Lt(e,[{key:"render",value:function(){return this}}]),e}();return t.prototype.className="incito__absolute-layout-view",t}.call(e),We=[].indexOf;Ue=ye,Be=["stretch","center","flex-start","flex-end","baseline"],He=["flex-start","flex-end","center","space-between","space-around"],Ve=["row","column"];var Xe,$e,Ge,Ye,Ke,Ze,Je=function(){var t=function(t){function e(){return Ot(this,e),Nt(this,Mt(e).apply(this,arguments))}return Rt(e,Ue),Lt(e,[{key:"render",value:function(){var t,e,n;return t=this.attrs.layout_flex_align_items,We.call(Be,t)>=0&&(this.el.style.alignItems=this.attrs.layout_flex_align_items,this.el.style.msAlignItems=this.attrs.layout_flex_align_items),e=this.attrs.layout_flex_justify_content,We.call(He,e)>=0&&(this.el.style.justifyContent=this.attrs.layout_flex_justify_content,this.el.style.msFlexPack=this.attrs.layout_flex_justify_content),n=this.attrs.layout_flex_direction,We.call(Ve,n)>=0&&(this.el.style.flexDirection=this.attrs.layout_flex_direction,this.el.style.msFlexDirection=this.attrs.layout_flex_direction),this}}]),e}();return t.prototype.className="incito__flex-layout-view",t}.call(e);return $e=Ut,Ke=ce,Ze={View:Ge=ye,ImageView:me,TextView:Re,VideoEmbedView:De,VideoView:Fe,AbsoluteLayout:qe,FlexLayout:Je},Ye="undefined"!=typeof window&&"function"==typeof window.requestIdleCallback?window.requestIdleCallback:function(t){return setTimeout(function(){var e;return e=Date.now(),t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},1)},Xe=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ot(this,t),this.containerEl=e,this.options=n,this.el=document.createElement("div"),this.ids={},this.incito=this.options.incito||{},this.views=this.flattenViews([],this.incito.root_view),this.viewsLength=this.views.length,this.viewIndex=0,this.lazyloadables=[],this.lazyloader=Ke.throttle(this.lazyload.bind(this),150),this.renderedOutsideOfViewport=!1}return Lt(t,[{key:"start",value:function(){var t,e,n=this;return e=!1,t=function(i){n.render(i),n.renderedOutsideOfViewport&&n.lazyload(0),n.renderedOutsideOfViewport&&!e&&(n.trigger("visibleRendered"),e=!0),n.viewIndex<n.viewsLength-1?Ye(t):n.trigger("allrendered")},this.el.className="incito",null!=this.incito.locale&&this.el.setAttribute("lang",this.incito.locale),this.loadFonts(this.incito.font_assets),this.applyTheme(this.incito.theme),this.containerEl.appendChild(this.el),t({timeRemaining:function(){return Number.MAX_VALUE}}),window.addEventListener("scroll",this.lazyloader,!1),window.addEventListener("resize",this.lazyloader,!1),this}},{key:"destroy",value:function(){this.containerEl.removeChild(this.el),window.removeEventListener("scroll",this.lazyloader,!1),window.removeEventListener("resize",this.lazyloader,!1),this.trigger("destroyed")}},{key:"render",value:function(t){var e,n,i,r,o;for(n=this.viewIndex;t.timeRemaining()>0&&n<this.viewsLength-1;){if(e=(i=this.views[n]).attrs,o=new(null!=(r=Ze[e.view_name])?r:Ge)(e).render(),null!=e.id&&"object"==typeof e.meta&&(this.ids[e.id]=e.meta),!0===o.lazyload&&this.lazyloadables.push(o.el),i.view=o,null!=i.parent&&null!=i.parent.view?i.parent.view.el.appendChild(o.el):this.el.appendChild(o.el),!this.renderedOutsideOfViewport&&!this.isInsideViewport(this.views[n].view.el)){this.renderedOutsideOfViewport=!0;break}n++}this.viewIndex=n}},{key:"applyTheme",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Array.isArray(t.font_family)&&(this.el.style.fontFamily=t.font_family.join(", ")),Ke.isDefinedStr(t.background_color)&&(this.el.style.backgroundColor=t.background_color),Ke.isDefinedStr(t.text_color)&&(this.el.style.color=t.text_color),"number"==typeof t.line_spacing_multiplier&&(this.el.style.lineHeight=t.line_spacing_multiplier)}},{key:"flattenViews",value:function(t,e,n){var i,r=this;return i={attrs:e,view:null,parent:n},t.push(i),Array.isArray(e.child_views)&&e.child_views.forEach(function(e){return r.flattenViews(t,e,i)}),t}},{key:"loadFonts",value:function(){var t,e,n,i,r,o,s,a,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("FontFace"in window)for(e in u)s=(a=u[e]).src.map(function(t){return"url(".concat(t[1],")")}).join(", "),t=new FontFace(e,s,{style:null!=(n=a.style)?n:"normal",weight:null!=(i=a.weight)?i:"normal",display:"swap"}),document.fonts.add(t),t.load();else{for(e in r=document.createElement("style"),u)s=(a=u[e]).src.map(function(t){return"url('".concat(t[1],"') format('").concat(t[0],"')")}).join(", "),o="@font-face {\n    font-family: '".concat(e,"';\n    font-display: swap;\n    src: ").concat(s,";\n}"),r.appendChild(document.createTextNode(o));document.head.appendChild(r)}}},{key:"isInsideViewport",value:function(t,e){var n,i;return i=window.innerHeight,e=null!=e?e:i,(n=t.getBoundingClientRect()).top<=i+e&&n.top+n.height>=-e}},{key:"lazyload",value:function(t){var e=this;this.lazyloadables=this.lazyloadables.filter(function(n){return!e.isInsideViewport(n,t)||(e.revealElement(n),!1)})}},{key:"revealElement",value:function(t){var e,n,i;i=t.getAttribute("data-src"),"img"===t.tagName.toLowerCase()?(t.addEventListener("load",function(){t.className+=" incito--loaded"}),t.setAttribute("src",i)):"video"===t.tagName.toLowerCase()?((n=document.createElement("source")).setAttribute("src",i),n.setAttribute("type",t.getAttribute("data-mime")),t.appendChild(n)):/incito__video-embed-view/gi.test(t.className)?((e=document.createElement("iframe")).setAttribute("allow","accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"),e.setAttribute("src",i),t.appendChild(e)):t.style.backgroundImage="url(".concat(i,")")}}]),t}(),$e.mixin(Xe),Xe},e.exports=i()});Gr=Hn,$r=function(){function t(e,n,i){var r=i.pagedPublicationId;zn(this,t),this.eventTracker=e,this.id=n,this.pagedPublicationId=r}return Un(t,[{key:"trackOpened",value:function(t){return null==this.eventTracker?this:(this.eventTracker.trackIncitoPublicationOpened({"ip.id":this.id,"pp.vt":this.pagedPublicationId?this.eventTracker.createViewToken(this.pagedPublicationId):void 0,vt:this.eventTracker.createViewToken(this.id)}),this)}}]),t}(),Gr.mixin($r),Kr=eo,Zr=Hn,Yr=$r,Jr=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};zn(this,t),this.el=e,this.options=n,this.incito=new Kr(this.el,{incito:this.options.incito}),this._eventTracking=new Yr(this.options.eventTracker,this.options.id,{pagedPublicationId:this.options.pagedPublicationId})}return Un(t,[{key:"start",value:function(){return this.incito.start(),this.el.classList.add("sgn-incito--started"),this._eventTracking.trackOpened(),this}},{key:"destroy",value:function(){this.incito.destroy()}}]),t}(),Zr.mixin(Jr);var no,io=Jr,ro=Jt.f,oo=(no=!1,function(t){for(var e,n=ee(t),i=cn(n),r=i.length,o=0,s=[];r>o;)ro.call(n,e=i[o++])&&s.push(no?[e,n[e]]:n[e]);return s});D(D.S,"Object",{values:function(t){return oo(t)}});var so,ao,uo,lo,co,ho,fo=function(){function t(e){var n=this;zn(this,t),this.viewer=e,this.progressEl=this.viewer.el.querySelector(".sgn-incito__progress"),this.scrollListener=this.scroll.bind(this),this.isScrolling=!1,null!=this.progressEl&&(this.progressEl.textContent="0 %",window.addEventListener("scroll",this.scrollListener,!1),this.viewer.bind("destroyed",function(){window.removeEventListener("scroll",n.scrollListener)}))}return Un(t,[{key:"scroll",value:function(){var t,e,n,i=this;n=window.innerHeight,e=this.viewer.el.getBoundingClientRect(),t=Math.min(100,Math.round(Math.abs(e.top-n)/e.height*100)),clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(function(){i.isScrolling=!1,i.viewer.el.classList.remove("sgn-incito--scrolling")},1e3),!1===this.isScrolling&&(this.viewer.el.classList.add("sgn-incito--scrolling"),this.isScrolling=!0),this.progressEl.textContent="".concat(t," %"),this.viewer.trigger("progress",{progress:t})}}]),t}(),po=(so=Object.freeze({default:"query GetIncitoPublication($id: ID!, $deviceCategory: DeviceCategory!, $orientation: Orientation!, $pixelRatio: Float!, $pointer: Pointer!, $maxWidth: Int!, $versionsSupported: [String!]!, $locale: LocaleCode, $time: DateTime, $featureLabels: [IncitoFeatureLabelInput!]) {\n  node(id: $id) {\n    ... on IncitoPublication {\n      id\n      incito(deviceCategory: $deviceCategory, orientation: $orientation, pixelRatio: $pixelRatio, pointer: $pointer, maxWidth: $maxWidth, versionsSupported: $versionsSupported, locale: $locale, time: $time, featureLabels: $featureLabels)\n    }\n  }\n}"}))&&so.default||so;ho=on,uo=Qn,ao=fo,lo=ei,co=po;var go={Viewer:io,Bootstrapper:function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};zn(this,t),this.options=e,this.deviceCategory=this.getDeviceCategory(),this.pixelRatio=this.getPixelRatio(),this.pointer=this.getPointer(),this.orientation=this.getOrientation(),this.time=this.getTime(),this.locale=this.getLocale(),this.maxWidth=this.getMaxWidth(),this.featureLabels=this.getFeatureLabels(),this.versionsSupported=["1.0.0"],this.storageKey="incito-".concat(this.options.id)}return Un(t,[{key:"getDeviceCategory",value:function(){return ho.getDeviceCategory()}},{key:"getPixelRatio",value:function(){return window.devicePixelRatio||1}},{key:"getPointer",value:function(){return ho.getPointer()}},{key:"getOrientation",value:function(){var t;return"quadratic"===(t=ho.getOrientation(screen.width,screen.height))&&(t="horizontal"),t}},{key:"getTime",value:function(){return(new Date).toISOString()}},{key:"getLocale",value:function(){var t,e,n,i,r;for(i=[],n=null,Array.isArray(navigator.languages)&&navigator.languages.length>0?i=i.concat(navigator.languages):"string"==typeof navigator.language&&navigator.language.length>0?i.push(navigator.language):"string"==typeof navigator.browserLanguage&&navigator.browserLanguage.length>0&&i.push(navigator.browserLanguage),i.push("en_US"),t=0,e=i.length;t<e;t++)if(null!=(r=i[t])&&(r=r.replace("-","_"),/[a-z][a-z]_[A-Z][A-Z]/g.test(r))){n=r;break}return n}},{key:"getMaxWidth",value:function(){return 90===Math.abs(window.orientation)?Math.min(this.options.el.offsetWidth,screen.width):this.options.el.offsetWidth}},{key:"getFeatureLabels",value:function(){var t;return t=lo.get("incito-feature-labels"),!1===Array.isArray(t)&&(t=[]),t}},{key:"anonymizeFeatureLabels",value:function(){var t,e;return t=this.featureLabels.length,e=this.featureLabels.reduce(function(t,e){return t[e]||(t[e]={key:e,value:0}),t[e].value++,t},{}),Object.values(e).map(function(e){return{key:e.key,value:Math.round(e.value/t*100)/100}})}},{key:"fetch",value:function(t){var e,n=this;if(t=t.bind(this),null!=(e=uo.storage.session.get(this.storageKey))&&null!=e.response&&e.width===this.maxWidth)return t(null,e.response);uo.GraphKit.request({query:co,operationName:"GetIncitoPublication",variables:{id:this.options.id,deviceCategory:"DEVICE_CATEGORY_"+this.deviceCategory.toUpperCase(),pixelRatio:this.pixelRatio,pointer:"POINTER_"+this.pointer.toUpperCase(),orientation:"ORIENTATION_"+this.orientation.toUpperCase(),time:this.time,locale:this.locale,maxWidth:this.maxWidth,versionsSupported:this.versionsSupported,featureLabels:this.anonymizeFeatureLabels(this.featureLabels)}},function(e,i){null!=e?t(e):i.errors&&i.errors.length>0?t(ho.error(new Error,"graph request contained errors")):(t(null,i),uo.storage.session.set(n.storageKey,{width:n.maxWidth,response:i}))})}},{key:"createViewer",value:function(t){var e,n;if(null==t.incito)throw ho.error(new Error,"you need to supply valid Incito to create a viewer");return n=new uo.IncitoPublicationKit.Viewer(this.options.el,{id:this.options.id,pagedPublicationId:this.options.pagedPublicationId,incito:t.incito,eventTracker:this.options.eventTracker}),new ao(n),e=this,uo.CoreUIKit.on(n.el,"click",".incito__view[data-feature-labels]",function(){var t;for(t=this.getAttribute("data-feature-labels").split(","),e.featureLabels=e.featureLabels.concat(t);e.featureLabels.length>1e3;)e.featureLabels.shift();lo.set("incito-feature-labels",e.featureLabels)}),n}}]),t}()};Ge("match",1,function(t,e,n,i){return[function(n){var i=t(this),r=null==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},function(t){var e=i(n,t,this);if(e.done)return e.value;var r=y(t),o=String(this);if(!r.global)return ze(r,o);var s=r.unicode;r.lastIndex=0;for(var a,u=[],l=0;null!==(a=ze(r,o));){var c=String(a[0]);u[l]=c,""===c&&(r.lastIndex=Ne(o,$(r.lastIndex),s)),l++}return 0===l?null:u}]});var vo,yo,mo,bo,_o,wo,xo=e(function(t){var e,n=0,i=0,r={},o={};function s(t,i,r){return"_root"==i?r:t!==r?function(t){return e||(e=t.matches?t.matches:t.webkitMatchesSelector?t.webkitMatchesSelector:t.mozMatchesSelector?t.mozMatchesSelector:t.msMatchesSelector?t.msMatchesSelector:t.oMatchesSelector?t.oMatchesSelector:c.matchesSelector)}(t).call(t,i)?t:t.parentNode?(n++,s(t.parentNode,i,r)):void 0:void 0}function a(t,e,n,i){r[t.id]||(r[t.id]={}),r[t.id][e]||(r[t.id][e]={}),r[t.id][e][n]||(r[t.id][e][n]=[]),r[t.id][e][n].push(i)}function u(t,e,n,i){if(r[t.id])if(e)if(i||n)if(i){if(r[t.id][e][n])for(var o=0;o<r[t.id][e][n].length;o++)if(r[t.id][e][n][o]===i){r[t.id][e][n].splice(o,1);break}}else delete r[t.id][e][n];else r[t.id][e]={};else for(var s in r[t.id])r[t.id].hasOwnProperty(s)&&(r[t.id][s]={})}function l(t,e,i,l){if(this.element){t instanceof Array||(t=[t]),i||"function"!=typeof e||(i=e,e="_root");var h,f=this.id;for(h=0;h<t.length;h++)l?u(this,t[h],e,i):(r[f]&&r[f][t[h]]||c.addEvent(this,t[h],p(t[h])),a(this,t[h],e,i));return this}function p(t){return function(e){!function(t,e,i){if(r[t][i]){var a,u,l=e.target||e.srcElement,h={},f=0,p=0;for(a in n=0,r[t][i])r[t][i].hasOwnProperty(a)&&(u=s(l,a,o[t].element))&&c.matchesEvent(i,o[t].element,u,"_root"==a,e)&&(n++,r[t][i][a].match=u,h[n]=r[t][i][a]);for(e.stopPropagation=function(){e.cancelBubble=!0},f=0;f<=n;f++)if(h[f])for(p=0;p<h[f].length;p++){if(!1===h[f][p].call(h[f].match,e))return void c.cancel(e);if(e.cancelBubble)return}}}(f,e,t)}}}function c(t,e){if(!(this instanceof c)){for(var n in o)if(o[n].element===t)return o[n];return o[++i]=new c(t,i),o[i]}this.element=t,this.id=e}c.prototype.on=function(t,e,n){return l.call(this,t,e,n)},c.prototype.off=function(t,e,n){return l.call(this,t,e,n,!0)},c.matchesSelector=function(){},c.cancel=function(t){t.preventDefault(),t.stopPropagation()},c.addEvent=function(t,e,n){var i="blur"==e||"focus"==e;t.element.addEventListener(e,n,i)},c.matchesEvent=function(){return!0},t.exports&&(t.exports=c),"undefined"!=typeof window&&window.exports&&(window.Gator=c)}),ko=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};zn(this,t),this.options=e,this.el=document.createElement("div"),this.el.className="sgn-offer-details",this.el.setAttribute("tabindex",-1),this.el.appendChild(this.options.contentEl),this.resizeListener=this.resize.bind(this),this.position()}return Un(t,[{key:"appendTo",value:function(t){return t.appendChild(this.el),this.el.offsetWidth,this.show(),this}},{key:"show",value:function(){return this.el.className+=" in",window.addEventListener("resize",this.resizeListener,!1),this}},{key:"destroy",value:function(){window.removeEventListener("resize",this.resizeListener),this.el.parentNode.removeChild(this.el)}},{key:"position",value:function(){var t,e,n,i;e=this.options.anchorEl.getBoundingClientRect(),n=window.pageYOffset+e.top+this.options.anchorEl.offsetHeight,t=window.pageXOffset+e.left,i=this.options.anchorEl.offsetWidth,this.el.style.top=n+"px",this.el.style.left=t+"px",this.el.style.width=i+"px"}},{key:"resize",value:function(){this.position()}}]),t}();yo=Hn,vo=xo,mo=Gn,_o=Mr,wo='<div class="sgn-popover__background" data-close></div>\n<div class="sgn-popover__menu">\n    {{#header}}\n        <div class="sgn-popover__header">{{header}}</div>\n    {{/header}}\n    <div class="sgn-popover__content">\n        <ul>\n            {{#singleChoiceItems}}\n                <li data-index="{{index}}">\n                    <p class="sgn-popover-item__title">{{item.title}}</p>\n                    {{#item.subtitle}}\n                        <p class="sgn-popover-item__subtitle">{{item.subtitle}}</p>\n                    {{/item.subtitle}}\n                </li>\n            {{/singleChoiceItems}}\n        </ul>\n    </div>\n</div>',bo=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};zn(this,t),this.options=e,this.el=document.createElement("div"),this.backgroundEl=document.createElement("div"),this.resizeListener=this.resize.bind(this),this.scrollListener=this.scroll.bind(this)}return Un(t,[{key:"render",value:function(){var t,e,n,i;return null!=(e=this.options.width)?e:100,t=this.options.header,null!=this.options.template&&(wo=this.options.template),this.trigger.bind(this),i={header:t,singleChoiceItems:null!=(n=this.options.singleChoiceItems)?n.map(function(t,e){return{item:t,index:e}}):void 0},this.el.className="sgn-popover",this.el.setAttribute("tabindex",-1),this.el.innerHTML=mo.render(wo,i),this.position(),this.addEventListeners(),this}},{key:"destroy",value:function(){vo(this.el).off(),window.removeEventListener("resize",this.resizeListener),window.removeEventListener("scroll",this.scrollListener),null!=this.el.parentNode&&(this.el.parentNode.removeChild(this.el),this.trigger("destroyed"))}},{key:"position",value:function(){var t,e,n,i,r,o,s,a;s=this.options.y,n=this.options.x,a=(i=this.el.querySelector(".sgn-popover__menu")).offsetWidth,e=i.offsetHeight,o=this.el.parentNode.offsetWidth,r=this.el.parentNode.offsetHeight,s-=(t=this.el.parentNode.getBoundingClientRect()).top,n-=t.left,s-=window.pageYOffset,n-=window.pageXOffset,i.style.top=s+e>r?r-e+"px":s+"px",i.style.left=n+a>o?o-a+"px":n+"px"}},{key:"addEventListeners",value:function(){var t,e=this;t=this.trigger.bind(this),this.el.addEventListener("keyup",this.keyUp.bind(this)),vo(this.el).on("click","[data-index]",function(e){e.preventDefault(),e.stopPropagation(),t("selected",{index:+this.getAttribute("data-index")})}),vo(this.el).on("click","[data-close]",function(t){t.preventDefault(),t.stopPropagation(),e.destroy()}),vo(this.el).on("click",".sgn-popover__menu",function(t){t.stopPropagation()}),window.addEventListener("resize",this.resizeListener,!1),window.addEventListener("scroll",this.scrollListener,!1)}},{key:"keyUp",value:function(t){t.keyCode===_o.ESC&&this.destroy()}},{key:"resize",value:function(){this.destroy()}},{key:"scroll",value:function(){this.destroy()}}]),t}(),yo.mixin(bo);var So;So=bo;var Eo;Eo=xo;var To,Po,Io,Ao,Oo,Co,Lo,Ro={OfferDetails:ko,Popover:bo,singleChoicePopover:function(t,e){var n,i;return n=t.items,i=null,1===n.length?e(n[0]):n.length>1&&((i=new So({header:t.header,x:t.x,y:t.y,singleChoiceItems:n})).bind("selected",function(t){e(n[t.index]),i.destroy()}),i.bind("destroyed",function(){t.el.focus()}),t.el.appendChild(i.el),i.render().el.focus()),{destroy:function(){null!=i&&i.destroy()}}},on:function(t,e,n,i){return Eo(t).on(e,n,i)},off:function(t,e,n,i){return Eo(t).off(e,n,i)}};return Ao=on.isBrowser,(To=Qn).storage={local:ei,session:ii,cookie:ui},To.AssetsKit=li,To.EventsKit=Ni,To.GraphKit=Ui,To.CoreKit=ar,To.PagedPublicationKit=to,To.IncitoPublicationKit=go,To.CoreUIKit=Ro,"object"==typeof(Co=To.storage.cookie.get("session"))&&To.config.set({coreSessionToken:Co.token,coreSessionClientId:Co.client_id}),To.client=function(){var t;return(null!=(t=To.storage.local.get("client-id"))?t.data:void 0)&&(t=t.data),null==t&&(t=To.util.uuid(),To.storage.local.set("client-id",t)),{id:t}}(),To.config.bind("change",function(t){var e;null!=(e=t.eventTracker)&&e.trackClientSessionOpened()}),Ao()&&null!=(Oo=document.getElementById("sgn-sdk"))&&(Po=Oo.getAttribute("data-app-key"),Lo=Oo.getAttribute("data-track-id"),Io={},null!=Po&&(Io.appKey=Po),null!=Lo&&(Io.eventTracker=new To.EventsKit.Tracker({trackId:Lo})),To.config.set(Io)),To});
//# sourceMappingURL=sgn-sdk.min.js.map
