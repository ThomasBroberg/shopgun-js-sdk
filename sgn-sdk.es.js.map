{"version":3,"file":"sgn-sdk.es.js","sources":["../lib/coffeescript/config.coffee","../lib/coffeescript/translations.coffee","../lib/coffeescript/util.coffee","../lib/coffeescript/core.coffee","../lib/coffeescript/sgn.coffee","../lib/coffeescript/request/node.coffee","../lib/coffeescript/kits/graph/request.coffee","../lib/coffeescript/kits/graph/index.coffee","../lib/coffeescript/kits/core/request.coffee","../lib/coffeescript/storage/client-cookie.coffee","../lib/coffeescript/kits/core/session.coffee","../lib/coffeescript/kits/core/index.coffee","../lib/coffeescript/node.coffee"],"sourcesContent":["MicroEvent = require 'microevent'\nConfig = class Config\n    keys: [\n        'appVersion',\n        'appKey',\n        'appSecret',\n        'authToken',\n        'eventTracker',\n        'locale',\n        'coreSessionToken',\n        'coreSessionClientId',\n        'coreUrl',\n        'graphUrl',\n        'eventsTrackUrl',\n        'eventsPulseUrl',\n        'assetsFileUploadUrl'\n    ]\n\n    constructor: ->\n        @attrs = {}\n\n        return\n\n    set: (config = {}) ->\n        changedAttributes = {}\n\n        for key, value of config\n            if key in @keys\n                @attrs[key] = value\n                changedAttributes[key] = value\n\n        @trigger 'change', changedAttributes\n\n        return\n\n    get: (option) ->\n        @attrs[option]\n\nMicroEvent.mixin Config\n\nmodule.exports = Config\n","Mustache = require 'mustache'\npairs =\n    'paged_publication.hotspot_picker.header': 'Which offer did you mean?'\n\nmodule.exports =\n    t: (key, view) ->\n        template = pairs[key] ? ''\n\n        Mustache.render template, view\n\n    update: (translations) ->\n        for key, value of translations\n            pairs[key] = value\n\n        return\n","process = require 'process'\n\nutil =\n    isBrowser: ->\n        typeof process isnt 'undefined' and process.browser\n\n    isNode: ->\n        not util.isBrowser()\n\n    error: (err, options) ->\n        err.message = err.message or null\n\n        if typeof options is 'string'\n            err.message = options\n        else if typeof options is 'object' and options?\n            for key, value of options\n                err[key] = value\n\n            err.message = options.message if options.message?\n            err.code = options.code or options.name if options.code? or options.message?\n            err.stack = options.stack if options.stack?\n\n        err.name = options and options.name or err.name or err.code or 'Error'\n        err.time = new Date()\n\n        err\n\n    uuid: ->\n        'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace /[xy]/g, (c) ->\n            r = Math.random() * 16 | 0\n            v = if c is 'x' then r else (r & 0x3|0x8)\n\n            v.toString 16\n\n    getQueryParam: (field, url) ->\n        href = if url then url else window.location.href\n        reg = new RegExp '[?&]' + field + '=([^&#]*)', 'i'\n        string = reg.exec href\n\n        if string then string[1] else undefined\n\n    formatQueryParams: (queryParams = {}) ->\n        Object\n            .keys queryParams\n            .map (key) -> key + '=' + encodeURIComponent(queryParams[key])\n            .join '&'\n\n    getRandomNumberBetween: (from, to) ->\n        Math.floor(Math.random() * to) + from\n\n    getOS: ->\n        name = null\n        ua = window.navigator.userAgent\n\n        if ua.indexOf('Windows') > -1\n            name = 'Windows'\n        else if ua.indexOf('Mac') > -1\n            name = 'macOS'\n        else if ua.indexOf('X11') > -1\n            name = 'unix'\n        else if ua.indexOf('Linux') > -1\n            name = 'Linux'\n        else if ua.indexOf('iOS') > -1\n            name = 'iOS'\n        else if ua.indexOf('Android') > -1\n            name = 'Android'\n\n        name\n\n    btoa: (str) ->\n        if util.isBrowser()\n            btoa str\n        else\n            buffer = null\n\n            if str instanceof Buffer\n                buffer = str\n            else\n                buffer = new Buffer str.toString(), 'binary'\n\n            buffer.toString 'base64'\n\n    getScreenDimensions: ->\n        density = window.devicePixelRatio ? 1\n        logical =\n            width: window.screen.width\n            height: window.screen.height\n        physical =\n            width: Math.round logical.width * density\n            height: Math.round logical.height * density\n\n        density: density\n        logical: logical\n        physical: physical\n\n    getUtcOffsetSeconds: ->\n        now = new Date()\n        jan1 = new Date now.getFullYear(), 0, 1, 0, 0, 0, 0\n        tmp = jan1.toGMTString()\n        jan2 = new Date tmp.substring(0, tmp.lastIndexOf(' ') - 1)\n        stdTimeOffset = (jan1 - jan2) / 1000\n\n        stdTimeOffset\n\n    getUtcDstOffsetSeconds: ->\n        new Date().getTimezoneOffset() * 60 * -1\n\n    getColorBrightness: (color) ->\n        color = color.replace '#', ''\n        hex = parseInt (hex + '').replace(/[^a-f0-9]/gi, ''), 16\n        rgb = []\n        sum = 0\n        x = 0\n\n        while x < 3\n            s = parseInt(color.substring(2 * x, 2), 16)\n            rgb[x] = s\n\n            sum += s if s > 0\n\n            ++x\n\n        if sum <= 381 then 'dark' else 'light'\n\n    find: (arr, fn) ->\n        for item in arr\n            return item if fn(item) is true\n\n    chunk: (arr, size) ->\n        results = []\n\n        while arr.length\n            results.push arr.splice(0, size)\n\n        results\n\n    throttle: (fn, threshold = 250, scope) ->\n        last = undefined\n        deferTimer = undefined\n\n        ->\n            context = scope or @\n            now = new Date().getTime()\n            args = arguments\n\n            if last and now < last + threshold\n                clearTimeout deferTimer\n\n                deferTimer = setTimeout ->\n                    last = now\n                    \n                    fn.apply context, args\n                \n                    return\n                , threshold\n            else\n                last = now\n                fn.apply context, args\n\n            return\n\n    loadImage: (src, callback) ->\n        img = new Image()\n\n        img.onload = -> callback null, img.width, img.height\n        img.onerror = -> callback new Error()\n        img.src = src\n\n        img\n\n    distance: (lat1, lng1, lat2, lng2) ->\n        radlat1 = Math.PI * lat1 / 180\n        radlat2 = Math.PI * lat2 / 180\n        theta = lng1 - lng2\n        radtheta = Math.PI * theta / 180\n        dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta)\n        dist = Math.acos(dist)\n        dist = dist * 180 / Math.PI\n        dist = dist * 60 * 1.1515\n        dist = dist * 1.609344 * 1000\n\n        dist\n\n    async:\n        parallel: (asyncCalls, sharedCallback) ->\n            counter = asyncCalls.length\n            allResults = []\n            k = 0\n\n            makeCallback = (index) ->\n                ->\n                    results = []\n                    i = 0\n\n                    counter--\n\n                    while i < arguments.length\n                        results.push arguments[i]\n                        i++\n\n                    allResults[index] = results\n\n                    sharedCallback allResults if counter is 0\n\n                    return\n\n            while k < asyncCalls.length\n                asyncCalls[k] makeCallback(k)\n                k++\n\n            return\n\nmodule.exports = util\n","Config = require './config'\ntranslations = require './translations'\nutil = require './util'\nconfig = new Config()\n\n# Set default values.\nconfig.set\n    locale: 'en_US'\n    coreUrl: 'https://api.etilbudsavis.dk'\n    graphUrl: 'https://graph.service.shopgun.com'\n    eventsTrackUrl: 'https://events.service.shopgun.com/track'\n    eventsPulseUrl: 'wss://events.service.shopgun.com/pulse'\n    assetsFileUploadUrl: 'https://assets.service.shopgun.com/upload'\n\nmodule.exports =\n    config: config\n\n    translations: translations\n\n    util: util\n","module.exports = require './core'\n","SGN = require '../sgn'\nrequest = require 'request'\n\nmodule.exports = (options = {}, callback) ->\n    requestOptions =\n        method: options.method\n        url: options.url\n        headers: options.headers\n        timeout: options.timeout\n        json: options.json\n        body: options.body\n        formData: options.formData\n        forever: true\n        qs: options.qs\n\n    if Array.isArray options.cookies\n        jar = request.jar()\n\n        options.cookies.forEach (cookie) ->\n            jar.setCookie request.cookie(\"#{cookie.key}=#{cookie.value}\"), cookie.url\n\n            return\n\n        requestOptions.jar = jar\n\n    request requestOptions, (err, response, body) ->\n        if err?\n            callback new Error()\n        else\n            callback null,\n                statusCode: response.statusCode\n                headers: response.headers\n                body: body\n\n        return\n\n    return\n","SGN = require '../../sgn'\n\nparseCookies = (cookies = []) ->\n    parsedCookies = {}\n\n    cookies.map (cookie) ->\n        parts = cookie.split '; '\n        keyValuePair = parts[0].split '='\n        key = keyValuePair[0]\n        value = keyValuePair[1]\n\n        parsedCookies[key] = value\n\n        return\n    \n    parsedCookies\n\nmodule.exports = (options = {}, callback) ->\n    url = SGN.config.get 'graphUrl'\n    timeout = 1000 * 12\n    appKey = SGN.config.get 'appKey'\n    authToken = SGN.config.get 'authToken'\n    authTokenCookieName = 'shopgun-auth-token'\n    options =\n        method: 'post'\n        url: url\n        timeout: timeout\n        json: true\n        headers: {}\n        body:\n            query: options.query\n            operationName: options.operationName\n            variables: options.variables\n\n    # Apply authorization header when app key is provided to avoid rate limiting.\n    options.headers.Authorization = 'Basic ' + SGN.util.btoa(\"app-key:#{appKey}\") if appKey?\n\n    # Set cookies manually in node.js.\n    if SGN.util.isNode() and authToken?\n        options.cookies = [\n            key: authTokenCookieName\n            value: authToken\n            url: url\n        ]\n    else if SGN.util.isBrowser()\n        options.useCookies = true\n\n    SGN.request options, (err, data) ->\n        if err?\n            callback SGN.util.error(new Error('Graph request error'),\n                code: 'GraphRequestError'\n            )\n        else\n            # Update auth token as it might have changed.\n            if SGN.util.isNode()\n                cookies = parseCookies data.headers?['set-cookie']\n                authCookie = cookies[authTokenCookieName]\n\n                if SGN.config.get('authToken') isnt authCookie\n                    SGN.config.set 'authToken', authCookie\n\n            if data.statusCode is 200\n                callback null, data.body\n            else\n                callback SGN.util.error(new Error('Graph API error'),\n                    code: 'GraphAPIError'\n                    statusCode: data.statusCode\n                )\n\n        return\n\n    return\n\n\n","module.exports =\n    request: require './request'\n","SGN = require '../../sgn'\n\nmodule.exports = (options = {}, callback = ->) ->\n    SGN.CoreKit.session.ensure (err) ->\n        return callback err if err?\n\n        url = options.url ? ''\n        headers = options.headers ? {}\n        token = SGN.config.get 'coreSessionToken'\n        clientId = SGN.config.get 'coreSessionClientId'\n        appVersion = SGN.config.get 'appVersion'\n        appSecret = SGN.config.get 'appSecret'\n        locale = SGN.config.get 'locale'\n        qs = options.qs ? {}\n        geo = options.geolocation\n\n        headers['X-Token'] = token\n        headers['X-Signature'] = SGN.CoreKit.session.sign appSecret, token if appSecret?\n\n        qs.r_locale = locale if locale?\n        qs.api_av = appVersion if appVersion?\n        qs.client_id = clientId if clientId?\n\n        if geo?\n            qs.r_lat = geo.latitude if geo.latitude? and not qs.r_lat?\n            qs.r_lng = geo.longitude if geo.longitude? and not qs.r_lng?\n            qs.r_radius = geo.radius if geo.radius? and not qs.r_radius?\n            qs.r_sensor = geo.sensor if geo.sensor? and not qs.r_sensor?\n\n        SGN.request\n            method: options.method\n            url: SGN.config.get('coreUrl') + url\n            qs: qs\n            body: options.body\n            formData: options.formData\n            headers: headers\n            json: true\n            useCookies: false\n        , (err, data) ->\n            if err?\n                callback SGN.util.error(new Error('Core request error'),\n                    code: 'CoreRequestError'\n                )\n            else\n                token = SGN.config.get 'coreSessionToken'\n                responseToken = data.headers['x-token']\n\n                SGN.CoreKit.session.saveToken responseToken if token isnt responseToken\n\n                if data.statusCode >= 200 and data.statusCode < 300 or data.statusCode is 304\n                    callback null, data.body\n                else\n                    callback SGN.util.error(new Error('Core API error'),\n                        code: 'CoreAPIError'\n                        statusCode: data.statusCode\n                    ), data.body\n\n            return\n\n    return\n","SGN = require '../sgn'\nprefixKey = 'sgn-'\n\nmodule.exports =\n    get: (key) ->\n        return if SGN.util.isNode()\n\n        try\n            name = \"#{prefixKey}#{key}=\"\n            ca = document.cookie.split ';'\n\n            for c in ca\n                ct = c.trim()\n\n                value = ct.substring(name.length, ct.length) if ct.indexOf(name) is 0\n\n            value = JSON.parse value\n        catch err\n            value = {}\n\n        value\n\n    set: (key, value) ->\n        return if SGN.util.isNode()\n\n        try\n            days = 365\n            date = new Date()\n            str = JSON.stringify value\n\n            date.setTime date.getTime() + days * 24 * 60 * 60 * 1000\n\n            document.cookie = \"#{prefixKey}#{key}=#{str};expires=#{date.toUTCString()};path=/\"\n        catch err\n\n        return\n\n\n","SGN = require '../../sgn'\nsha256 = require 'sha256'\nclientCookieStorage = require '../../storage/client-cookie'\ncallbackQueue = []\n\nsession =\n    ttl: 1 * 60 * 60 * 24 * 60\n\n    saveToken: (token) ->\n        SGN.config.set coreSessionToken: token\n\n        session.saveCookie()\n\n        return\n\n    saveClientId: (clientId) ->\n        SGN.config.set coreSessionClientId: clientId\n\n        session.saveCookie()\n\n        return\n\n    saveCookie: ->\n        clientCookieStorage.set 'session',\n            token: SGN.config.get 'coreSessionToken'\n            client_id: SGN.config.get 'coreSessionClientId'\n\n        return\n\n    create: (callback) ->\n        SGN.request\n            method: 'post'\n            url: SGN.config.get('coreUrl') + '/v2/sessions'\n            json: true\n            qs:\n                api_key: SGN.config.get 'appKey'\n                token_ttl: session.ttl\n        , (err, data) ->\n            if err?\n                callback err\n            else if data.statusCode is 201\n                session.saveToken data.body.token\n                session.saveClientId data.body.client_id\n\n                callback err, data.body\n            else\n                callback new Error('Could not create session')\n\n            return\n\n        return\n    \n    update: (callback) ->\n        headers = {}\n        token = SGN.config.get 'coreSessionToken'\n        appSecret = SGN.config.get 'appSecret'\n\n        headers['X-Token'] = token\n        headers['X-Signature'] = session.sign appSecret, token if appSecret?\n\n        SGN.request\n            url: SGN.config.get('coreUrl') + '/v2/sessions'\n            headers: headers\n            json: true\n        , (err, data) ->\n            if err?\n                callback err\n            else if data.statusCode is 200\n                session.saveToken data.body.token\n                session.saveClientId data.body.client_id\n\n                callback err, data.body\n            else\n                callback new Error('Could not update session')\n\n            return\n\n        return\n\n    renew: (callback) ->\n        headers = {}\n        token = SGN.config.get 'coreSessionToken'\n        appSecret = SGN.config.get 'appSecret'\n\n        headers['X-Token'] = token\n        headers['X-Signature'] = session.sign appSecret, token if appSecret?\n\n        SGN.request\n            method: 'put'\n            url: SGN.config.get('coreUrl') + '/v2/sessions'\n            headers: headers\n            json: true\n        , (err, data) ->\n            if err?\n                callback err\n            else if data.statusCode is 200\n                session.saveToken data.body.token\n                session.saveClientId data.body.client_id\n\n                callback err, data.body\n            else\n                callback new Error('Could not renew session')\n\n            return\n\n        return\n\n    ensure: (callback) ->\n        queueCount = callbackQueue.length\n        complete = (err) ->\n            callbackQueue = callbackQueue.filter (fn) ->\n                fn err\n\n                false\n\n            return\n\n        callbackQueue.push callback\n\n        if queueCount is 0\n            if not SGN.config.get('coreSessionToken')?\n                session.create complete\n            else\n                complete()\n\n        return\n\n    sign: (appSecret, token) ->\n        sha256 [appSecret, token].join('')\n\nmodule.exports = session\n","SGN = require '../../sgn'\nrequest = require './request'\nsession = require './session'\n\nmodule.exports =\n    request: request\n\n    session: session\n","SGN = require './sgn'\n\nSGN.request = require './request/node'\n\n# Expose the different kits.\nSGN.GraphKit = require './kits/graph'\nSGN.CoreKit = require './kits/core'\n\nmodule.exports = SGN\n"],"names":["Config","MicroEvent","indexOf","require$$0","attrs","config","changedAttributes","key","value","keys","trigger","option","mixin","Mustache","pairs","view","ref","template","render","translations","process","util","browser","isBrowser","err","options","message","code","name","stack","time","Date","replace","c","r","v","Math","random","toString","field","url","href","reg","string","window","location","RegExp","exec","queryParams","Object","map","encodeURIComponent","join","from","to","floor","ua","navigator","userAgent","str","buffer","btoa","Buffer","density","logical","physical","screen","width","height","round","jan1","jan2","now","stdTimeOffset","tmp","getFullYear","toGMTString","substring","lastIndexOf","getTimezoneOffset","color","hex","rgb","s","sum","x","parseInt","arr","fn","item","j","len","size","results","length","push","splice","threshold","scope","deferTimer","last","args","context","getTime","arguments","setTimeout","apply","src","callback","img","Image","onload","onerror","Error","lat1","lng1","lat2","lng2","dist","radlat1","radlat2","radtheta","theta","PI","sin","cos","acos","asyncCalls","sharedCallback","allResults","counter","k","makeCallback","index","i","require$$1","require$$2","set","request","SGN","jar","requestOptions","method","headers","timeout","json","body","formData","qs","Array","isArray","cookies","forEach","cookie","setCookie","response","statusCode","parseCookies","parsedCookies","keyValuePair","parts","split","appKey","authToken","authTokenCookieName","get","query","operationName","variables","Authorization","isNode","useCookies","data","authCookie","error","CoreKit","session","ensure","appSecret","appVersion","clientId","geo","locale","ref1","ref2","token","geolocation","sign","r_locale","api_av","client_id","r_lat","latitude","r_lng","longitude","r_radius","radius","r_sensor","sensor","responseToken","saveToken","prefixKey","ca","ct","document","trim","JSON","parse","date","days","stringify","setTime","toUTCString","callbackQueue","clientCookieStorage","sha256","saveCookie","ttl","saveClientId","complete","queueCount","filter","create","GraphKit","require$$3"],"mappings":"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"}