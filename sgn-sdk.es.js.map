{"version":3,"file":"sgn-sdk.es.js","sources":["../rollupPluginBabelHelpers","../lib/coffeescript/util.coffee","../lib/coffeescript/config.coffee","../lib/coffeescript/translations.coffee","../lib/coffeescript/core.coffee","../lib/coffeescript/sgn.coffee","../lib/coffeescript/storage/client-local.coffee","../lib/coffeescript/storage/client-session.coffee","../lib/coffeescript/storage/client-cookie.coffee","../lib/coffeescript/request/index.coffee","../lib/coffeescript/kits/assets/file-upload.coffee","../lib/coffeescript/kits/assets/index.coffee","../lib/coffeescript/kits/events/tracker.coffee","../lib/coffeescript/kits/events/pulse.coffee","../lib/coffeescript/kits/events/index.coffee","../lib/coffeescript/kits/graph/request.coffee","../lib/coffeescript/kits/graph/index.coffee","../lib/coffeescript/kits/core/request.coffee","../lib/coffeescript/kits/core/session.coffee","../lib/coffeescript/kits/core/index.coffee","../lib/coffeescript/kits/paged-publication/page-spread.coffee","../lib/coffeescript/kits/paged-publication/page-spreads.coffee","../lib/coffeescript/kits/paged-publication/core.coffee","../lib/coffeescript/kits/paged-publication/hotspots.coffee","../lib/coffeescript/key-codes.coffee","../lib/coffeescript/kits/paged-publication/controls.coffee","../lib/coffeescript/kits/paged-publication/event-tracking.coffee","../lib/coffeescript/kits/paged-publication/viewer.coffee","../lib/coffeescript/kits/paged-publication/bootstrapper.coffee","../lib/coffeescript/kits/paged-publication/index.coffee","../lib/coffeescript/kits/incito-publication/viewer.coffee","../lib/coffeescript/kits/incito-publication/controls.coffee","../lib/coffeescript/kits/incito-publication/bootstrapper.coffee","../lib/coffeescript/kits/incito-publication/index.coffee","../vendor/gator.js","../lib/coffeescript/kits/core-ui/offer-details.coffee","../lib/coffeescript/kits/core-ui/popover.coffee","../lib/coffeescript/kits/core-ui/single-choice-popover.coffee","../lib/coffeescript/kits/core-ui/index.coffee","../lib/coffeescript/index.coffee"],"sourcesContent":["export { _typeof as typeof, _jsx as jsx, _asyncIterator as asyncIterator, _AwaitValue as AwaitValue, _AsyncGenerator as AsyncGenerator, _wrapAsyncGenerator as wrapAsyncGenerator, _awaitAsyncGenerator as awaitAsyncGenerator, _asyncGeneratorDelegate as asyncGeneratorDelegate, _asyncToGenerator as asyncToGenerator, _classCallCheck as classCallCheck, _createClass as createClass, _defineEnumerableProperties as defineEnumerableProperties, _defaults as defaults, _defineProperty as defineProperty, _extends as extends, _objectSpread as objectSpread, _get as get, _inherits as inherits, _inheritsLoose as inheritsLoose, _wrapNativeSuper as wrapNativeSuper, _instanceof as instanceof, _interopRequireDefault as interopRequireDefault, _interopRequireWildcard as interopRequireWildcard, _newArrowCheck as newArrowCheck, _objectDestructuringEmpty as objectDestructuringEmpty, _objectWithoutProperties as objectWithoutProperties, _assertThisInitialized as assertThisInitialized, _possibleConstructorReturn as possibleConstructorReturn, _set as set, _taggedTemplateLiteral as taggedTemplateLiteral, _taggedTemplateLiteralLoose as taggedTemplateLiteralLoose, _temporalRef as temporalRef, _readOnlyError as readOnlyError, _classNameTDZError as classNameTDZError, _temporalUndefined as temporalUndefined, _slicedToArray as slicedToArray, _slicedToArrayLoose as slicedToArrayLoose, _toArray as toArray, _toConsumableArray as toConsumableArray, _arrayWithoutHoles as arrayWithoutHoles, _arrayWithHoles as arrayWithHoles, _iterableToArray as iterableToArray, _iterableToArrayLimit as iterableToArrayLimit, _iterableToArrayLimitLoose as iterableToArrayLimitLoose, _nonIterableSpread as nonIterableSpread, _nonIterableRest as nonIterableRest, _skipFirstGeneratorNext as skipFirstGeneratorNext, _toPropertyKey as toPropertyKey, _initializerWarningHelper as initializerWarningHelper, _initializerDefineProperty as initializerDefineProperty, _applyDecoratedDescriptor as applyDecoratedDescriptor };\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar REACT_ELEMENT_TYPE;\n\nfunction _jsx(type, props, key, children) {\n  if (!REACT_ELEMENT_TYPE) {\n    REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7;\n  }\n\n  var defaultProps = type && type.defaultProps;\n  var childrenLength = arguments.length - 3;\n\n  if (!props && childrenLength !== 0) {\n    props = {\n      children: void 0\n    };\n  }\n\n  if (props && defaultProps) {\n    for (var propName in defaultProps) {\n      if (props[propName] === void 0) {\n        props[propName] = defaultProps[propName];\n      }\n    }\n  } else if (!props) {\n    props = defaultProps || {};\n  }\n\n  if (childrenLength === 1) {\n    props.children = children;\n  } else if (childrenLength > 1) {\n    var childArray = new Array(childrenLength);\n\n    for (var i = 0; i < childrenLength; i++) {\n      childArray[i] = arguments[i + 3];\n    }\n\n    props.children = childArray;\n  }\n\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key === undefined ? null : '' + key,\n    ref: null,\n    props: props,\n    _owner: null\n  };\n}\n\nfunction _asyncIterator(iterable) {\n  if (typeof Symbol === \"function\") {\n    if (Symbol.asyncIterator) {\n      var method = iterable[Symbol.asyncIterator];\n      if (method != null) return method.call(iterable);\n    }\n\n    if (Symbol.iterator) {\n      return iterable[Symbol.iterator]();\n    }\n  }\n\n  throw new TypeError(\"Object is not async iterable\");\n}\n\nfunction _AwaitValue(value) {\n  this.wrapped = value;\n}\n\nfunction _AsyncGenerator(gen) {\n  var front, back;\n\n  function send(key, arg) {\n    return new Promise(function (resolve, reject) {\n      var request = {\n        key: key,\n        arg: arg,\n        resolve: resolve,\n        reject: reject,\n        next: null\n      };\n\n      if (back) {\n        back = back.next = request;\n      } else {\n        front = back = request;\n        resume(key, arg);\n      }\n    });\n  }\n\n  function resume(key, arg) {\n    try {\n      var result = gen[key](arg);\n      var value = result.value;\n      var wrappedAwait = value instanceof _AwaitValue;\n      Promise.resolve(wrappedAwait ? value.wrapped : value).then(function (arg) {\n        if (wrappedAwait) {\n          resume(\"next\", arg);\n          return;\n        }\n\n        settle(result.done ? \"return\" : \"normal\", arg);\n      }, function (err) {\n        resume(\"throw\", err);\n      });\n    } catch (err) {\n      settle(\"throw\", err);\n    }\n  }\n\n  function settle(type, value) {\n    switch (type) {\n      case \"return\":\n        front.resolve({\n          value: value,\n          done: true\n        });\n        break;\n\n      case \"throw\":\n        front.reject(value);\n        break;\n\n      default:\n        front.resolve({\n          value: value,\n          done: false\n        });\n        break;\n    }\n\n    front = front.next;\n\n    if (front) {\n      resume(front.key, front.arg);\n    } else {\n      back = null;\n    }\n  }\n\n  this._invoke = send;\n\n  if (typeof gen.return !== \"function\") {\n    this.return = undefined;\n  }\n}\n\nif (typeof Symbol === \"function\" && Symbol.asyncIterator) {\n  _AsyncGenerator.prototype[Symbol.asyncIterator] = function () {\n    return this;\n  };\n}\n\n_AsyncGenerator.prototype.next = function (arg) {\n  return this._invoke(\"next\", arg);\n};\n\n_AsyncGenerator.prototype.throw = function (arg) {\n  return this._invoke(\"throw\", arg);\n};\n\n_AsyncGenerator.prototype.return = function (arg) {\n  return this._invoke(\"return\", arg);\n};\n\nfunction _wrapAsyncGenerator(fn) {\n  return function () {\n    return new _AsyncGenerator(fn.apply(this, arguments));\n  };\n}\n\nfunction _awaitAsyncGenerator(value) {\n  return new _AwaitValue(value);\n}\n\nfunction _asyncGeneratorDelegate(inner, awaitWrap) {\n  var iter = {},\n      waiting = false;\n\n  function pump(key, value) {\n    waiting = true;\n    value = new Promise(function (resolve) {\n      resolve(inner[key](value));\n    });\n    return {\n      done: false,\n      value: awaitWrap(value)\n    };\n  }\n\n  ;\n\n  if (typeof Symbol === \"function\" && Symbol.iterator) {\n    iter[Symbol.iterator] = function () {\n      return this;\n    };\n  }\n\n  iter.next = function (value) {\n    if (waiting) {\n      waiting = false;\n      return value;\n    }\n\n    return pump(\"next\", value);\n  };\n\n  if (typeof inner.throw === \"function\") {\n    iter.throw = function (value) {\n      if (waiting) {\n        waiting = false;\n        throw value;\n      }\n\n      return pump(\"throw\", value);\n    };\n  }\n\n  if (typeof inner.return === \"function\") {\n    iter.return = function (value) {\n      return pump(\"return\", value);\n    };\n  }\n\n  return iter;\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function step(key, arg) {\n        try {\n          var info = gen[key](arg);\n          var value = info.value;\n        } catch (error) {\n          reject(error);\n          return;\n        }\n\n        if (info.done) {\n          resolve(value);\n        } else {\n          Promise.resolve(value).then(_next, _throw);\n        }\n      }\n\n      function _next(value) {\n        step(\"next\", value);\n      }\n\n      function _throw(err) {\n        step(\"throw\", err);\n      }\n\n      _next();\n    });\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineEnumerableProperties(obj, descs) {\n  for (var key in descs) {\n    var desc = descs[key];\n    desc.configurable = desc.enumerable = true;\n    if (\"value\" in desc) desc.writable = true;\n    Object.defineProperty(obj, key, desc);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    var objectSymbols = Object.getOwnPropertySymbols(descs);\n\n    for (var i = 0; i < objectSymbols.length; i++) {\n      var sym = objectSymbols[i];\n      var desc = descs[sym];\n      desc.configurable = desc.enumerable = true;\n      if (\"value\" in desc) desc.writable = true;\n      Object.defineProperty(obj, sym, desc);\n    }\n  }\n\n  return obj;\n}\n\nfunction _defaults(obj, defaults) {\n  var keys = Object.getOwnPropertyNames(defaults);\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n    if (value && value.configurable && obj[key] === undefined) {\n      Object.defineProperty(obj, key, value);\n    }\n  }\n\n  return obj;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return _get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _gPO(o) {\n  _gPO = Object.getPrototypeOf || function _gPO(o) {\n    return o.__proto__;\n  };\n\n  return _gPO(o);\n}\n\nfunction _sPO(o, p) {\n  _sPO = Object.setPrototypeOf || function _sPO(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _sPO(o, p);\n}\n\nfunction _construct(Parent, args, Class) {\n  _construct = typeof Reflect === \"object\" && Reflect.construct || function _construct(Parent, args, Class) {\n    var Constructor,\n        a = [null];\n    a.push.apply(a, args);\n    Constructor = Parent.bind.apply(Parent, a);\n    return _sPO(new Constructor(), Class.prototype);\n  };\n\n  return _construct(Parent, args, Class);\n}\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {}\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _sPO(Wrapper, _sPO(function Super() {\n      return _construct(Class, arguments, _gPO(this).constructor);\n    }, Class));\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nfunction _instanceof(left, right) {\n  if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) {\n    return right[Symbol.hasInstance](left);\n  } else {\n    return left instanceof right;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _newArrowCheck(innerThis, boundThis) {\n  if (innerThis !== boundThis) {\n    throw new TypeError(\"Cannot instantiate an arrow function\");\n  }\n}\n\nfunction _objectDestructuringEmpty(obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure undefined\");\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _set(object, property, value, receiver) {\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent !== null) {\n      _set(parent, property, value, receiver);\n    }\n  } else if (\"value\" in desc && desc.writable) {\n    desc.value = value;\n  } else {\n    var setter = desc.set;\n\n    if (setter !== undefined) {\n      setter.call(receiver, value);\n    }\n  }\n\n  return value;\n}\n\nfunction _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}\n\nfunction _taggedTemplateLiteralLoose(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  strings.raw = raw;\n  return strings;\n}\n\nfunction _temporalRef(val, name) {\n  if (val === _temporalUndefined) {\n    throw new ReferenceError(name + \" is not defined - temporal dead zone\");\n  } else {\n    return val;\n  }\n}\n\nfunction _readOnlyError(name) {\n  throw new Error(\"\\\"\" + name + \"\\\" is read-only\");\n}\n\nfunction _classNameTDZError(name) {\n  throw new Error(\"Class \\\"\" + name + \"\\\" cannot be referenced in computed property keys.\");\n}\n\nvar _temporalUndefined = {};\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _slicedToArrayLoose(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimitLoose(arr, i) || _nonIterableRest();\n}\n\nfunction _toArray(arr) {\n  return _arrayWithHoles(arr) || _iterableToArray(arr) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _iterableToArrayLimitLoose(arr, i) {\n  var _arr = [];\n\n  for (var _iterator = arr[Symbol.iterator](), _step; !(_step = _iterator.next()).done;) {\n    _arr.push(_step.value);\n\n    if (i && _arr.length === i) break;\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _skipFirstGeneratorNext(fn) {\n  return function () {\n    var it = fn.apply(this, arguments);\n    it.next();\n    return it;\n  };\n}\n\nfunction _toPropertyKey(key) {\n  if (typeof key === \"symbol\") {\n    return key;\n  } else {\n    return String(key);\n  }\n}\n\nfunction _initializerWarningHelper(descriptor, context) {\n  throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.');\n}\n\nfunction _initializerDefineProperty(target, property, descriptor, context) {\n  if (!descriptor) return;\n  Object.defineProperty(target, property, {\n    enumerable: descriptor.enumerable,\n    configurable: descriptor.configurable,\n    writable: descriptor.writable,\n    value: descriptor.initializer ? descriptor.initializer.call(context) : void 0\n  });\n}\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}","util =\n    isBrowser: ->\n        typeof window == 'object' and typeof document == 'object'\n\n    isNode: ->\n        typeof process == 'object'\n\n    error: (err, options) ->\n        err.message = err.message or null\n\n        if typeof options is 'string'\n            err.message = options\n        else if typeof options is 'object' and options?\n            for key, value of options\n                err[key] = value\n\n            err.message = options.message if options.message?\n            err.code = options.code or options.name if options.code? or options.message?\n            err.stack = options.stack if options.stack?\n\n        err.name = options and options.name or err.name or err.code or 'Error'\n        err.time = new Date()\n\n        err\n\n    uuid: ->\n        'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace /[xy]/g, (c) ->\n            r = Math.random() * 16 | 0\n            v = if c is 'x' then r else (r & 0x3|0x8)\n\n            v.toString 16\n\n    getQueryParam: (field, url) ->\n        href = if url then url else window.location.href\n        reg = new RegExp '[?&]' + field + '=([^&#]*)', 'i'\n        string = reg.exec href\n\n        if string then string[1] else undefined\n\n    formatQueryParams: (queryParams = {}) ->\n        Object\n            .keys queryParams\n            .map (key) -> key + '=' + encodeURIComponent(queryParams[key])\n            .join '&'\n\n    getRandomNumberBetween: (from, to) ->\n        Math.floor(Math.random() * to) + from\n\n    getOS: ->\n        name = null\n        ua = window.navigator.userAgent\n\n        if ua.indexOf('Windows') > -1\n            name = 'Windows'\n        else if ua.indexOf('Mac') > -1\n            name = 'macOS'\n        else if ua.indexOf('X11') > -1\n            name = 'unix'\n        else if ua.indexOf('Linux') > -1\n            name = 'Linux'\n        else if ua.indexOf('iOS') > -1\n            name = 'iOS'\n        else if ua.indexOf('Android') > -1\n            name = 'Android'\n\n        name\n    \n    getDeviceCategory: ->\n        deviceCategory = 'desktop'\n\n        if navigator.platform is 'iPod' or navigator.platform is 'iPhone'\n            deviceCategory = 'mobile'\n        else if navigator.platform is 'iPad'\n            deviceCategory = 'tablet'\n        else if navigator.platform is 'Android' or /android/gi.test(navigator.userAgent)\n            if /tablet/gi.test(navigator.userAgent)\n                deviceCategory = 'tablet'\n            else\n                deviceCategory = 'mobile'\n\n        deviceCategory\n    \n    getPointer: ->\n        pointer = 'fine'\n\n        pointer = 'coarse' if matchMedia('(pointer:coarse)').matches\n\n        pointer\n    \n    getOrientation: (width, height) ->\n        if width is height\n            'quadratic'\n        else if width > height\n            'horizontal'\n        else\n            'vertical'\n\n    getScreenDimensions: ->\n        density = window.devicePixelRatio ? 1\n        logical =\n            width: window.screen.width\n            height: window.screen.height\n        physical =\n            width: Math.round logical.width * density\n            height: Math.round logical.height * density\n\n        density: density\n        logical: logical\n        physical: physical\n\n    getUtcOffsetSeconds: ->\n        now = new Date()\n        jan1 = new Date now.getFullYear(), 0, 1, 0, 0, 0, 0\n        tmp = jan1.toGMTString()\n        jan2 = new Date tmp.substring(0, tmp.lastIndexOf(' ') - 1)\n        stdTimeOffset = (jan1 - jan2) / 1000\n\n        stdTimeOffset\n\n    getUtcDstOffsetSeconds: ->\n        new Date().getTimezoneOffset() * 60 * -1\n\n    getColorBrightness: (color) ->\n        color = color.replace '#', ''\n        hex = parseInt (hex + '').replace(/[^a-f0-9]/gi, ''), 16\n        rgb = []\n        sum = 0\n        x = 0\n\n        while x < 3\n            s = parseInt(color.substring(2 * x, 2), 16)\n            rgb[x] = s\n\n            sum += s if s > 0\n\n            ++x\n\n        if sum <= 381 then 'dark' else 'light'\n\n    btoa: (str) ->\n        if util.isBrowser()\n            btoa str\n        else\n            buffer = null\n\n            if str instanceof Buffer\n                buffer = str\n            else\n                buffer = new Buffer str.toString(), 'binary'\n\n            buffer.toString 'base64'\n\n    chunk: (arr, size) ->\n        results = []\n\n        while arr.length\n            results.push arr.splice(0, size)\n\n        results\n\n    throttle: (fn, threshold = 250, scope) ->\n        last = undefined\n        deferTimer = undefined\n\n        ->\n            context = scope or @\n            now = new Date().getTime()\n            args = arguments\n\n            if last and now < last + threshold\n                clearTimeout deferTimer\n\n                deferTimer = setTimeout ->\n                    last = now\n                    \n                    fn.apply context, args\n                \n                    return\n                , threshold\n            else\n                last = now\n                fn.apply context, args\n\n            return\n\n    loadImage: (src, callback) ->\n        img = new Image()\n\n        img.onload = -> callback null, img.width, img.height\n        img.onerror = -> callback new Error()\n        img.src = src\n\n        img\n\n    distance: (lat1, lng1, lat2, lng2) ->\n        radlat1 = Math.PI * lat1 / 180\n        radlat2 = Math.PI * lat2 / 180\n        theta = lng1 - lng2\n        radtheta = Math.PI * theta / 180\n        dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta)\n        dist = Math.acos(dist)\n        dist = dist * 180 / Math.PI\n        dist = dist * 60 * 1.1515\n        dist = dist * 1.609344 * 1000\n\n        dist\n\n    async:\n        parallel: (asyncCalls, sharedCallback) ->\n            counter = asyncCalls.length\n            allResults = []\n            k = 0\n\n            makeCallback = (index) ->\n                ->\n                    results = []\n                    i = 0\n\n                    counter--\n\n                    while i < arguments.length\n                        results.push arguments[i]\n                        i++\n\n                    allResults[index] = results\n\n                    sharedCallback allResults if counter is 0\n\n                    return\n\n            while k < asyncCalls.length\n                asyncCalls[k] makeCallback(k)\n                k++\n\n            return\n\nmodule.exports = util\n","MicroEvent = require 'microevent'\nConfig = class Config\n    keys: [\n        'appVersion',\n        'appKey',\n        'appSecret',\n        'authToken',\n        'eventTracker',\n        'locale',\n        'coreSessionToken',\n        'coreSessionClientId',\n        'coreUrl',\n        'graphUrl',\n        'eventsTrackUrl',\n        'eventsPulseUrl',\n        'assetsFileUploadUrl'\n    ]\n\n    constructor: ->\n        @attrs = {}\n\n        return\n\n    set: (config = {}) ->\n        changedAttributes = {}\n\n        for key, value of config\n            if key in @keys\n                @attrs[key] = value\n                changedAttributes[key] = value\n\n        @trigger 'change', changedAttributes\n\n        return\n\n    get: (option) ->\n        @attrs[option]\n\nMicroEvent.mixin Config\n\nmodule.exports = Config\n","Mustache = require 'mustache'\npairs =\n    'paged_publication.hotspot_picker.header': 'Which offer did you mean?'\n    'incito_publication.product_picker.header': 'Which product?'\n\nmodule.exports =\n    t: (key, view) ->\n        template = pairs[key] ? ''\n\n        Mustache.render template, view\n\n    update: (translations) ->\n        for key, value of translations\n            pairs[key] = value\n\n        return\n","Config = require './config'\ntranslations = require './translations'\nutil = require './util'\nconfig = new Config()\n\n# Set default values.\nconfig.set\n    locale: 'en_US'\n    coreUrl: 'https://api.etilbudsavis.dk'\n    graphUrl: 'https://graph.service.shopgun.com'\n    eventsTrackUrl: 'https://events.service.shopgun.com/track'\n    eventsPulseUrl: 'wss://events.service.shopgun.com/pulse'\n    assetsFileUploadUrl: 'https://assets.service.shopgun.com/upload'\n\nmodule.exports =\n    config: config\n\n    translations: translations\n\n    util: util","module.exports = require './core'\n","SGN = require '../sgn'\nprefixKey = 'sgn-'\n\nmodule.exports =\n    key: 'sgn-'\n\n    storage: do ->\n        try\n            storage = window.localStorage\n\n            storage[\"#{prefixKey}test-storage\"] = 'foobar'\n            delete storage[\"#{prefixKey}test-storage\"]\n\n            storage\n        catch\n            {}\n\n    get: (key) ->\n        try\n            JSON.parse @storage[\"#{prefixKey}#{key}\"]\n\n    set: (key, value) ->\n        try\n            @storage[\"#{prefixKey}#{key}\"] = JSON.stringify value\n\n        @\n","SGN = require '../sgn'\nprefixKey = 'sgn-'\n\nmodule.exports =\n    key: 'sgn-'\n\n    storage: do ->\n        try\n            storage = window.sessionStorage\n\n            storage[\"#{prefixKey}test-storage\"] = 'foobar'\n            delete storage[\"#{prefixKey}test-storage\"]\n\n            storage\n        catch\n            {}\n\n    get: (key) ->\n        try\n            JSON.parse @storage[\"#{prefixKey}#{key}\"]\n\n    set: (key, value) ->\n        try\n            @storage[\"#{prefixKey}#{key}\"] = JSON.stringify value\n\n        @\n","SGN = require '../sgn'\nprefixKey = 'sgn-'\n\nmodule.exports =\n    get: (key) ->\n        return if SGN.util.isNode()\n\n        try\n            name = \"#{prefixKey}#{key}=\"\n            ca = document.cookie.split ';'\n\n            for c in ca\n                ct = c.trim()\n\n                value = ct.substring(name.length, ct.length) if ct.indexOf(name) is 0\n\n            value = JSON.parse value\n        catch err\n            value = {}\n\n        value\n\n    set: (key, value) ->\n        return if SGN.util.isNode()\n\n        try\n            days = 365\n            date = new Date()\n            str = JSON.stringify value\n\n            date.setTime date.getTime() + days * 24 * 60 * 60 * 1000\n\n            document.cookie = \"#{prefixKey}#{key}=#{str};expires=#{date.toUTCString()};path=/\"\n        catch err\n\n        return\n\n\n","SGN = require '../sgn'\n\n{ isBrowser } = require '../util'\n\nXMLHttpRequest = if isBrowser() then window.XMLHttpRequest else require('xmlhttprequest')?.XMLHttpRequest\n\nmodule.exports = (options = {}, callback, progressCallback) ->\n    http = new XMLHttpRequest()\n    method = options.method ? 'get'\n    url = options.url\n    headers = options.headers ? {}\n\n    if options.qs?\n        queryParams = SGN.util.formatQueryParams options.qs\n\n        if url.indexOf('?') is -1\n            url += '?' + queryParams\n        else\n            url += '&' + queryParams\n\n    http.open method.toUpperCase(), url\n    http.timeout = options.timeout if options.timeout?\n    http.withCredentials = true if options.useCookies is true\n\n    if options.json is true\n        headers['Content-Type'] = 'application/json'\n        headers['Accept'] = 'application/json'\n\n    for header, value of options.headers\n        http.setRequestHeader header, value if value?\n\n    http.addEventListener 'load', ->\n        headers = http.getAllResponseHeaders().split '\\r\\n'\n        headers = headers.reduce (acc, current, i) ->\n            parts = current.split ': '\n\n            acc[parts[0].toLowerCase()] = parts[1]\n\n            acc\n        , {}\n        body = http.responseText\n\n        body = JSON.parse body if options.json is true\n\n        callback null,\n            statusCode: http.status\n            headers: headers\n            body: body\n\n        return\n    http.addEventListener 'error', ->\n        callback new Error()\n\n        return\n    http.addEventListener 'timeout', ->\n        callback new Error()\n\n        return\n    http.addEventListener 'progress', (e) ->\n        if e.lengthComputable and typeof progressCallback is 'function'\n            progressCallback e.loaded, e.total\n\n        return\n\n    if options.formData?\n        formData = new FormData()\n\n        for key, value of options.formData\n            formData.append key, value\n\n        http.send formData\n    else if options.body?\n        if options.json is true\n            http.send JSON.stringify(options.body)\n        else\n            http.send options.body\n    else\n        http.send()\n\n    return\n","SGN = require '../../sgn'\n\nmodule.exports = (options = {}, callback, progressCallback) ->\n    throw new Error('File is not defined') if not options.file?\n\n    url = SGN.config.get 'assetsFileUploadUrl'\n    timeout = 1000 * 60 * 60\n\n    SGN.request\n        method: 'post'\n        url: url\n        headers:\n            'Accept': 'application/json'\n        formData:\n            file: options.file\n        timeout: timeout\n    , (err, data) ->\n        if err?\n            callback SGN.util.error(new Error('Request error'),\n                code: 'RequestError'\n            )\n        else\n            if data.statusCode is 200\n                callback null, JSON.parse(data.body)\n            else\n                callback SGN.util.error(new Error('Request error'),\n                    code: 'RequestError'\n                    statusCode: data.statusCode\n                )\n\n        return\n    , (loaded, total) ->\n        if typeof progressCallback is 'function'\n            progressCallback\n                progress: loaded / total\n                loaded: loaded\n                total: total\n\n        return\n\n    return\n","module.exports =\n    fileUpload: require './file-upload'\n","SGN = require '../../sgn'\nclientLocalStorage = require '../../storage/client-local'\ngetPool = ->\n    data = clientLocalStorage.get 'event-tracker-pool'\n    data = [] if Array.isArray(data) is false\n\n    data\npool = getPool()\n\nclientLocalStorage.set 'event-tracker-pool', []\n\ntry\n    window.addEventListener 'unload', ->\n        pool = pool.concat getPool()\n\n        clientLocalStorage.set 'event-tracker-pool', pool\n\n        return\n    , false\n\nmodule.exports = class Tracker\n    defaultOptions:\n        trackId: null\n        dispatchInterval: 3000\n        dispatchLimit: 100\n        poolLimit: 1000\n        dryRun: false\n\n    constructor: (options = {}) ->\n        for key, value of @defaultOptions\n            @[key] = options[key] or value\n\n        @dispatching = false\n        @session =\n            id: SGN.util.uuid()\n        @client =\n            trackId: @trackId\n            id: SGN.client.id\n        @view =\n            path: []\n            previousPath: []\n            uri: null\n        @location = {}\n        @application = {}\n        @identity = {}\n\n        # Dispatch events periodically.\n        @interval = setInterval @dispatch.bind(@), @dispatchInterval\n\n        return\n\n    trackEvent: (type, properties = {}, version = '1.0.0') ->\n        throw SGN.util.error(new Error('Event type is required')) if typeof type isnt 'string'\n        return if not @trackId?\n\n        pool.push\n            id: SGN.util.uuid()\n            type: type\n            version: version\n            recordedAt: new Date().toISOString()\n            sentAt: null\n            client:\n                id: @client.id\n                trackId: @client.trackId\n            context: @getContext()\n            properties: properties\n\n        pool.shift() while @getPoolSize() > @poolLimit\n\n        @\n\n    identify: (id) ->\n        @identity.id = id\n\n        @\n\n    setLocation: (location = {}) ->\n        @location.determinedAt = new Date(location.timestamp).toISOString()\n        @location.latitude = location.latitude\n        @location.longitude = location.longitude\n        @location.altitude = location.altitude\n        @location.accuracy =\n            horizontal: location.accuracy?.horizontal\n            vertical: location.accuracy?.vertical\n        @location.speed = location.speed\n        @location.floor = location.floor\n\n        @\n\n    setApplication: (application = {}) ->\n        @application.name = application.name\n        @application.version = application.version\n        @application.build = application.build\n\n        @\n\n    setView: (path) ->\n        @view.previousPath = @view.path\n        @view.path = path if Array.isArray(path) is true\n        @view.uri = window.location.href\n\n        @\n\n    getView: ->\n        view = {}\n\n        view.path = @view.path if @view.path.length > 0\n        view.previousPath = @view.previousPath if @view.previousPath.length > 0\n        view.uri = @view.uri if @view.uri?\n\n        view\n\n    getContext: ->\n        screenDimensions = SGN.util.getScreenDimensions()\n        os = SGN.util.getOS()\n        context =\n            userAgent: window.navigator.userAgent\n            locale: navigator.language\n            timeZone:\n                utcOffsetSeconds: SGN.util.getUtcOffsetSeconds()\n                utcDstOffsetSeconds: SGN.util.getUtcDstOffsetSeconds()\n            device:\n                screen:\n                    width: screenDimensions.physical.width\n                    height: screenDimensions.physical.height\n                    density: screenDimensions.density\n            session:\n                id: @session.id\n            view: @getView()\n        application =\n            name: @application.name\n            version: @application.version\n            build: @application.build\n        campaign =\n            source: SGN.util.getQueryParam 'utm_source'\n            medium: SGN.util.getQueryParam 'utm_medium'\n            name: SGN.util.getQueryParam 'utm_campaign'\n            term: SGN.util.getQueryParam 'utm_term'\n            content: SGN.util.getQueryParam 'utm_content'\n        loc =\n            determinedAt: @location.determinedAt\n            latitude: @location.latitude\n            longitude: @location.longitude\n            altitude: @location.altitude\n            speed: @location.speed\n            floor: @location.floor\n            accuracy:\n                horizontal: @location.accuracy?.horizontal\n                vertical: @location.accuracy?.vertical\n\n        # Operating system.\n        context.os = name: os if os?\n\n        # Session referrer.\n        context.session.referrer = document.referrer if document.referrer.length > 0\n\n        # Application.\n        ['name', 'version', 'build'].forEach (key) ->\n            delete application[key] if typeof application[key] isnt 'string' or application[key].length is 0\n            return\n        context.application = application if Object.keys(application).length > 0\n\n        # Campaign.\n        ['source', 'medium', 'name', 'term', 'content'].forEach (key) ->\n            delete campaign[key] if typeof campaign[key] isnt 'string' or campaign[key].length is 0\n            return\n        context.campaign = campaign if Object.keys(campaign).length > 0\n\n        # Location.\n        ['latitude', 'longitude', 'altitude', 'speed', 'floor'].forEach (key) ->\n            delete loc[key] if typeof loc[key] isnt 'number'\n            return\n        delete loc.accuracy.horizontal if typeof loc.accuracy.horizontal isnt 'number'\n        delete loc.accuracy.vertical if typeof loc.accuracy.vertical isnt 'number'\n        delete loc.accuracy if Object.keys(loc.accuracy).length is 0\n        delete loc.determinedAt if typeof loc.determinedAt isnt 'string' or loc.determinedAt.length is 0\n        context.location = loc if Object.keys(loc).length > 0\n\n        # Person identifier.\n        context.personId = @identity.id if @identity.id?\n\n        context\n\n    getPoolSize: ->\n        pool.length\n\n    dispatch: ->\n        return if @dispatching is true or @getPoolSize() is 0\n        return pool.splice(0, @dispatchLimit) if @dryRun is true\n\n        events = pool.slice 0, @dispatchLimit\n        nacks = 0\n\n        @dispatching = true\n\n        @ship events, (err, response) =>\n            @dispatching = false\n\n            if not err?\n                response.events.forEach (resEvent) ->\n                    if resEvent.status is 'validation_error' or resEvent.status is 'ack'\n                        pool = pool.filter (poolEvent) -> poolEvent.id isnt resEvent.id\n                    else if 'nack'\n                        nacks++\n\n                    return\n\n                # Keep dispatching until the pool size reaches a sane level.\n                @dispatch() if @getPoolSize() >= @dispatchLimit and nacks is 0\n\n            return\n\n        @\n\n    ship: (events = [], callback) ->\n        http = new XMLHttpRequest()\n        url = SGN.config.get 'eventsTrackUrl'\n        payload = events: events.map (event) ->\n            event.sentAt = new Date().toISOString()\n\n            event\n\n        http.open 'POST', url\n        http.setRequestHeader 'Content-Type', 'application/json'\n        http.setRequestHeader 'Accept', 'application/json'\n        http.timeout = 1000 * 20\n        http.onload = ->\n            if http.status is 200\n                try\n                    callback null, JSON.parse(http.responseText)\n                catch err\n                    callback SGN.util.error(new Error('Could not parse JSON'))\n            else\n                callback SGN.util.error(new Error('Server did not accept request'))\n\n            return\n        http.onerror = ->\n            callback SGN.util.error(new Error('Could not perform network request'))\n\n            return\n        http.send JSON.stringify(payload)\n\n        @\n","MicroEvent = require 'microevent'\n\nclass Pulse\n    constructor: ->\n        @destroyed = false\n        @connection = @connect()\n\n        return\n\n    destroy: ->\n        @destroyed = true\n\n        @connection.close()\n\n        @\n\n    connect: ->\n        connection = new WebSocket SGN.config.get('eventsPulseUrl')\n\n        connection.onopen = @onOpen.bind @\n        connection.onmessage = @onMessage.bind @\n        connection.onerror = @onError.bind @\n        connection.onclose = @onClose.bind @\n\n        connection\n\n    onOpen: ->\n        @trigger 'open'\n\n        return\n\n    onMessage: (e) ->\n        try\n            @trigger 'event', JSON.parse(e.data)\n\n        return\n\n    onError: ->\n        return\n\n    onClose: ->\n        if @destroyed is false\n            setTimeout =>\n                @connection = @connect()\n\n                return\n            , 2000\n\n        return\n\nMicroEvent.mixin Pulse\n\nmodule.exports = Pulse\n","module.exports =\n    Tracker: require './tracker'\n\n    Pulse: require './pulse'\n","SGN = require '../../sgn'\n\nparseCookies = (cookies = []) ->\n    parsedCookies = {}\n\n    cookies.map (cookie) ->\n        parts = cookie.split '; '\n        keyValuePair = parts[0].split '='\n        key = keyValuePair[0]\n        value = keyValuePair[1]\n\n        parsedCookies[key] = value\n\n        return\n    \n    parsedCookies\n\nmodule.exports = (options = {}, callback) ->\n    url = SGN.config.get 'graphUrl'\n    timeout = 1000 * 12\n    appKey = SGN.config.get 'appKey'\n    authToken = SGN.config.get 'authToken'\n    authTokenCookieName = 'shopgun-auth-token'\n    options =\n        method: 'post'\n        url: url\n        timeout: timeout\n        json: true\n        headers: {}\n        body:\n            query: options.query\n            operationName: options.operationName\n            variables: options.variables\n\n    # Apply authorization header when app key is provided to avoid rate limiting.\n    options.headers.Authorization = 'Basic ' + SGN.util.btoa(\"app-key:#{appKey}\") if appKey?\n\n    # Set cookies manually in node.js.\n    if SGN.util.isNode() and authToken?\n        options.cookies = [\n            key: authTokenCookieName\n            value: authToken\n            url: url\n        ]\n    else if SGN.util.isBrowser()\n        options.useCookies = true\n\n    SGN.request options, (err, data) ->\n        if err?\n            callback SGN.util.error(new Error('Graph request error'),\n                code: 'GraphRequestError'\n            )\n        else\n            # Update auth token as it might have changed.\n            if SGN.util.isNode()\n                cookies = parseCookies data.headers?['set-cookie']\n                authCookie = cookies[authTokenCookieName]\n\n                if SGN.config.get('authToken') isnt authCookie\n                    SGN.config.set 'authToken', authCookie\n\n            if data.statusCode is 200\n                callback null, data.body\n            else\n                callback SGN.util.error(new Error('Graph API error'),\n                    code: 'GraphAPIError'\n                    statusCode: data.statusCode\n                )\n\n        return\n\n    return\n\n\n","module.exports =\n    request: require './request'\n","SGN = require '../../sgn'\n\nrequest = (options = {}, callback = ->, runs = 0) ->\n    SGN.CoreKit.session.ensure (err) ->\n        return callback err if err?\n\n        url = options.url ? ''\n        headers = options.headers ? {}\n        json = if typeof options.json is 'boolean' then options.json else true\n        token = SGN.config.get 'coreSessionToken'\n        clientId = SGN.config.get 'coreSessionClientId'\n        appVersion = SGN.config.get 'appVersion'\n        appSecret = SGN.config.get 'appSecret'\n        locale = SGN.config.get 'locale'\n        qs = options.qs ? {}\n        geo = options.geolocation\n\n        headers['X-Token'] = token\n        headers['X-Signature'] = SGN.CoreKit.session.sign appSecret, token if appSecret?\n\n        qs.r_locale = locale if locale?\n        qs.api_av = appVersion if appVersion?\n        qs.client_id = clientId if clientId?\n\n        if geo?\n            qs.r_lat = geo.latitude if geo.latitude? and not qs.r_lat?\n            qs.r_lng = geo.longitude if geo.longitude? and not qs.r_lng?\n            qs.r_radius = geo.radius if geo.radius? and not qs.r_radius?\n            qs.r_sensor = geo.sensor if geo.sensor? and not qs.r_sensor?\n\n        SGN.request\n            method: options.method\n            url: SGN.config.get('coreUrl') + url\n            qs: qs\n            body: options.body\n            formData: options.formData\n            headers: headers\n            json: json\n            useCookies: false\n        , (err, data) ->\n            if err?\n                callback SGN.util.error(new Error('Core request error'),\n                    code: 'CoreRequestError'\n                )\n            else\n                token = SGN.config.get 'coreSessionToken'\n                responseToken = data.headers['x-token']\n\n                SGN.CoreKit.session.saveToken responseToken if responseToken and token isnt responseToken\n\n                if data.statusCode >= 200 and data.statusCode < 300 or data.statusCode is 304\n                    callback null, data.body\n                else\n                    if runs is 0 and data.body? and data.body.code in [1101, 1107, 1108]\n                        SGN.config.set coreSessionToken: undefined\n\n                        request options, callback, ++runs\n                    else\n                        callback SGN.util.error(new Error('Core API error'),\n                            code: 'CoreAPIError'\n                            statusCode: data.statusCode\n                        ), data.body\n\n            return\n\n    return\n\nmodule.exports = request\n","SGN = require '../../sgn'\nsha256 = require 'sha256'\nclientCookieStorage = require '../../storage/client-cookie'\ncallbackQueue = []\nrenewed = false\n\nsession =\n    ttl: 1 * 60 * 60 * 24 * 60\n\n    saveToken: (token) ->\n        throw new Error('No token provided for saving') if not token\n\n        SGN.config.set coreSessionToken: token\n\n        session.saveCookie()\n\n        return\n\n    saveClientId: (clientId) ->\n        SGN.config.set coreSessionClientId: clientId\n\n        session.saveCookie()\n\n        return\n\n    saveCookie: ->\n        clientCookieStorage.set 'session',\n            token: SGN.config.get 'coreSessionToken'\n            client_id: SGN.config.get 'coreSessionClientId'\n\n        return\n\n    create: (callback) ->\n        SGN.request\n            method: 'post'\n            url: SGN.config.get('coreUrl') + '/v2/sessions'\n            json: true\n            qs:\n                api_key: SGN.config.get 'appKey'\n                token_ttl: session.ttl\n        , (err, data) ->\n            if err?\n                callback err\n            else if data.statusCode is 201\n                session.saveToken data.body.token\n                session.saveClientId data.body.client_id\n\n                callback err, data.body\n            else\n                callback new Error('Could not create session')\n\n            return\n\n        return\n    \n    update: (callback) ->\n        headers = {}\n        token = SGN.config.get 'coreSessionToken'\n        appSecret = SGN.config.get 'appSecret'\n\n        headers['X-Token'] = token\n        headers['X-Signature'] = session.sign appSecret, token if appSecret?\n\n        SGN.request\n            url: SGN.config.get('coreUrl') + '/v2/sessions'\n            headers: headers\n            json: true\n        , (err, data) ->\n            if err?\n                callback err\n            else if data.statusCode is 200\n                session.saveToken data.body.token\n                session.saveClientId data.body.client_id\n\n                callback err, data.body\n            else\n                callback new Error('Could not update session')\n\n            return\n\n        return\n\n    renew: (callback) ->\n        headers = {}\n        token = SGN.config.get 'coreSessionToken'\n        appSecret = SGN.config.get 'appSecret'\n\n        headers['X-Token'] = token\n        headers['X-Signature'] = session.sign appSecret, token if appSecret?\n\n        SGN.request\n            method: 'put'\n            url: SGN.config.get('coreUrl') + '/v2/sessions'\n            headers: headers\n            json: true\n        , (err, data) ->\n            if err?\n                callback err\n            else if data.statusCode is 200\n                session.saveToken data.body.token\n                session.saveClientId data.body.client_id\n\n                callback err, data.body\n            else\n                callback new Error('Could not renew session')\n\n            return\n\n        return\n\n    ensure: (callback) ->\n        queueCount = callbackQueue.length\n        complete = (err) ->\n            callbackQueue = callbackQueue.filter (fn) ->\n                fn err\n\n                false\n\n            return\n\n        callbackQueue.push callback\n\n        if queueCount is 0\n            if not SGN.config.get('coreSessionToken')?\n                session.create complete\n            else if renewed is false\n                renewed = true\n                session.renew (err) ->\n                    if err?\n                        session.create complete\n                    else\n                        complete()\n                    \n                    return\n            else\n                complete()\n\n        return\n\n    sign: (appSecret, token) ->\n        sha256 [appSecret, token].join('')\n\nmodule.exports = session\n","SGN = require '../../sgn'\nrequest = require './request'\nsession = require './session'\n\nmodule.exports =\n    request: request\n\n    session: session\n","MicroEvent = require 'microevent'\nSGN = require '../../sgn'\n\nclass PagedPublicationPageSpread\n    constructor: (@options = {}) ->\n        @contentsRendered = false\n        @hotspotsRendered = false\n        @el = @renderEl()\n\n        return\n\n    getId: ->\n        @options.id\n\n    getEl: ->\n        @el\n\n    getPages: ->\n        @options.pages\n\n    renderEl: ->\n        el = document.createElement 'div'\n        pageIds = @getPages().map (page) -> page.id\n\n        el.className = 'verso__page-spread sgn-pp__page-spread'\n\n        el.setAttribute 'data-id', @getId()\n        el.setAttribute 'data-type', 'page'\n        el.setAttribute 'data-width', @options.width\n        el.setAttribute 'data-page-ids', pageIds.join(',')\n        el.setAttribute 'data-max-zoom-scale', @options.maxZoomScale\n        el.setAttribute 'data-zoomable', false\n\n        el\n\n    renderContents: ->\n        id = @getId()\n        el = @getEl()\n        pages = @getPages()\n        pageCount = pages.length\n        imageLoads = 0\n\n        pages.forEach (page, i) =>\n            image = page.images.medium\n            pageEl = document.createElement 'div'\n            loaderEl = document.createElement 'div'\n\n            pageEl.className = 'sgn-pp__page verso__page'\n            pageEl.setAttribute('data-id', page.id) if page.id?\n\n            if pageCount is 2\n                pageEl.className += if i is 0 then ' verso-page--verso' else ' verso-page--recto'\n\n            pageEl.appendChild loaderEl\n            el.appendChild pageEl\n\n            loaderEl.className = 'sgn-pp-page__loader'\n            loaderEl.innerHTML = \"<span>#{page.label}</span>\"\n\n            SGN.util.loadImage image, (err, width, height) =>\n                if not err?\n                    isComplete = ++imageLoads is pageCount\n\n                    pageEl.style.backgroundImage = \"url(#{image})\"\n                    pageEl.setAttribute 'data-width', width\n                    pageEl.setAttribute 'data-height', height\n                    pageEl.innerHTML = '&nbsp;'\n\n                    el.setAttribute('data-zoomable', true) if isComplete\n\n                    @trigger 'pageLoaded', pageSpreadId: id, page: page\n                    @trigger 'pagesLoaded', pageSpreadId: id, pages: pages if isComplete\n                else\n                    loaderEl.innerHTML = '<span>!</span>'\n\n                return\n\n            return\n\n        @contentsRendered = true\n\n        @\n\n    clearContents: (pageSpread, versoPageSpread) ->\n        @el.innerHTML = ''\n        @contentsRendered = false\n\n        @\n\n    zoomIn: ->\n        pageEls = [].slice.call @el.querySelectorAll('.sgn-pp__page')\n        pages = @getPages()\n\n        pageEls.forEach (pageEl) =>\n            id = pageEl.getAttribute 'data-id'\n            page = pages.find (page) -> page.id is id\n            image = page.images.large\n\n            SGN.util.loadImage image, (err) =>\n                if not err? and @el.getAttribute('data-active') is 'true'\n                    pageEl.setAttribute 'data-image', pageEl.style.backgroundImage\n                    pageEl.style.backgroundImage = \"url(#{image})\"\n\n                return\n\n            return\n\n        return\n\n    zoomOut: ->\n        pageEls = [].slice.call @el.querySelectorAll('.sgn-pp__page[data-image]')\n\n        pageEls.forEach (pageEl) ->\n            pageEl.style.backgroundImage = pageEl.getAttribute 'data-image'\n            \n            pageEl.removeAttribute 'data-image'\n\n            return\n\n        return\n\nMicroEvent.mixin PagedPublicationPageSpread\n\nmodule.exports = PagedPublicationPageSpread\n","MicroEvent = require 'microevent'\nPageSpread = require './page-spread'\nSGN = require '../../sgn'\n\nclass PagedPublicationPageSpreads\n    constructor: (@options) ->\n        @collection = []\n        @ids = {}\n\n        return\n\n    get: (id) ->\n        @ids[id]\n\n    getFrag: ->\n        frag = document.createDocumentFragment()\n\n        @collection.forEach (pageSpread) -> frag.appendChild pageSpread.el\n\n        frag\n\n    update: (pageMode = 'single') ->\n        pageSpreads = []\n        ids = {}\n        pages = @options.pages.slice()\n        width = @options.width\n        maxZoomScale = @options.maxZoomScale\n\n        if pageMode is 'single'\n            pages.forEach (page) -> pageSpreads.push [page]\n        else\n            firstPage = pages.shift()\n            lastPage = if pages.length % 2 is 1 then pages.pop() else null\n            midstPageSpreads = SGN.util.chunk pages, 2\n\n            pageSpreads.push [firstPage] if firstPage?\n            midstPageSpreads.forEach (midstPages) -> pageSpreads.push midstPages.map (page) -> page\n            pageSpreads.push [lastPage] if lastPage?\n\n        @collection = pageSpreads.map (pages, i) =>\n            id = \"#{pageMode}-#{i}\"\n            pageSpread = new PageSpread\n                width: width\n                maxZoomScale: maxZoomScale\n                pages: pages\n                id: id\n\n            pageSpread.bind 'pageLoaded', (e) => @trigger 'pageLoaded', e\n            pageSpread.bind 'pagesLoaded', (e) => @trigger 'pagesLoaded', e\n\n            ids[id] = pageSpread\n\n            pageSpread\n        @ids = ids\n\n        @\n\nMicroEvent.mixin PagedPublicationPageSpreads\n\nmodule.exports = PagedPublicationPageSpreads\n","MicroEvent = require 'microevent'\nVerso = require 'verso-browser'\nPageSpreads = require './page-spreads'\nclientLocalStorage = require '../../storage/client-local'\nSGN = require '../../sgn'\n\nclass PagedPublicationCore\n    defaults:\n        pages: []\n        pageSpreadWidth: 100\n        pageSpreadMaxZoomScale: 2.3\n        idleDelay: 1000\n        resizeDelay: 400\n        color: '#ffffff'\n\n    constructor: (el, options = {}) ->\n        @options = @makeOptions options, @defaults\n        @pageId = @getOption 'pageId'\n        @els =\n            root: el\n            pages: el.querySelector '.sgn-pp__pages'\n            verso: el.querySelector '.verso'\n        @pageMode = @getPageMode()\n        @pageSpreads = new PageSpreads\n            pages: @getOption 'pages'\n            maxZoomScale: @getOption 'pageSpreadMaxZoomScale'\n            width: @getOption 'pageSpreadWidth'\n\n        @pageSpreads.bind 'pageLoaded', @pageLoaded.bind(@)\n        @pageSpreads.bind 'pagesLoaded', @pagesLoaded.bind(@)\n\n        @setColor @getOption('color')\n\n        # It's important to insert the page spreads before instantiating Verso.\n        @els.pages.parentNode.insertBefore @pageSpreads.update(@pageMode).getFrag(), @els.pages\n\n        @verso = @createVerso()\n\n        @bind 'started', @start.bind(@)\n        @bind 'destroyed', @destroy.bind(@)\n\n        return\n\n    start: ->\n        @getVerso().start()\n\n        @visibilityChangeListener = @visibilityChange.bind @\n        @resizeListener = SGN.util.throttle @resize, @getOption('resizeDelay'), @\n        @unloadListener = @unload.bind @\n\n        document.addEventListener 'visibilitychange', @visibilityChangeListener, false\n        window.addEventListener 'resize', @resizeListener, false\n        window.addEventListener 'beforeunload', @unloadListener, false\n\n        @els.root.setAttribute 'data-started', ''\n        @els.root.setAttribute 'tabindex', '-1'\n        @els.root.focus()\n\n        return\n\n    destroy: ->\n        verso = @getVerso()\n        pageSpreadEls = verso.el.querySelectorAll '.sgn-pp__page-spread'\n\n        @els.root.removeAttribute 'data-started'\n        @els.root.removeAttribute 'data-idle'\n        @els.root.removeAttribute 'data-navigating'\n        @els.root.removeAttribute 'data-color-brightness'\n        @els.root.removeAttribute 'data-zoomed-in'\n\n        @els.root.style.backgroundColor = '#ffffff'\n\n        pageSpreadEl.parentNode.removeChild pageSpreadEl for pageSpreadEl in pageSpreadEls\n\n        verso.destroy()\n\n        document.removeEventListener 'visibilitychange', @visibilityChangeListener, false\n        window.removeEventListener 'resize', @resizeListener, false\n        window.removeEventListener 'beforeunload', @unloadListener, false\n\n        return\n\n    makeOptions: (options, defaults) ->\n        opts = {}\n\n        opts[key] = options[key] ? defaults[key] for key, value of options\n\n        opts\n\n    getOption: (key) ->\n        @options[key]\n\n    setColor: (color) ->\n        @els.root.setAttribute 'data-color-brightness', SGN.util.getColorBrightness(color)\n        @els.root.style.backgroundColor = color\n\n        return\n\n    createVerso: ->\n        verso = new Verso @els.verso, pageId: @pageId\n\n        verso.pageSpreads.forEach @overridePageSpreadContentRect.bind(@)\n\n        verso.bind 'beforeNavigation', @beforeNavigation.bind(@)\n        verso.bind 'afterNavigation', @afterNavigation.bind(@)\n        verso.bind 'attemptedNavigation', @attemptedNavigation.bind(@)\n        verso.bind 'clicked', @clicked.bind(@)\n        verso.bind 'doubleClicked', @doubleClicked.bind(@)\n        verso.bind 'pressed', @pressed.bind(@)\n        verso.bind 'contextmenu', @contextmenu.bind(@)\n        verso.bind 'panStart', @panStart.bind(@)\n        verso.bind 'panEnd', @panEnd.bind(@)\n        verso.bind 'zoomedIn', @zoomedIn.bind(@)\n        verso.bind 'zoomedOut', @zoomedOut.bind(@)\n\n        verso\n\n    getVerso: ->\n        @verso\n\n    getContentRect: (pageSpread) ->\n        rect =\n            top: 0\n            left: 0\n            right: 0\n            bottom: 0\n            width: 0\n            height: 0\n        pageEls = pageSpread.getPageEls()\n        pageEl = pageEls[0]\n        pageCount = pageEls.length\n\n        return rect if not pageCount\n        \n        scale = @getVerso().transform.scale\n        pageWidth = pageEl.offsetWidth * pageCount * scale\n        pageHeight = pageEl.offsetHeight * scale\n        imageRatio = +pageEl.getAttribute('data-height') / (+pageEl.getAttribute('data-width') * pageCount)\n        actualHeight = pageHeight\n        actualWidth = actualHeight / imageRatio\n        actualWidth = Math.min pageWidth, actualWidth\n        actualHeight = actualWidth * imageRatio\n        clientRect = pageEl.getBoundingClientRect()\n\n        rect.width = actualWidth\n        rect.height = actualHeight\n        rect.top = clientRect.top + (pageHeight - actualHeight) / 2\n        rect.left = clientRect.left + (pageWidth - actualWidth) / 2\n        rect.right = rect.width + rect.left\n        rect.bottom = rect.height + rect.top\n\n        rect\n\n    formatProgressLabel: (pageSpread) ->\n        pages = pageSpread?.options.pages ? []\n        pageIds = pages.map (page) -> page.id\n        pageLabels = pages.map (page) -> page.label\n        pageCount = @getOption('pages').length\n        label = if pageIds.length > 0 then pageLabels.join('-') + ' / ' + pageCount else null\n\n        label\n\n    renderPageSpreads: ->\n        @getVerso().pageSpreads.forEach (pageSpread) =>\n            visibility = pageSpread.getVisibility()\n            match = @pageSpreads.get pageSpread.getId()\n\n            if match?\n                if visibility is 'visible' and match.contentsRendered is false\n                    setTimeout match.renderContents.bind(match), 0\n                if visibility is 'gone' and match.contentsRendered is true\n                    setTimeout match.clearContents.bind(match), 0\n\n            return\n\n        @\n\n    findPage: (pageId) ->\n        @getOption('pages').find (page) -> page.id is pageId\n\n    pageLoaded: (e) ->\n        @trigger 'pageLoaded', e\n\n        return\n\n    pagesLoaded: (e) ->\n        @trigger 'pagesLoaded', e\n\n        return\n\n    beforeNavigation: (e) ->\n        position = e.newPosition\n        theVerso = @getVerso()\n        versoPageSpread = theVerso.getPageSpreadFromPosition position\n        pageSpread = @pageSpreads.get versoPageSpread.getId()\n        pageSpreadCount = theVerso.getPageSpreadCount()\n        newSpreadEl = theVerso.pageSpreadEls[e.newPosition]\n        progress = position / (pageSpreadCount - 1) * 100\n        progressLabel = @formatProgressLabel pageSpread\n\n        @els.root.setAttribute 'data-navigating', true\n\n        @renderPageSpreads()\n        @resetIdleTimer()\n        @startIdleTimer()\n        @trigger 'beforeNavigation',\n            verso: e\n            pageSpread: pageSpread\n            newSpreadEl: newSpreadEl\n            progress: progress\n            progressLabel: progressLabel\n            pageSpreadCount: pageSpreadCount\n            newPositionIsEnd: e.newPosition + 1 == pageSpreadCount\n\n        return\n\n    afterNavigation: (e) ->\n        position = e.newPosition\n        theVerso = @getVerso()\n        versoPageSpread = theVerso.getPageSpreadFromPosition position\n        pageSpread = @pageSpreads.get versoPageSpread.getId()\n        pageSpreadCount = theVerso.getPageSpreadCount()\n        newSpreadEl = theVerso.pageSpreadEls[e.newPosition]\n\n        @els.root.setAttribute 'data-navigating', false\n\n        @trigger 'afterNavigation',\n            verso: e\n            pageSpread: pageSpread\n            pageSpreadCount: pageSpreadCount\n            newSpreadEl: newSpreadEl\n            newPositionIsEnd: e.newPosition + 1 == pageSpreadCount\n\n        return\n\n    attemptedNavigation: (e) ->\n        @trigger 'attemptedNavigation', verso: e\n\n        return\n\n    clicked: (e) ->\n        if e.isInsideContent\n            pageId = e.pageEl.getAttribute 'data-id'\n            page = @findPage pageId\n\n            @trigger 'clicked', verso: e, page: page\n\n        return\n\n    doubleClicked: (e) ->\n        if e.isInsideContent\n            pageId = e.pageEl.getAttribute 'data-id'\n            page = @findPage pageId\n\n            @trigger 'doubleClicked', verso: e, page: page\n\n        return\n\n    pressed: (e) ->\n        if e.isInsideContent\n            pageId = e.pageEl.getAttribute 'data-id'\n            page = @findPage pageId\n\n            @trigger 'pressed', verso: e, page: page\n\n        return\n\n    contextmenu: (e) ->\n        if e.isInsideContent\n            pageId = e.pageEl.getAttribute 'data-id'\n            page = @findPage pageId\n\n            @trigger 'contextmenu', verso: e, page: page\n\n        return\n\n    panStart: ->\n        @resetIdleTimer()\n        @trigger 'panStart', scale: @getVerso().transform.scale\n\n        return\n\n    panEnd: ->\n        @startIdleTimer()\n        @trigger 'panEnd'\n\n        return\n\n    zoomedIn: (e) ->\n        position = e.position\n        versoPageSpread = @getVerso().getPageSpreadFromPosition position\n        pageSpread = @pageSpreads.get versoPageSpread.getId()\n\n        pageSpread.zoomIn() if pageSpread?\n\n        @els.root.setAttribute 'data-zoomed-in', true\n        @trigger 'zoomedIn', verso: e, pageSpread: pageSpread\n\n        return\n\n    zoomedOut: (e) ->\n        position = e.position\n        versoPageSpread = @getVerso().getPageSpreadFromPosition position\n        pageSpread = @pageSpreads.get versoPageSpread.getId()\n\n        pageSpread.zoomOut() if pageSpread?\n\n        @els.root.setAttribute 'data-zoomed-in', false\n        @trigger 'zoomedOut', verso: e, pageSpread: pageSpread\n\n        return\n\n    getPageMode: ->\n        pageMode = @getOption 'pageMode'\n\n        if not pageMode?\n            width = @els.root.offsetWidth\n            height = @els.root.offsetHeight\n\n            pageMode = if height / width < 0.8 then 'double' else 'single'\n\n        pageMode\n\n    resetIdleTimer: ->\n        clearTimeout @idleTimeout\n\n        @els.root.setAttribute 'data-idle', false\n\n        @\n\n    startIdleTimer: ->\n        @idleTimeout = setTimeout =>\n            @els.root.setAttribute 'data-idle', true\n\n            return\n        , @getOption('idleDelay')\n\n        @\n\n    switchPageMode: (pageMode) ->\n        return @ if @pageMode is pageMode\n\n        verso = @getVerso()\n        pageIds = verso.getPageSpreadFromPosition(verso.getPosition()).getPageIds()\n        pageSpreadEls = @getVerso().el.querySelectorAll '.sgn-pp__page-spread'\n\n        @pageMode = pageMode\n\n        @pageSpreads.update @pageMode\n\n        pageSpreadEl.parentNode.removeChild pageSpreadEl for pageSpreadEl in pageSpreadEls\n        @els.pages.parentNode.insertBefore @pageSpreads.getFrag(), @els.pages\n\n        verso.refresh()\n        verso.navigateTo verso.getPageSpreadPositionFromPageId(pageIds[0]), duration: 0\n        verso.pageSpreads.forEach @overridePageSpreadContentRect.bind(@)\n\n        @\n\n    overridePageSpreadContentRect: (pageSpread) ->\n        if pageSpread.getType() is 'page'\n            pageSpread.getContentRect = => @getContentRect pageSpread\n\n    visibilityChange: ->\n        pageSpread = @getVerso().getPageSpreadFromPosition @getVerso().getPosition()\n        eventName = if document.hidden is true then 'disappeared' else 'appeared'\n\n        @trigger eventName, pageSpread: @pageSpreads.get(pageSpread.id)\n\n        return\n\n    resize: ->\n        pageMode = @getPageMode()\n\n        if not @getOption('pageMode')? and pageMode isnt @pageMode\n            @switchPageMode pageMode\n        else\n            @trigger 'resized'\n\n        return\n\n    unload: ->\n        @trigger 'disappeared'\n\n        return\n\nMicroEvent.mixin PagedPublicationCore\n\nmodule.exports = PagedPublicationCore\n","MicroEvent = require 'microevent'\nMustache = require 'mustache'\n\nclass PagedPublicationHotspots\n    constructor: ->\n        @currentPageSpreadId = null\n        @pageSpreadsLoaded = {}\n        @cache = {}\n\n        @bind 'hotspotsReceived', @hotspotsReceived.bind(@)\n        @bind 'afterNavigation', @afterNavigation.bind(@)\n        @bind 'pagesLoaded', @pagesLoaded.bind(@)\n        @bind 'resized', @resized.bind(@)\n\n        return\n\n    renderHotspots: (data) ->\n        frag = document.createDocumentFragment()\n        contentRect = data.versoPageSpread.getContentRect()\n        pageSpreadEl = data.pageSpread.getEl()\n        hotspotEls = pageSpreadEl.querySelectorAll '.sgn-pp__hotspot'\n        boundingRect = pageSpreadEl.getBoundingClientRect()\n\n        hotspotEl.parentNode.removeChild hotspotEl for hotspotEl in hotspotEls\n\n        for id, hotspot of data.hotspots\n            position = @getPosition data.pages, data.ratio, hotspot\n            el = @renderHotspot hotspot, position, contentRect, boundingRect\n            \n            frag.appendChild el\n\n        pageSpreadEl.appendChild frag\n\n        @\n\n    renderHotspot: (hotspot, position, contentRect, boundingRect) ->\n        el = document.createElement 'div'\n        top = Math.round contentRect.height / 100 * position.top\n        left = Math.round contentRect.width / 100 * position.left\n        width = Math.round contentRect.width / 100 * position.width\n        height = Math.round contentRect.height / 100 * position.height\n\n        top += Math.round contentRect.top\n        left += Math.round contentRect.left\n        top -= boundingRect.top\n        left -= boundingRect.left\n\n        el.className = 'sgn-pp__hotspot verso__overlay'\n        el.setAttribute 'data-id', hotspot.id if hotspot.id?\n        el.setAttribute 'data-type', hotspot.type if hotspot.type?\n        el.innerHTML = Mustache.render hotspot.template ? '', hotspot\n\n        el.style.top = \"#{top}px\"\n        el.style.left = \"#{left}px\"\n        el.style.width = \"#{width}px\"\n        el.style.height = \"#{height}px\"\n\n        el\n\n    getPosition: (pages, ratio, hotspot) ->\n        minX = null\n        minY = null\n        maxX = null\n        maxY = null\n        pageNumbers = pages.map (page) -> page.pageNumber\n\n        for pageNumber of hotspot.locations\n            continue if pageNumbers.indexOf(+pageNumber) is -1\n\n            hotspot.locations[pageNumber].forEach (coords) ->\n                x = coords[0]\n                y = coords[1]\n\n                x +=1 if pages[1] and pageNumbers[1] is +pageNumber\n                x /= pages.length\n\n                if not minX?\n                    minX = maxX = x\n                    minY = maxY = y\n\n                minX = x if x < minX\n                maxX = x if x > maxX\n                minY = y if y < minY\n                maxY = y if y > maxY\n\n        width = maxX - minX\n        height = maxY - minY\n\n        top: minY / ratio * 100\n        left: minX * 100\n        width: width * 100\n        height: height / ratio * 100\n\n    requestHotspots: (pageSpreadId, pages) ->\n        @trigger 'hotspotsRequested',\n            id: pageSpreadId\n            pages: pages\n\n        return\n\n    hotspotsReceived: (e) ->\n        pageSpreadId = e.pageSpread.getId()\n\n        @setCache pageSpreadId, e\n        @renderHotspots e\n\n        return\n\n    getCache: (pageSpreadId) ->\n        @cache[pageSpreadId]\n\n    setCache: (pageSpreadId, data) ->\n        @cache[pageSpreadId] = data\n\n        @\n\n    afterNavigation: (e) ->\n        return if not e.pageSpread?\n\n        id = e.pageSpread.getId()\n\n        @currentPageSpreadId = id\n        @requestHotspots id, e.pageSpread.getPages() if @pageSpreadsLoaded[id]\n\n        return\n\n    pagesLoaded: (e) ->\n        @pageSpreadsLoaded[e.pageSpreadId] = true\n        @requestHotspots e.pageSpreadId, e.pages if @currentPageSpreadId is e.pageSpreadId\n\n        return\n\n    resized: (e) ->\n        data = @getCache @currentPageSpreadId\n\n        @renderHotspots data if data?\n\n        return\n\nMicroEvent.mixin PagedPublicationHotspots\n\nmodule.exports = PagedPublicationHotspots\n\n\n","module.exports =\n    ESC: 27\n    ARROW_RIGHT: 39\n    ARROW_LEFT: 37\n    SPACE: 32\n    NUMBER_ONE: 49\n","MicroEvent = require 'microevent'\nSGN = require '../../sgn'\nkeyCodes = require '../../key-codes'\n\nclass PagedPublicationControls\n    constructor: (el, @options = {}) ->\n        @els =\n            root: el\n            progress: el.querySelector '.sgn-pp__progress'\n            progressBar: el.querySelector '.sgn-pp-progress__bar'\n            progressLabel: el.querySelector '.sgn-pp__progress-label'\n            prevControl: el.querySelector '.sgn-pp__control[data-direction=prev]'\n            nextControl: el.querySelector '.sgn-pp__control[data-direction=next]'\n            close: el.querySelector '.sgn-pp--close'\n\n        @keyDownListener = SGN.util.throttle @keyDown, 150, @\n\n        @els.root.addEventListener 'keydown', @keyDownListener, false if @options.keyboard is true\n        @els.prevControl.addEventListener 'click', @prevClicked.bind(@), false if @els.prevControl?\n        @els.nextControl.addEventListener 'click', @nextClicked.bind(@), false if @els.nextControl?\n        @els.close.addEventListener 'click', @closeClicked.bind(@), false if @els.close?\n\n        @bind 'beforeNavigation', @beforeNavigation.bind(@)\n\n        return\n\n    destroy: ->\n        @els.root.removeEventListener 'keydown', @keyDownListener\n\n        return\n\n    beforeNavigation: (e) ->\n        showProgress = typeof e.progressLabel is 'string' and e.progressLabel.length > 0\n        visibilityClassName = 'sgn-pp--hidden'\n\n        if @els.progress? and @els.progressBar?\n            @els.progressBar.style.width = \"#{e.progress}%\"\n\n            if showProgress is true\n                @els.progress.classList.remove visibilityClassName\n            else\n                @els.progress.classList.add visibilityClassName\n\n        if @els.progressLabel?\n            if showProgress is true\n                @els.progressLabel.textContent = e.progressLabel\n                @els.progressLabel.classList.remove visibilityClassName\n            else\n                @els.progressLabel.classList.add visibilityClassName\n\n        if @els.prevControl?\n            if e.verso.newPosition is 0\n                @els.prevControl.classList.add visibilityClassName\n            else\n                @els.prevControl.classList.remove visibilityClassName\n\n        if @els.nextControl?\n            if e.verso.newPosition is e.pageSpreadCount - 1\n                @els.nextControl.classList.add visibilityClassName\n            else\n                @els.nextControl.classList.remove visibilityClassName\n\n        return\n\n    prevClicked: (e) ->\n        e.preventDefault()\n\n        @trigger 'prev'\n\n        return\n\n    nextClicked: (e) ->\n        e.preventDefault()\n\n        @trigger 'next'\n\n        return\n    \n    closeClicked: (e) ->\n        e.preventDefault()\n\n        @trigger 'close'\n\n        return\n\n    keyDown: (e) ->\n        keyCode = e.keyCode\n\n        if keyCodes.ARROW_LEFT is keyCode\n            @trigger 'prev', duration: 0\n        else if keyCodes.ARROW_RIGHT is keyCode or keyCodes.SPACE is keyCode\n            @trigger 'next', duration: 0\n        else if keyCodes.NUMBER_ONE is keyCode\n            @trigger 'first', duration: 0\n\n        return\n\nMicroEvent.mixin PagedPublicationControls\n\nmodule.exports = PagedPublicationControls\n","MicroEvent = require 'microevent'\n\nclass PagedPublicationEventTracking\n    constructor: ->\n        @hidden = true\n        @pageSpread = null\n\n        @bind 'appeared', @appeared.bind(@)\n        @bind 'disappeared', @disappeared.bind(@)\n        @bind 'beforeNavigation', @beforeNavigation.bind(@)\n        @bind 'afterNavigation', @afterNavigation.bind(@)\n        @bind 'attemptedNavigation', @attemptedNavigation.bind(@)\n        @bind 'clicked', @clicked.bind(@)\n        @bind 'doubleClicked', @doubleClicked.bind(@)\n        @bind 'pressed', @pressed.bind(@)\n        @bind 'panStart', @panStart.bind(@)\n        @bind 'zoomedIn', @zoomedIn.bind(@)\n        @bind 'zoomedOut', @zoomedOut.bind(@)\n        @bind 'destroyed', @destroy.bind(@)\n\n        return\n\n    destroy: ->\n        @pageSpreadDisappeared()\n\n        return\n\n    trackEvent: (type, properties = {}) ->\n        @trigger 'trackEvent', type: type, properties: properties\n\n        return\n\n    trackOpened: (properties) ->\n        @trackEvent 'paged-publication-opened', properties\n\n        @\n\n    trackPageClicked: (properties) ->\n        @trackEvent 'paged-publication-page-clicked', properties\n\n        @\n\n    trackPageDoubleClicked: (properties) ->\n        @trackEvent 'paged-publication-page-double-clicked', properties\n\n        @\n\n    trackPageLongPressed: (properties) ->\n        @trackEvent 'paged-publication-page-long-pressed', properties\n\n        @\n\n    trackPageHotspotsClicked: (properties) ->\n        @trackEvent 'paged-publication-page-hotspots-clicked', properties\n\n        @\n\n    trackPageSpreadAppeared: (properties) ->\n        @trackEvent 'paged-publication-page-spread-appeared', properties\n\n        @\n\n    trackPageSpreadDisappeared: (properties) ->\n        @trackEvent 'paged-publication-page-spread-disappeared', properties\n\n        @\n\n    trackPageSpreadZoomedIn: (properties) ->\n        @trackEvent 'paged-publication-page-spread-zoomed-in', properties\n\n        @\n\n    trackPageSpreadZoomedOut: (properties) ->\n        @trackEvent 'paged-publication-page-spread-zoomed-out', properties\n\n        @\n\n    appeared: (e) ->\n        @pageSpreadAppeared e.pageSpread\n\n        return\n\n    disappeared: ->\n        @pageSpreadDisappeared()\n\n        return\n\n    beforeNavigation: ->\n        @pageSpreadDisappeared()\n\n        return\n\n    afterNavigation: (e) ->\n        @pageSpreadAppeared e.pageSpread\n\n        return\n\n    attemptedNavigation: (e) ->\n        @pageSpreadAppeared e.pageSpread\n\n        return\n\n    clicked: (e) ->\n        if e.page?\n            properties =\n                pageNumber: e.page.pageNumber\n                x: e.verso.pageX\n                y: e.verso.pageY\n\n            @trackPageClicked pagedPublicationPage: properties\n            @trackPageHotspotsClicked pagedPublicationPage: properties if e.verso.overlayEls.length > 0\n\n        return\n\n    doubleClicked: (e) =>\n        if e.page?\n            @trackPageDoubleClicked pagedPublicationPage:\n                pageNumber: e.page.pageNumber\n                x: e.verso.pageX\n                y: e.verso.pageY\n\n        return\n\n    pressed: (e) ->\n        if e.page?\n            @trackPageLongPressed pagedPublicationPage:\n                pageNumber: e.page.pageNumber\n                x: e.verso.pageX\n                y: e.verso.pageY\n\n        return\n\n    panStart: (e) ->\n        @pageSpreadDisappeared() if e.scale is 1\n\n        return\n\n    zoomedIn: (e) ->\n        if e.pageSpread?\n            @trackPageSpreadZoomedIn pagedPublicationPageSpread:\n                pageNumbers: e.pageSpread.getPages().map (page) -> page.pageNumber\n\n        return\n\n    zoomedOut: (e) ->\n        if e.pageSpread?\n            @trackPageSpreadZoomedOut pagedPublicationPageSpread:\n                pageNumbers: e.pageSpread.getPages().map (page) -> page.pageNumber\n\n        return\n\n    pageSpreadAppeared: (pageSpread) ->\n        if pageSpread? and @hidden is true\n            @pageSpread = pageSpread\n\n            @trackPageSpreadAppeared pagedPublicationPageSpread:\n                pageNumbers: pageSpread.getPages().map (page) -> page.pageNumber\n\n            @hidden = false\n\n        return\n\n    pageSpreadDisappeared: ->\n        if @pageSpread? and @hidden is false\n            @trackPageSpreadDisappeared pagedPublicationPageSpread:\n                pageNumbers: @pageSpread.getPages().map (page) -> page.pageNumber\n\n            @hidden = true\n            @pageSpread = null\n\n        return\n\nMicroEvent.mixin PagedPublicationEventTracking\n\nmodule.exports = PagedPublicationEventTracking\n","MicroEvent = require 'microevent'\nSGN = require '../../sgn'\nCore = require './core'\nHotspots = require './hotspots'\nControls = require './controls'\nEventTracking = require './event-tracking'\n\nclass Viewer\n    constructor: (@el, @options = {}) ->\n        @_core = new Core @el,\n            id: @options.id\n            pages: @options.pages\n            pageSpreadWidth: @options.pageSpreadWidth\n            pageSpreadMaxZoomScale: @options.pageSpreadMaxZoomScale\n            pageId: @options.pageId\n            idleDelay: @options.idleDelay\n            resizeDelay: @options.resizeDelay\n            color: @options.color\n        @_hotspots = new Hotspots()\n        @_controls = new Controls @el, keyboard: @options.keyboard\n        @_eventTracking = new EventTracking()\n        @viewSession = SGN.util.uuid()\n        @hotspots = null\n        @hotspotQueue = []\n        @popover = null\n\n        @_setupEventListeners()\n\n        return\n\n        return\n\n    start: ->\n        @_eventTracking.trackOpened()\n        @_core.trigger 'started'\n\n        @\n\n    destroy: ->\n        @_core.trigger 'destroyed'\n        @_hotspots.trigger 'destroyed'\n        @_controls.trigger 'destroyed'\n        @_eventTracking.trigger 'destroyed'\n\n        @trigger 'destroyed'\n\n        @\n\n    navigateTo: (position, options) ->\n        @navigateToIndex position, options\n\n        @\n\n    navigateToIndex: (position, options) ->\n        @_core.getVerso().navigateTo position, options\n\n        @\n    \n    navigateToPageId: (pageId, options) ->\n        position = @_core.getVerso().getPageSpreadPositionFromPageId pageId\n        \n        @_core.getVerso().navigateTo position, options\n\n    first: (options) ->\n        @_core.getVerso().first options\n\n        @\n\n    prev: (options) ->\n        @_core.getVerso().prev options\n\n        @\n\n    next: (options) ->\n        @_core.getVerso().next options\n\n        @\n\n    last: (options) ->\n        @_core.getVerso().last options\n\n        @\n\n    _trackEvent: (e) ->\n        type = e.type\n        idType = 'legacy'\n        properties = pagedPublication:\n            id: [idType, @options.id]\n            ownedBy: [idType, @options.ownedBy]\n        eventTracker = @options.eventTracker\n\n        properties[key] = value for key, value of e.properties\n\n        eventTracker.trackEvent type, properties if eventTracker?\n\n        return\n\n    _setupEventListeners: ->\n        @_eventTracking.bind 'trackEvent', (e) =>\n            @_trackEvent e\n\n            return\n\n        @_controls.bind 'prev', (e) =>\n            @prev e\n            \n            return\n        @_controls.bind 'next', (e) =>\n            @next e\n            \n            return\n        @_controls.bind 'first', (e) =>\n            @first e\n            \n            return\n        @_controls.bind 'last', (e) =>\n            @last e\n            \n            return\n        @_controls.bind 'close', (e) =>\n            @destroy e\n\n            return\n        @_hotspots.bind 'hotspotsRequested', (e) =>\n            @trigger 'hotspotsRequested', e\n\n            return\n\n        @_core.bind 'appeared', (e) =>\n            @_eventTracking.trigger 'appeared', e\n            @trigger 'appeared', e\n\n            return\n        @_core.bind 'disappeared', (e) =>\n            @_eventTracking.trigger 'disappeared', e\n            @trigger 'disappeared', e\n\n            return\n        @_core.bind 'beforeNavigation', (e) =>\n            @_eventTracking.trigger 'beforeNavigation', e\n            @_controls.trigger 'beforeNavigation', e\n            @trigger 'beforeNavigation', e\n\n            return\n        @_core.bind 'afterNavigation', (e) =>\n            @_eventTracking.trigger 'afterNavigation', e\n            @_hotspots.trigger 'afterNavigation', e\n            @trigger 'afterNavigation', e\n\n            return\n        @_core.bind 'attemptedNavigation', (e) =>\n            @_eventTracking.trigger 'attemptedNavigation', e\n            @trigger 'attemptedNavigation', e\n\n            return\n        @_core.bind 'clicked', (e) =>\n            @_eventTracking.trigger 'clicked', e\n            @trigger 'clicked', e\n\n            return\n        @_core.bind 'doubleClicked', (e) =>\n            @_eventTracking.trigger 'doubleClicked', e\n            @trigger 'doubleClicked', e\n\n            return\n        @_core.bind 'contextmenu', (e) =>\n            @trigger 'contextmenu', e\n\n            return\n        @_core.bind 'pressed', (e) =>\n            @_eventTracking.trigger 'pressed', e\n            @trigger 'pressed', e\n\n            return\n        @_core.bind 'panStart', (e) =>\n            @_eventTracking.trigger 'panStart', e\n            @trigger 'panStart', e\n\n            return\n        @_core.bind 'zoomedIn', (e) =>\n            @_eventTracking.trigger 'zoomedIn', e\n            @trigger 'zoomedIn', e\n\n            return\n        @_core.bind 'zoomedOut', (e) =>\n            @_eventTracking.trigger 'zoomedOut', e\n            @trigger 'zoomedOut', e\n\n            return\n        @_core.bind 'pageLoaded', (e) =>\n            @_eventTracking.trigger 'pageLoaded', e\n            @trigger 'pageLoaded', e\n\n            return\n        @_core.bind 'pagesLoaded', (e) =>\n            @_hotspots.trigger 'pagesLoaded', e\n            @trigger 'pagesLoaded', e\n\n            return\n        @_core.bind 'resized', (e) =>\n            @_hotspots.trigger 'resized'\n            @trigger 'resized', e\n\n            return\n\n        @bind 'hotspotsRequested', @hotspotsRequested.bind(@)\n        @bind 'beforeNavigation', @beforeNavigation.bind(@)\n        @bind 'clicked', @clicked.bind(@)\n        @bind 'contextmenu', @contextmenu.bind(@)\n        @bind 'pressed', @pressed.bind(@)\n\n        return\n\n    pickHotspot: (e, callback) ->\n        return if not @hotspots?\n\n        if @popover?\n            @popover.destroy()\n            @popover = null\n        \n        hotspots = e.verso.overlayEls.map (overlayEl) =>\n            @hotspots[overlayEl.getAttribute('data-id')]\n\n        if hotspots.length is 1\n            callback hotspots[0]\n        else if hotspots.length > 1\n            @popover = SGN.CoreUIKit.singleChoicePopover\n                el: @el\n                header: SGN.translations.t 'paged_publication.hotspot_picker.header'\n                x: e.verso.x\n                y: e.verso.y\n                items: hotspots\n                    .filter (hotspot) -> hotspot.type is 'offer'\n                    .map (hotspot) ->\n                        id: hotspot.id\n                        title: hotspot.offer.heading\n                        subtitle: hotspot.offer.pricing.currency + '' + hotspot.offer.pricing.price\n            , (e) =>\n                callback @hotspots[e.id]\n\n                return\n        \n        return\n\n    processHotspotQueue: ->\n        return if not @hotspots?\n\n        @hotspotQueue = @hotspotQueue.filter (hotspotRequest) =>\n            hotspots = {}\n            versoPageSpread = @_core.getVerso().pageSpreads.find (pageSpread) ->\n                pageSpread.getId() is hotspotRequest.id\n\n            for id, hotspot of @hotspots\n                continue if hotspots[id]?\n\n                for page in hotspotRequest.pages\n                    if hotspot.locations[page.pageNumber]?\n                        hotspots[id] =\n                            type: hotspot.type\n                            id: hotspot.id\n                            locations: hotspot.locations\n                        \n                        break\n\n            @_hotspots.trigger 'hotspotsReceived',\n                pageSpread: @_core.pageSpreads.get hotspotRequest.id\n                versoPageSpread: versoPageSpread\n                ratio: @options.hotspotRatio\n                pages: hotspotRequest.pages\n                hotspots: hotspots\n\n            false\n\n        return\n\n    hotspotsRequested: (e) ->\n        @hotspotQueue.push e\n        @processHotspotQueue()\n\n        return\n    \n    applyHotspots: (hotspots = {}) ->\n        @hotspots = hotspots\n\n        @processHotspotQueue()\n\n        return\n    \n    beforeNavigation: ->\n        @popover.destroy() if @popover?\n\n        return\n    \n    clicked: (e) ->\n        @pickHotspot e, (hotspot) =>\n            @trigger 'hotspotClicked', hotspot\n\n            return\n            \n        return\n    \n    contextmenu: (e) ->\n        @pickHotspot e, (hotspot) =>\n            @trigger 'hotspotContextmenu', hotspot\n\n            return\n        \n        return\n    \n    pressed: (e) ->\n        @pickHotspot e, (hotspot) =>\n            @trigger 'hotspotPressed', hotspot\n\n            return\n            \n        return\n\nMicroEvent.mixin Viewer\n\nmodule.exports = Viewer\n","MicroEvent = require 'microevent'\nSGN = require '../../core'\n\nmodule.exports = class Bootstrapper\n    constructor: (@options = {}) ->\n        return\n\n    createViewer: (data) ->\n        new SGN.PagedPublicationKit.Viewer @options.el,\n            id: @options.id\n            ownedBy: data.details.dealer_id\n            color: '#' + data.details.branding.pageflip.color\n            hotspotRatio: data.details.dimensions.height\n            keyboard: true\n            pageId: @options.pageId\n            eventTracker: @options.eventTracker\n            pages: @transformPages data.pages\n\n    transformPages: (pages) ->\n        pages.map (page, i) ->\n            pageNumber = i + 1\n\n            id: 'page' + pageNumber\n            label: pageNumber + ''\n            pageNumber: pageNumber\n            images:\n                medium: page.view\n                large: page.zoom\n\n    applyHotspots: (viewer, hotspots) ->\n        obj = {}\n\n        hotspots.forEach (hotspot) -> obj[hotspot.id] = hotspot\n        \n        viewer.applyHotspots obj\n\n        return\n    \n    fetch: (callback) ->\n        SGN.util.async.parallel [@fetchDetails.bind(@), @fetchPages.bind(@)], (result) ->\n            data =\n                details: result[0][1]\n                pages: result[1][1]\n\n            if data.details? and data.pages?\n                callback null, data\n            else\n                callback new Error()\n\n            return\n        \n        return\n\n    fetchDetails: (callback) ->\n        SGN.CoreKit.request\n            url: \"/v2/catalogs/#{@options.id}\"\n        , callback\n\n        return\n\n    fetchPages: (callback) ->\n        SGN.CoreKit.request\n            url: \"/v2/catalogs/#{@options.id}/pages\"\n        , callback\n\n        return\n\n    fetchHotspots: (callback) ->\n        SGN.CoreKit.request\n            url: \"/v2/catalogs/#{@options.id}/hotspots\"\n        , callback\n\n        return","module.exports =\n    Viewer: require './viewer'\n\n    Bootstrapper: require './bootstrapper'\n","Incito = require 'incito-browser'\nMicroEvent = require 'microevent'\n\nclass Viewer\n    constructor: (@el, @options = {}) ->\n        @incito = new Incito @el,\n            incito: @options.incito\n            \n        return\n    \n    start: ->\n        @incito.start()\n\n        @_trackEvent\n            type: 'x-incito-publication-opened'\n            properties:\n                id: @options.id\n\n        @\n    \n    destroy: ->\n        @incito.destroy()\n\n        return\n    \n    _trackEvent: (e) ->\n        type = e.type\n        properties =\n            id: @options.id\n        eventTracker = @options.eventTracker\n\n        properties[key] = value for key, value of e.properties\n\n        eventTracker.trackEvent type, properties if eventTracker?\n\nMicroEvent.mixin Viewer\n\nmodule.exports = Viewer","module.exports = class Controls\n    constructor: (@viewer) ->\n        @progressEl = @viewer.el.querySelector '.sgn-incito__progress'\n        @scrollListener = @scroll.bind @\n\n        if @progressEl?\n            window.addEventListener 'scroll', @scrollListener, false\n\n            @viewer.bind 'destroyed', =>\n                window.removeEventListener 'scroll', @scrollListener\n\n                return\n\n        return\n    \n    scroll: ->\n        scrollTop = window.scrollY\n        winHeight = window.innerHeight\n        docHeight = document.body.clientHeight\n        progress = Math.round (scrollTop + winHeight) / docHeight * 100\n\n        if scrollTop < 300\n            @progressEl.style.opacity = 0\n        else if scrollTop >= docHeight - winHeight\n            @progressEl.textContent = '100%'\n            @progressEl.style.opacity = 1\n        else\n            @progressEl.textContent = \"#{progress} %\"\n            @progressEl.style.opacity = 1\n\n        return","util = require '../../util'\nSGN = require '../../core'\nControls = require './controls'\nschema = require '../../../graphql/incito.graphql'\n\nmodule.exports = class Bootstrapper\n    constructor: (@options = {}) ->\n        @deviceCategory = @getDeviceCategory()\n        @pixelRatio = @getPixelRatio()\n        @pointer = @getPointer()\n        @orientation = @getOrientation()\n        @maxWidth = @getMaxWidth()\n        @versionsSupported = ['1.0.0']\n        @storageKey = \"incito-#{@options.id}\"\n\n        return\n    \n    getDeviceCategory: ->\n        util.getDeviceCategory()\n    \n    getPixelRatio: ->\n        window.devicePixelRatio or 1\n    \n    getPointer: ->\n        util.getPointer()\n    \n    getOrientation: ->\n        orientation = util.getOrientation screen.width, screen.height\n        orientation = 'horizontal' if orientation is 'quadratic'\n\n        orientation\n    \n    getMaxWidth: ->\n        if Math.abs(window.orientation) is 90\n            Math.min @options.el.offsetWidth, screen.width\n        else\n            @options.el.offsetWidth\n\n    fetch: (callback) ->\n        data = SGN.storage.session.get @storageKey\n\n        if data? and data.response? and data.width is @maxWidth\n            return callback null, data.response\n\n        SGN.GraphKit.request\n            query: schema\n            operationName: 'GetIncitoPublication'\n            variables:\n                id: @options.id\n                deviceCategory: 'DEVICE_CATEGORY_' + @deviceCategory.toUpperCase()\n                pixelRatio: @pixelRatio\n                pointer: 'POINTER_' + @pointer.toUpperCase()\n                orientation: 'ORIENTATION_' + @orientation.toUpperCase()\n                maxWidth: @maxWidth\n                versionsSupported: @versionsSupported\n        , (err, res) =>\n            if err?\n                callback err\n            else if res.errors and res.errors.length > 0\n                callback util.error(new Error(), 'graph request contained errors')\n            else\n                callback null, res\n\n                SGN.storage.session.set @storageKey,\n                    width: @maxWidth\n                    response: res\n            \n            return\n\n        return\n    \n    createViewer: (data) ->\n        if not data.incito?\n            throw util.error new Error(), 'you need to supply valid Incito to create a viewer'\n\n        viewer = new SGN.IncitoPublicationKit.Viewer @options.el,\n            id: @options.id\n            incito: data.incito\n            eventTracker: @options.eventTracker\n        controls = new Controls viewer\n\n        viewer","module.exports =\n    Viewer: require './viewer'\n\n    Bootstrapper: require './bootstrapper'","/**\n * Copyright 2014 Craig Campbell\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * GATOR.JS\n * Simple Event Delegation\n *\n * @version 1.2.4\n *\n * Compatible with IE 9+, FF 3.6+, Safari 5+, Chrome\n *\n * Include legacy.js for compatibility with older browsers\n *\n *             .-._   _ _ _ _ _ _ _ _\n *  .-''-.__.-'00  '-' ' ' ' ' ' ' ' '-.\n * '.___ '    .   .--_'-' '-' '-' _'-' '._\n *  V: V 'vv-'   '_   '.       .'  _..' '.'.\n *    '=.____.=_.--'   :_.__.__:_   '.   : :\n *            (((____.-'        '-.  /   : :\n *                              (((-'\\ .' /\n *                            _____..'  .'\n *                           '-._____.-'\n */\nvar _matcher,\n  _level = 0,\n  _id = 0,\n  _handlers = {},\n  _gatorInstances = {};\n\nfunction _addEvent(gator, type, callback) {\n  // blur and focus do not bubble up but if you use event capturing\n  // then you will get them\n  var useCapture = type == \"blur\" || type == \"focus\";\n  gator.element.addEventListener(type, callback, useCapture);\n}\n\nfunction _cancel(e) {\n  e.preventDefault();\n  e.stopPropagation();\n}\n\n/**\n     * returns function to use for determining if an element\n     * matches a query selector\n     *\n     * @returns {Function}\n     */\nfunction _getMatcher(element) {\n  if (_matcher) {\n    return _matcher;\n  }\n\n  if (element.matches) {\n    _matcher = element.matches;\n    return _matcher;\n  }\n\n  if (element.webkitMatchesSelector) {\n    _matcher = element.webkitMatchesSelector;\n    return _matcher;\n  }\n\n  if (element.mozMatchesSelector) {\n    _matcher = element.mozMatchesSelector;\n    return _matcher;\n  }\n\n  if (element.msMatchesSelector) {\n    _matcher = element.msMatchesSelector;\n    return _matcher;\n  }\n\n  if (element.oMatchesSelector) {\n    _matcher = element.oMatchesSelector;\n    return _matcher;\n  }\n\n  // if it doesn't match a native browser method\n  // fall back to the gator function\n  _matcher = Gator.matchesSelector;\n  return _matcher;\n}\n\n/**\n     * determines if the specified element matches a given selector\n     *\n     * @param {Node} element - the element to compare against the selector\n     * @param {string} selector\n     * @param {Node} boundElement - the element the listener was attached to\n     * @returns {void|Node}\n     */\nfunction _matchesSelector(element, selector, boundElement) {\n  // no selector means this event was bound directly to this element\n  if (selector == \"_root\") {\n    return boundElement;\n  }\n\n  // if we have moved up to the element you bound the event to\n  // then we have come too far\n  if (element === boundElement) {\n    return;\n  }\n\n  // if this is a match then we are done!\n  if (_getMatcher(element).call(element, selector)) {\n    return element;\n  }\n\n  // if this element did not match but has a parent we should try\n  // going up the tree to see if any of the parent elements match\n  // for example if you are looking for a click on an <a> tag but there\n  // is a <span> inside of the a tag that it is the target,\n  // it should still work\n  if (element.parentNode) {\n    _level++;\n    return _matchesSelector(element.parentNode, selector, boundElement);\n  }\n}\n\nfunction _addHandler(gator, event, selector, callback) {\n  if (!_handlers[gator.id]) {\n    _handlers[gator.id] = {};\n  }\n\n  if (!_handlers[gator.id][event]) {\n    _handlers[gator.id][event] = {};\n  }\n\n  if (!_handlers[gator.id][event][selector]) {\n    _handlers[gator.id][event][selector] = [];\n  }\n\n  _handlers[gator.id][event][selector].push(callback);\n}\n\nfunction _removeHandler(gator, event, selector, callback) {\n  // if there are no events tied to this element at all\n  // then don't do anything\n  if (!_handlers[gator.id]) {\n    return;\n  }\n\n  // if there is no event type specified then remove all events\n  // example: Gator(element).off()\n  if (!event) {\n    for (var type in _handlers[gator.id]) {\n      if (_handlers[gator.id].hasOwnProperty(type)) {\n        _handlers[gator.id][type] = {};\n      }\n    }\n    return;\n  }\n\n  // if no callback or selector is specified remove all events of this type\n  // example: Gator(element).off('click')\n  if (!callback && !selector) {\n    _handlers[gator.id][event] = {};\n    return;\n  }\n\n  // if a selector is specified but no callback remove all events\n  // for this selector\n  // example: Gator(element).off('click', '.sub-element')\n  if (!callback) {\n    delete _handlers[gator.id][event][selector];\n    return;\n  }\n\n  // if we have specified an event type, selector, and callback then we\n  // need to make sure there are callbacks tied to this selector to\n  // begin with.  if there aren't then we can stop here\n  if (!_handlers[gator.id][event][selector]) {\n    return;\n  }\n\n  // if there are then loop through all the callbacks and if we find\n  // one that matches remove it from the array\n  for (var i = 0; i < _handlers[gator.id][event][selector].length; i++) {\n    if (_handlers[gator.id][event][selector][i] === callback) {\n      _handlers[gator.id][event][selector].splice(i, 1);\n      break;\n    }\n  }\n}\n\nfunction _handleEvent(id, e, type) {\n  if (!_handlers[id][type]) {\n    return;\n  }\n\n  var target = e.target || e.srcElement,\n    selector,\n    match,\n    matches = {},\n    i = 0,\n    j = 0;\n\n  // find all events that match\n  _level = 0;\n  for (selector in _handlers[id][type]) {\n    if (_handlers[id][type].hasOwnProperty(selector)) {\n      match = _matchesSelector(target, selector, _gatorInstances[id].element);\n\n      if (\n        match &&\n        Gator.matchesEvent(\n          type,\n          _gatorInstances[id].element,\n          match,\n          selector == \"_root\",\n          e\n        )\n      ) {\n        _level++;\n        _handlers[id][type][selector].match = match;\n        matches[_level] = _handlers[id][type][selector];\n      }\n    }\n  }\n\n  // stopPropagation() fails to set cancelBubble to true in Webkit\n  // @see http://code.google.com/p/chromium/issues/detail?id=162270\n  e.stopPropagation = function() {\n    e.cancelBubble = true;\n  };\n\n  for (i = 0; i <= _level; i++) {\n    if (matches[i]) {\n      for (j = 0; j < matches[i].length; j++) {\n        if (matches[i][j].call(matches[i].match, e) === false) {\n          Gator.cancel(e);\n          return;\n        }\n\n        if (e.cancelBubble) {\n          return;\n        }\n      }\n    }\n  }\n}\n\n/**\n     * binds the specified events to the element\n     *\n     * @param {string|Array} events\n     * @param {string} selector\n     * @param {Function} callback\n     * @param {boolean=} remove\n     * @returns {Object}\n     */\nfunction _bind(events, selector, callback, remove) {\n  // fail silently if you pass null or undefined as an alement\n  // in the Gator constructor\n  if (!this.element) {\n    return;\n  }\n\n  if (!(events instanceof Array)) {\n    events = [events];\n  }\n\n  if (!callback && typeof selector == \"function\") {\n    callback = selector;\n    selector = \"_root\";\n  }\n\n  var id = this.id,\n    i;\n\n  function _getGlobalCallback(type) {\n    return function(e) {\n      _handleEvent(id, e, type);\n    };\n  }\n\n  for (i = 0; i < events.length; i++) {\n    if (remove) {\n      _removeHandler(this, events[i], selector, callback);\n      continue;\n    }\n\n    if (!_handlers[id] || !_handlers[id][events[i]]) {\n      Gator.addEvent(this, events[i], _getGlobalCallback(events[i]));\n    }\n\n    _addHandler(this, events[i], selector, callback);\n  }\n\n  return this;\n}\n\n/**\n     * Gator object constructor\n     *\n     * @param {Node} element\n     */\nfunction Gator(element, id) {\n  // called as function\n  if (!(this instanceof Gator)) {\n    // only keep one Gator instance per node to make sure that\n    // we don't create a ton of new objects if you want to delegate\n    // multiple events from the same node\n    //\n    // for example: Gator(document).on(...\n    for (var key in _gatorInstances) {\n      if (_gatorInstances[key].element === element) {\n        return _gatorInstances[key];\n      }\n    }\n\n    _id++;\n    _gatorInstances[_id] = new Gator(element, _id);\n\n    return _gatorInstances[_id];\n  }\n\n  this.element = element;\n  this.id = id;\n}\n\n/**\n     * adds an event\n     *\n     * @param {string|Array} events\n     * @param {string} selector\n     * @param {Function} callback\n     * @returns {Object}\n     */\nGator.prototype.on = function(events, selector, callback) {\n  return _bind.call(this, events, selector, callback);\n};\n\n/**\n     * removes an event\n     *\n     * @param {string|Array} events\n     * @param {string} selector\n     * @param {Function} callback\n     * @returns {Object}\n     */\nGator.prototype.off = function(events, selector, callback) {\n  return _bind.call(this, events, selector, callback, true);\n};\n\nGator.matchesSelector = function() {};\nGator.cancel = _cancel;\nGator.addEvent = _addEvent;\nGator.matchesEvent = function() {\n  return true;\n};\n\nif (typeof module !== \"undefined\" && module.exports) {\n  module.exports = Gator;\n}\n\nif (typeof window !== \"undefined\" && window.exports) {\n  window.Gator = Gator;\n}\n","module.exports = class OfferDetails\n    constructor: (@options = {}) ->\n        @el = document.createElement 'div'\n\n        @el.className = 'sgn-offer-details'\n        @el.setAttribute 'tabindex', -1\n        @el.appendChild @options.contentEl\n\n        @resizeListener = @resize.bind @\n\n        @position()\n\n        return\n    \n    appendTo: (el) ->\n        el.appendChild @el\n\n        @el.offsetWidth\n\n        @show()\n\n        @\n    \n    show: ->\n        @el.className += ' in'\n\n        window.addEventListener 'resize', @resizeListener, false\n\n        @\n    \n    destroy: ->\n        window.removeEventListener 'resize', @resizeListener\n\n        @el.parentNode.removeChild @el\n\n        return\n    \n    position: ->\n        rect = @options.anchorEl.getBoundingClientRect()\n        top = window.pageYOffset + rect.top + @options.anchorEl.offsetHeight\n        left = window.pageXOffset + rect.left\n        width = @options.anchorEl.offsetWidth\n\n        @el.style.top = top + 'px'\n        @el.style.left = left + 'px'\n        @el.style.width = width + 'px'\n\n        return\n    \n    resize: ->\n        @position()\n\n        return","MicroEvent = require 'microevent'\nGator = require '../../../../vendor/gator'\nMustache = require 'mustache'\nkeyCodes = require '../../key-codes'\n\ntemplate = \"\"\"\n<div class=\"sgn-popover__background\" data-close></div>\n<div class=\"sgn-popover__menu\">\n    {{#header}}\n        <div class=\"sgn-popover__header\">{{header}}</div>\n    {{/header}}\n    <div class=\"sgn-popover__content\">\n        <ul>\n            {{#singleChoiceItems}}\n                <li data-index=\"{{index}}\">\n                    <p class=\"sgn-popover-item__title\">{{item.title}}</p>\n                    {{#item.subtitle}}\n                        <p class=\"sgn-popover-item__subtitle\">{{item.subtitle}}</p>\n                    {{/item.subtitle}}\n                </li>\n            {{/singleChoiceItems}}\n        </ul>\n    </div>\n</div>\n\"\"\"\n\nclass Popover\n    constructor: (@options = {}) ->\n        @el = document.createElement 'div'\n        @backgroundEl = document.createElement 'div'\n        @resizeListener = @resize.bind @\n        @scrollListener = @scroll.bind @\n\n        return\n\n    render: ->\n        width = @options.width ? 100\n        header = @options.header\n        template = @options.template if @options.template?\n        trigger = @trigger.bind @\n        view =\n            header: header\n            singleChoiceItems: @options.singleChoiceItems.map (item, i) ->\n                item: item\n                index: i\n\n        @el.className = 'sgn-popover'\n        @el.setAttribute 'tabindex', -1\n        @el.innerHTML = Mustache.render template, view\n\n        @position()\n        @addEventListeners()\n\n        @\n\n    destroy: ->\n        Gator(@el).off()\n\n        window.removeEventListener 'resize', @resizeListener\n        window.removeEventListener 'scroll', @scrollListener\n\n        if @el.parentNode?\n            @el.parentNode.removeChild @el\n\n            @trigger 'destroyed'\n\n        return\n    \n    position: ->\n        top = @options.y\n        left = @options.x\n\n        menuEl = @el.querySelector '.sgn-popover__menu'\n\n        width = menuEl.offsetWidth\n        height = menuEl.offsetHeight\n        parentWidth = @el.parentNode.offsetWidth\n        parentHeight = @el.parentNode.offsetHeight\n        boundingRect = @el.parentNode.getBoundingClientRect()\n\n        top -= boundingRect.top\n        left -= boundingRect.left\n\n        top -= window.pageYOffset\n        left -= window.pageXOffset\n\n        if top + height > parentHeight\n            menuEl.style.top = parentHeight - height + 'px'\n        else\n            menuEl.style.top = top + 'px'\n\n        if left + width > parentWidth\n            menuEl.style.left = parentWidth - width + 'px'\n        else\n            menuEl.style.left = left + 'px'\n        \n        return\n    \n    addEventListeners: ->\n        trigger = @trigger.bind @\n\n        @el.addEventListener 'keyup', @keyUp.bind(@)\n\n        Gator(@el).on 'click', '[data-index]', (e) ->\n            e.preventDefault()\n            e.stopPropagation()\n\n            trigger 'selected', index: +@getAttribute 'data-index'\n\n            return\n\n        Gator(@el).on 'click', '[data-close]', (e) =>\n            e.preventDefault()\n            e.stopPropagation()\n            \n            @destroy()\n\n            return\n\n        Gator(@el).on 'click', '.sgn-popover__menu', (e) ->\n            e.stopPropagation()\n\n            return\n\n        window.addEventListener 'resize', @resizeListener, false\n        window.addEventListener 'scroll', @scrollListener, false\n\n        return\n\n    keyUp: (e) ->\n        @destroy() if e.keyCode is keyCodes.ESC\n        \n        return\n\n    resize: ->\n        @destroy()\n\n        return\n\n    scroll: ->\n        @destroy()\n\n        return\n\nMicroEvent.mixin Popover\n\nmodule.exports = Popover\n","Popover = require './popover'\n\nmodule.exports = (ctx, callback) ->\n    items = ctx.items\n    popover = null\n\n    if items.length is 1\n        callback items[0]\n    else if items.length > 1\n        popover = new Popover\n            header: ctx.header,\n            x: ctx.x\n            y: ctx.y\n            singleChoiceItems: items\n\n        popover.bind 'selected', (e) ->\n            callback items[e.index]\n\n            popover.destroy()\n\n            return\n\n        popover.bind 'destroyed', ->\n            ctx.el.focus()\n\n            return\n\n        ctx.el.appendChild popover.el\n        popover.render().el.focus()\n\n    destroy: ->\n        popover.destroy() if popover?\n\n        return","Gator = require '../../../../vendor/gator'\n\nmodule.exports =\n    OfferDetails: require './offer-details'\n\n    Popover: require './popover'\n\n    singleChoicePopover: require './single-choice-popover'\n\n    on: (el, events, selector, callback) ->\n        Gator(el).on events, selector, callback\n\n    off: (el, events, selector, callback) ->\n        Gator(el).off events, selector, callback","{ isBrowser } = require './util'\n\nSGN = require './core'\n\n# Expose storage backends.\nSGN.storage =\n    local: require './storage/client-local'\n    session: require './storage/client-session'\n    cookie: require './storage/client-cookie'\n\n# Expose request handler.\nSGN.request = require './request'\n\n# Expose the different kits.\nSGN.AssetsKit = require './kits/assets'\nSGN.EventsKit = require './kits/events'\nSGN.GraphKit = require './kits/graph'\nSGN.CoreKit = require './kits/core'\nSGN.PagedPublicationKit = require './kits/paged-publication'\nSGN.IncitoPublicationKit = require './kits/incito-publication'\nSGN.CoreUIKit = require './kits/core-ui'\n\n# Set the core session from the cookie store if possible.\nsession = SGN.storage.cookie.get 'session'\n\nif typeof session is 'object'\n    SGN.config.set\n        coreSessionToken: session.token\n        coreSessionClientId: session.client_id\n\nSGN.client = do ->\n    id = SGN.storage.local.get 'client-id'\n    id = id?.data\n    firstOpen = not id?\n\n    if firstOpen\n        id = SGN.util.uuid()\n        \n        SGN.storage.local.set 'client-id', id\n\n    firstOpen: firstOpen\n    id: id\n\n# Listen for changes in the config.\nSGN.config.bind 'change', (changedAttributes) ->\n    eventTracker = changedAttributes.eventTracker\n\n    if eventTracker?\n        eventTracker.trackEvent 'first-client-session-opened', {}, '1.0.0' if SGN.client.firstOpen is true\n        eventTracker.trackEvent 'client-session-opened', {}, '1.0.0'\n\n    return\n\nif isBrowser()\n    # Autoconfigure the SDK.\n    scriptEl = document.getElementById 'sgn-sdk'\n\n    if scriptEl?\n        appKey = scriptEl.getAttribute 'data-app-key'\n        trackId = scriptEl.getAttribute 'data-track-id'\n        config = {}\n\n        config.appKey = appKey if appKey?\n        config.eventTracker = new SGN.EventsKit.Tracker(trackId: trackId) if trackId?\n\n        SGN.config.set config\n\nmodule.exports = SGN\n"],"names":["util","window","document","process","err","options","key","value","message","code","name","stack","time","Date","replace","c","r","v","Math","random","toString","field","url","href","reg","string","location","RegExp","exec","queryParams","Object","keys","map","encodeURIComponent","join","from","to","floor","ua","navigator","userAgent","indexOf","deviceCategory","platform","test","pointer","matchMedia","matches","width","height","density","logical","physical","ref","screen","round","jan1","jan2","now","stdTimeOffset","tmp","getFullYear","toGMTString","substring","lastIndexOf","getTimezoneOffset","color","hex","rgb","s","sum","x","parseInt","str","buffer","isBrowser","btoa","Buffer","arr","size","results","length","push","splice","fn","threshold","scope","deferTimer","last","args","context","getTime","arguments","setTimeout","apply","src","callback","img","Image","onload","onerror","Error","lat1","lng1","lat2","lng2","dist","radlat1","radlat2","radtheta","theta","PI","sin","cos","acos","asyncCalls","sharedCallback","allResults","counter","k","makeCallback","index","i","Config","MicroEvent","require$$0","attrs","config","changedAttributes","trigger","option","mixin","Mustache","pairs","view","template","render","translations","require$$1","require$$2","set","prefixKey","SGN","storage","localStorage","JSON","parse","stringify","sessionStorage","ca","ct","len","isNode","cookie","split","trim","date","days","setTime","toUTCString","XMLHttpRequest","progressCallback","formData","header","headers","http","method","ref1","ref2","ref3","ref4","formatQueryParams","qs","open","toUpperCase","timeout","useCookies","withCredentials","json","setRequestHeader","addEventListener","body","getAllResponseHeaders","reduce","acc","current","parts","toLowerCase","responseText","status","e","lengthComputable","loaded","total","FormData","append","send","get","request","file","data","error","statusCode","Tracker","clientLocalStorage","getPool","pool","Array","isArray","concat","dispatching","session","uuid","client","trackId","id","application","identity","interval","setInterval","dispatch","bind","dispatchInterval","type","properties","version","toISOString","getContext","getPoolSize","poolLimit","shift","determinedAt","timestamp","latitude","longitude","altitude","accuracy","horizontal","vertical","speed","build","path","previousPath","uri","campaign","loc","os","screenDimensions","getScreenDimensions","getOS","language","getUtcOffsetSeconds","getUtcDstOffsetSeconds","getView","getQueryParam","referrer","forEach","personId","events","nacks","dryRun","dispatchLimit","slice","ship","response","resEvent","filter","poolEvent","payload","event","sentAt","defaultOptions","Pulse","destroyed","connection","connect","close","WebSocket","onopen","onOpen","onmessage","onMessage","onError","onclose","onClose","parseCookies","cookies","parsedCookies","keyValuePair","appKey","authToken","authTokenCookieName","query","operationName","variables","Authorization","authCookie","runs","CoreKit","ensure","appSecret","appVersion","clientId","geo","locale","token","geolocation","sign","r_locale","api_av","client_id","r_lat","r_lng","r_radius","radius","r_sensor","sensor","responseToken","saveToken","callbackQueue","clientCookieStorage","renewed","sha256","saveCookie","ttl","saveClientId","complete","queueCount","create","renew","PagedPublicationPageSpread","contentsRendered","hotspotsRendered","el","renderEl","pages","pageIds","createElement","getPages","page","className","setAttribute","getId","maxZoomScale","imageLoads","pageCount","getEl","image","loaderEl","pageEl","images","medium","appendChild","innerHTML","label","loadImage","isComplete","style","backgroundImage","pageSpread","versoPageSpread","pageEls","call","querySelectorAll","getAttribute","find","large","removeAttribute","PageSpread","PagedPublicationPageSpreads","collection","ids","frag","createDocumentFragment","pageMode","firstPage","lastPage","midstPageSpreads","pageSpreads","pop","chunk","midstPages","PageSpreads","PagedPublicationCore","Verso","require$$4","makeOptions","defaults","pageId","getOption","els","querySelector","getPageMode","pageLoaded","pagesLoaded","setColor","parentNode","insertBefore","update","getFrag","verso","createVerso","start","destroy","getVerso","visibilityChangeListener","visibilityChange","resizeListener","throttle","resize","unloadListener","unload","root","focus","pageSpreadEl","pageSpreadEls","backgroundColor","removeChild","removeEventListener","opts","getColorBrightness","overridePageSpreadContentRect","beforeNavigation","afterNavigation","attemptedNavigation","clicked","doubleClicked","pressed","contextmenu","panStart","panEnd","zoomedIn","zoomedOut","actualHeight","actualWidth","clientRect","imageRatio","pageHeight","pageWidth","rect","scale","getPageEls","transform","offsetWidth","offsetHeight","min","getBoundingClientRect","top","left","right","bottom","pageLabels","match","visibility","getVisibility","renderContents","clearContents","newSpreadEl","pageSpreadCount","position","progress","progressLabel","theVerso","newPosition","getPageSpreadFromPosition","getPageSpreadCount","formatProgressLabel","renderPageSpreads","resetIdleTimer","startIdleTimer","isInsideContent","findPage","zoomIn","zoomOut","idleTimeout","getPosition","getPageIds","refresh","navigateTo","getPageSpreadPositionFromPageId","getType","getContentRect","eventName","hidden","switchPageMode","PagedPublicationHotspots","currentPageSpreadId","pageSpreadsLoaded","cache","hotspotsReceived","resized","boundingRect","contentRect","hotspot","hotspotEl","hotspotEls","ratio","renderHotspot","maxX","maxY","minX","minY","pageNumber","pageNumbers","locations","coords","y","pageSpreadId","setCache","renderHotspots","requestHotspots","getCache","PagedPublicationControls","keyCodes","keyDownListener","keyDown","keyboard","prevControl","prevClicked","nextControl","nextClicked","closeClicked","showProgress","visibilityClassName","progressBar","classList","remove","add","textContent","preventDefault","keyCode","ARROW_LEFT","ARROW_RIGHT","SPACE","NUMBER_ONE","PagedPublicationEventTracking","appeared","disappeared","pageSpreadDisappeared","trackEvent","pageSpreadAppeared","pageX","pageY","trackPageClicked","overlayEls","trackPageHotspotsClicked","trackPageDoubleClicked","trackPageLongPressed","trackPageSpreadZoomedIn","trackPageSpreadZoomedOut","trackPageSpreadAppeared","trackPageSpreadDisappeared","Controls","Core","EventTracking","Hotspots","Viewer","require$$3","require$$5","_core","pageSpreadWidth","pageSpreadMaxZoomScale","idleDelay","resizeDelay","_hotspots","_controls","_eventTracking","viewSession","hotspots","hotspotQueue","popover","_setupEventListeners","trackOpened","navigateToIndex","first","prev","next","eventTracker","idType","ownedBy","_trackEvent","hotspotsRequested","overlayEl","CoreUIKit","singleChoicePopover","t","offer","heading","pricing","currency","price","hotspotRequest","hotspotRatio","processHotspotQueue","pickHotspot","Bootstrapper","PagedPublicationKit","details","dealer_id","branding","pageflip","dimensions","transformPages","zoom","viewer","obj","applyHotspots","async","parallel","fetchDetails","fetchPages","result","Incito","incito","progressEl","scrollListener","scroll","docHeight","scrollTop","winHeight","scrollY","innerHeight","clientHeight","opacity","schema","getDeviceCategory","pixelRatio","getPixelRatio","getPointer","orientation","getOrientation","maxWidth","getMaxWidth","versionsSupported","storageKey","devicePixelRatio","abs","GraphKit","res","errors","controls","IncitoPublicationKit","_matcher","_level","_id","_handlers","_gatorInstances","_addEvent","gator","useCapture","element","_cancel","stopPropagation","_getMatcher","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","Gator","matchesSelector","_matchesSelector","selector","boundElement","_addHandler","_removeHandler","hasOwnProperty","_handleEvent","target","srcElement","j","matchesEvent","cancelBubble","cancel","_bind","_getGlobalCallback","addEvent","prototype","on","off","module","exports","OfferDetails","contentEl","show","anchorEl","pageYOffset","pageXOffset","Popover","backgroundEl","singleChoiceItems","item","addEventListeners","menuEl","parentHeight","parentWidth","keyUp","ESC","ctx","items","scriptEl","AssetsKit","require$$6","EventsKit","require$$7","require$$8","require$$9","require$$10","require$$11","require$$12","firstOpen","local","getElementById"],"mappings":"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"}