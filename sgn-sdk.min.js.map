{"version":3,"file":"sgn-sdk.min.js","sources":["../node_modules/core-js/modules/_library.js","../node_modules/core-js/modules/_global.js","../node_modules/core-js/modules/_a-function.js","../node_modules/core-js/modules/_ctx.js","../node_modules/core-js/modules/_cof.js","../node_modules/core-js/modules/_core.js","../node_modules/core-js/modules/_shared.js","../node_modules/core-js/modules/_uid.js","../node_modules/core-js/modules/_wks.js","../node_modules/core-js/modules/_classof.js","../node_modules/core-js/modules/_is-object.js","../node_modules/core-js/modules/_an-object.js","../node_modules/core-js/modules/_fails.js","../node_modules/core-js/modules/_descriptors.js","../node_modules/core-js/modules/_dom-create.js","../node_modules/core-js/modules/_ie8-dom-define.js","../node_modules/core-js/modules/_to-primitive.js","../node_modules/core-js/modules/_object-dp.js","../node_modules/core-js/modules/_property-desc.js","../node_modules/core-js/modules/_hide.js","../node_modules/core-js/modules/_has.js","../node_modules/core-js/modules/_redefine.js","../node_modules/core-js/modules/_export.js","../node_modules/core-js/modules/_task.js","../node_modules/core-js/modules/_iter-call.js","../node_modules/core-js/modules/_iterators.js","../node_modules/core-js/modules/_is-array-iter.js","../node_modules/core-js/modules/_to-integer.js","../node_modules/core-js/modules/_to-length.js","../node_modules/core-js/modules/core.get-iterator-method.js","../node_modules/core-js/modules/_for-of.js","../node_modules/core-js/modules/_species-constructor.js","../node_modules/core-js/modules/_html.js","../node_modules/core-js/modules/_invoke.js","../node_modules/core-js/modules/_microtask.js","../node_modules/core-js/modules/_new-promise-capability.js","../node_modules/core-js/modules/_perform.js","../node_modules/core-js/modules/_user-agent.js","../node_modules/core-js/modules/_set-to-string-tag.js","../node_modules/core-js/modules/_set-species.js","../node_modules/core-js/modules/_iter-detect.js","../node_modules/core-js/modules/es6.promise.js","../node_modules/core-js/modules/_an-instance.js","../node_modules/core-js/modules/_redefine-all.js","../node_modules/core-js/modules/_promise-resolve.js","../node_modules/core-js/modules/_object-pie.js","../node_modules/core-js/modules/_array-includes.js","../node_modules/core-js/modules/_iobject.js","../node_modules/core-js/modules/_defined.js","../node_modules/core-js/modules/_to-iobject.js","../node_modules/core-js/modules/_object-gopd.js","../node_modules/core-js/modules/_set-proto.js","../node_modules/core-js/modules/_inherit-if-required.js","../node_modules/core-js/modules/_to-absolute-index.js","../node_modules/core-js/modules/_shared-key.js","../node_modules/core-js/modules/_object-keys-internal.js","../node_modules/core-js/modules/_enum-bug-keys.js","../node_modules/core-js/modules/_object-gopn.js","../node_modules/core-js/modules/_is-regexp.js","../node_modules/core-js/modules/_flags.js","../node_modules/core-js/modules/es6.regexp.constructor.js","../node_modules/core-js/modules/es6.regexp.flags.js","../node_modules/core-js/modules/es6.regexp.to-string.js","../node_modules/core-js/modules/_fix-re-wks.js","../node_modules/core-js/modules/es6.regexp.replace.js","../node_modules/core-js/modules/es6.function.name.js","../lib/coffeescript/util.coffee","../node_modules/core-js/modules/_add-to-unscopables.js","../node_modules/core-js/modules/_iter-step.js","../node_modules/core-js/modules/_object-keys.js","../node_modules/core-js/modules/_object-dps.js","../node_modules/core-js/modules/_object-create.js","../node_modules/core-js/modules/_iter-create.js","../node_modules/core-js/modules/_to-object.js","../node_modules/core-js/modules/_object-gpo.js","../node_modules/core-js/modules/_iter-define.js","../node_modules/core-js/modules/es6.array.iterator.js","../node_modules/core-js/modules/web.dom.iterable.js","../lib/coffeescript/config.coffee","../node_modules/microevent/microevent.js","../lib/coffeescript/translations.coffee","../lib/coffeescript/core.coffee","../node_modules/mustache/mustache.js","../lib/coffeescript/sgn.coffee","../lib/coffeescript/storage/client-local.coffee","../lib/coffeescript/storage/client-session.coffee","../lib/coffeescript/storage/client-cookie.coffee","../node_modules/core-js/modules/es6.regexp.split.js","../lib/coffeescript/kits/assets/file-upload.coffee","../lib/coffeescript/kits/assets/index.coffee","../node_modules/core-js/modules/_object-gops.js","../node_modules/core-js/modules/_object-assign.js","../node_modules/core-js/modules/es6.object.assign.js","../node_modules/cross-fetch/dist/browser-ponyfill.js","../node_modules/crypt/crypt.js","../node_modules/charenc/charenc.js","../node_modules/is-buffer/index.js","../lib/coffeescript/kits/events/tracker.coffee","../node_modules/md5/md5.js","../lib/coffeescript/kits/events/pulse.coffee","../lib/coffeescript/kits/graph/request.coffee","../lib/coffeescript/kits/events/index.coffee","../lib/coffeescript/kits/core/request.coffee","../lib/coffeescript/kits/graph/index.coffee","../node_modules/core-js/modules/_object-sap.js","../node_modules/core-js/modules/es6.object.keys.js","../lib/coffeescript/kits/core/session.coffee","../node_modules/convert-hex/convert-hex.js","../node_modules/convert-string/convert-string.js","../node_modules/sha256/lib/sha256.js","../lib/coffeescript/kits/core/index.coffee","../node_modules/core-js/modules/_array-methods.js","../node_modules/core-js/modules/_is-array.js","../node_modules/core-js/modules/_array-species-constructor.js","../node_modules/core-js/modules/es6.array.find.js","../node_modules/core-js/modules/_array-species-create.js","../lib/coffeescript/kits/paged-publication/page-spread.coffee","../lib/coffeescript/kits/paged-publication/page-spreads.coffee","../lib/coffeescript/kits/paged-publication/core.coffee","../node_modules/verso-browser/dist/verso.js","../lib/coffeescript/kits/paged-publication/hotspots.coffee","../lib/coffeescript/kits/paged-publication/controls.coffee","../lib/coffeescript/key-codes.coffee","../lib/coffeescript/kits/paged-publication/event-tracking.coffee","../lib/coffeescript/kits/paged-publication/viewer.coffee","../lib/coffeescript/kits/paged-publication/bootstrapper.coffee","../lib/coffeescript/kits/incito-publication/viewer.coffee","../lib/coffeescript/kits/paged-publication/index.coffee","../node_modules/incito-browser/dist/incito.js","../lib/coffeescript/kits/incito-publication/bootstrapper.coffee","../lib/coffeescript/kits/incito-publication/controls.coffee","../lib/coffeescript/kits/incito-publication/index.coffee","../node_modules/core-js/modules/es6.regexp.match.js","../lib/coffeescript/kits/core-ui/popover.coffee","../vendor/gator.js","../lib/coffeescript/kits/core-ui/offer-details.coffee","../lib/coffeescript/kits/core-ui/single-choice-popover.coffee","../lib/coffeescript/kits/core-ui/index.coffee","../lib/coffeescript/index.coffee"],"sourcesContent":["module.exports = false;\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var core = module.exports = { version: '2.5.7' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: 'Â© 2018 Denis Pushkarev (zloirock.ru)'\n});\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var global = require('./_global');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar SRC = require('./_uid')('src');\nvar TO_STRING = 'toString';\nvar $toString = Function[TO_STRING];\nvar TPL = ('' + $toString).split(TO_STRING);\n\nrequire('./_core').inspectSource = function (it) {\n  return $toString.call(it);\n};\n\n(module.exports = function (O, key, val, safe) {\n  var isFunction = typeof val == 'function';\n  if (isFunction) has(val, 'name') || hide(val, 'name', key);\n  if (O[key] === val) return;\n  if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n  if (O === global) {\n    O[key] = val;\n  } else if (!safe) {\n    delete O[key];\n    hide(O, key, val);\n  } else if (O[key]) {\n    O[key] = val;\n  } else {\n    hide(O, key, val);\n  }\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, TO_STRING, function toString() {\n  return typeof this == 'function' && this[SRC] || $toString.call(this);\n});\n","var global = require('./_global');\nvar core = require('./_core');\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar ctx = require('./_ctx');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE];\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n  var key, own, out, exp;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    // export native or passed\n    out = (own ? target : source)[key];\n    // bind timers to global for call from export context\n    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // extend global\n    if (target) redefine(target, key, out, type & $export.U);\n    // export\n    if (exports[key] != out) hide(exports, key, exp);\n    if (IS_PROTO && expProto[key] != out) expProto[key] = out;\n  }\n};\nglobal.core = core;\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","module.exports = {};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    var promise = Promise.resolve(undefined);\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n","var global = require('./_global');\nvar navigator = global.navigator;\n\nmodule.exports = navigator && navigator.userAgent || '';\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","'use strict';\nvar global = require('./_global');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar userAgent = require('./_user-agent');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8 || '';\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function')\n      && promise.then(empty) instanceof FakePromise\n      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // we can't detect it synchronously, so just check versions\n      && v8.indexOf('6.6') !== 0\n      && userAgent.indexOf('Chrome/66') === -1;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        if (domain && !exited) domain.exit();\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n","var redefine = require('./_redefine');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) redefine(target, key, src[key], safe);\n  return target;\n};\n","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","exports.f = {}.propertyIsEnumerable;\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","var isObject = require('./_is-object');\nvar setPrototypeOf = require('./_set-proto').set;\nmodule.exports = function (that, target, C) {\n  var S = target.constructor;\n  var P;\n  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {\n    setPrototypeOf(that, P);\n  } return that;\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","// 7.2.8 IsRegExp(argument)\nvar isObject = require('./_is-object');\nvar cof = require('./_cof');\nvar MATCH = require('./_wks')('match');\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n};\n","'use strict';\n// 21.2.5.3 get RegExp.prototype.flags\nvar anObject = require('./_an-object');\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","var global = require('./_global');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar dP = require('./_object-dp').f;\nvar gOPN = require('./_object-gopn').f;\nvar isRegExp = require('./_is-regexp');\nvar $flags = require('./_flags');\nvar $RegExp = global.RegExp;\nvar Base = $RegExp;\nvar proto = $RegExp.prototype;\nvar re1 = /a/g;\nvar re2 = /a/g;\n// \"new\" creates a new object, old webkit buggy here\nvar CORRECT_NEW = new $RegExp(re1) !== re1;\n\nif (require('./_descriptors') && (!CORRECT_NEW || require('./_fails')(function () {\n  re2[require('./_wks')('match')] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return $RegExp(re1) != re1 || $RegExp(re2) == re2 || $RegExp(re1, 'i') != '/a/i';\n}))) {\n  $RegExp = function RegExp(p, f) {\n    var tiRE = this instanceof $RegExp;\n    var piRE = isRegExp(p);\n    var fiU = f === undefined;\n    return !tiRE && piRE && p.constructor === $RegExp && fiU ? p\n      : inheritIfRequired(CORRECT_NEW\n        ? new Base(piRE && !fiU ? p.source : p, f)\n        : Base((piRE = p instanceof $RegExp) ? p.source : p, piRE && fiU ? $flags.call(p) : f)\n      , tiRE ? this : proto, $RegExp);\n  };\n  var proxy = function (key) {\n    key in $RegExp || dP($RegExp, key, {\n      configurable: true,\n      get: function () { return Base[key]; },\n      set: function (it) { Base[key] = it; }\n    });\n  };\n  for (var keys = gOPN(Base), i = 0; keys.length > i;) proxy(keys[i++]);\n  proto.constructor = $RegExp;\n  $RegExp.prototype = proto;\n  require('./_redefine')(global, 'RegExp', $RegExp);\n}\n\nrequire('./_set-species')('RegExp');\n","// 21.2.5.3 get RegExp.prototype.flags()\nif (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n","'use strict';\nrequire('./es6.regexp.flags');\nvar anObject = require('./_an-object');\nvar $flags = require('./_flags');\nvar DESCRIPTORS = require('./_descriptors');\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n","'use strict';\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar wks = require('./_wks');\n\nmodule.exports = function (KEY, length, exec) {\n  var SYMBOL = wks(KEY);\n  var fns = exec(defined, SYMBOL, ''[KEY]);\n  var strfn = fns[0];\n  var rxfn = fns[1];\n  if (fails(function () {\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  })) {\n    redefine(String.prototype, KEY, strfn);\n    hide(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return rxfn.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return rxfn.call(string, this); }\n    );\n  }\n};\n","// @@replace logic\nrequire('./_fix-re-wks')('replace', 2, function (defined, REPLACE, $replace) {\n  // 21.1.3.14 String.prototype.replace(searchValue, replaceValue)\n  return [function replace(searchValue, replaceValue) {\n    'use strict';\n    var O = defined(this);\n    var fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n    return fn !== undefined\n      ? fn.call(searchValue, O, replaceValue)\n      : $replace.call(String(O), searchValue, replaceValue);\n  }, $replace];\n});\n","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","util =\n    isBrowser: ->\n        typeof window is 'object' and typeof document is 'object'\n\n    isNode: ->\n        typeof process is 'object'\n\n    error: (err, options) ->\n        err.message = err.message or null\n\n        if typeof options is 'string'\n            err.message = options\n        else if typeof options is 'object' and options?\n            for key, value of options\n                err[key] = value\n\n            err.message = options.message if options.message?\n            err.code = options.code or options.name if options.code? or options.message?\n            err.stack = options.stack if options.stack?\n\n        err.name = options and options.name or err.name or err.code or 'Error'\n        err.time = new Date()\n\n        err\n\n    uuid: ->\n        'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace /[xy]/g, (c) ->\n            r = Math.random() * 16 | 0\n            v = if c is 'x' then r else (r & 0x3|0x8)\n\n            v.toString 16\n\n    getQueryParam: (field, url) ->\n        href = if url then url else window.location.href\n        reg = new RegExp '[?&]' + field + '=([^&#]*)', 'i'\n        string = reg.exec href\n\n        if string then string[1] else undefined\n\n    getRandomNumberBetween: (from, to) ->\n        Math.floor(Math.random() * to) + from\n\n    getOS: ->\n        name = null\n        ua = window.navigator.userAgent\n\n        if ua.indexOf('Windows') > -1\n            name = 'Windows'\n        else if ua.indexOf('Mac') > -1\n            name = 'macOS'\n        else if ua.indexOf('X11') > -1\n            name = 'unix'\n        else if ua.indexOf('Linux') > -1\n            name = 'Linux'\n        else if ua.indexOf('iOS') > -1\n            name = 'iOS'\n        else if ua.indexOf('Android') > -1\n            name = 'Android'\n\n        name\n    \n    getDeviceCategory: ->\n        deviceCategory = 'desktop'\n\n        if navigator.platform is 'iPod' or navigator.platform is 'iPhone'\n            deviceCategory = 'mobile'\n        else if navigator.platform is 'iPad'\n            deviceCategory = 'tablet'\n        else if navigator.platform is 'Android' or /android/gi.test(navigator.userAgent)\n            if /tablet/gi.test(navigator.userAgent)\n                deviceCategory = 'tablet'\n            else\n                deviceCategory = 'mobile'\n\n        deviceCategory\n    \n    getPointer: ->\n        pointer = 'fine'\n\n        pointer = 'coarse' if matchMedia('(pointer:coarse)').matches\n\n        pointer\n    \n    getOrientation: (width, height) ->\n        if width is height\n            'quadratic'\n        else if width > height\n            'horizontal'\n        else\n            'vertical'\n\n    getScreenDimensions: ->\n        density = window.devicePixelRatio ? 1\n        logical =\n            width: window.screen.width\n            height: window.screen.height\n        physical =\n            width: Math.round logical.width * density\n            height: Math.round logical.height * density\n\n        density: density\n        logical: logical\n        physical: physical\n\n    getUtcOffsetSeconds: ->\n        now = new Date()\n        jan1 = new Date now.getFullYear(), 0, 1, 0, 0, 0, 0\n        tmp = jan1.toGMTString()\n        jan2 = new Date tmp.substring(0, tmp.lastIndexOf(' ') - 1)\n        stdTimeOffset = (jan1 - jan2) / 1000\n\n        stdTimeOffset\n\n    getUtcDstOffsetSeconds: ->\n        new Date().getTimezoneOffset() * 60 * -1\n\n    getColorBrightness: (color) ->\n        color = color.replace '#', ''\n        hex = parseInt (hex + '').replace(/[^a-f0-9]/gi, ''), 16\n        rgb = []\n        sum = 0\n        x = 0\n\n        while x < 3\n            s = parseInt(color.substring(2 * x, 2), 16)\n            rgb[x] = s\n\n            sum += s if s > 0\n\n            ++x\n\n        if sum <= 381 then 'dark' else 'light'\n\n    btoa: (str) ->\n        if util.isBrowser()\n            btoa str\n        else\n            buffer = null\n\n            if str instanceof Buffer\n                buffer = str\n            else\n                buffer = new Buffer str.toString(), 'binary'\n\n            buffer.toString 'base64'\n\n    chunk: (arr, size) ->\n        results = []\n\n        while arr.length\n            results.push arr.splice(0, size)\n\n        results\n\n    throttle: (fn, threshold = 250, scope) ->\n        last = undefined\n        deferTimer = undefined\n\n        ->\n            context = scope or @\n            now = new Date().getTime()\n            args = arguments\n\n            if last and now < last + threshold\n                clearTimeout deferTimer\n\n                deferTimer = setTimeout ->\n                    last = now\n                    \n                    fn.apply context, args\n                \n                    return\n                , threshold\n            else\n                last = now\n                fn.apply context, args\n\n            return\n\n    loadImage: (src, callback) ->\n        img = new Image()\n\n        img.onload = -> callback null, img.width, img.height\n        img.onerror = -> callback new Error()\n        img.src = src\n\n        img\n\n    distance: (lat1, lng1, lat2, lng2) ->\n        radlat1 = Math.PI * lat1 / 180\n        radlat2 = Math.PI * lat2 / 180\n        theta = lng1 - lng2\n        radtheta = Math.PI * theta / 180\n        dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta)\n        dist = Math.acos(dist)\n        dist = dist * 180 / Math.PI\n        dist = dist * 60 * 1.1515\n        dist = dist * 1.609344 * 1000\n\n        dist\n\n    async:\n        parallel: (asyncCalls, sharedCallback) ->\n            counter = asyncCalls.length\n            allResults = []\n            k = 0\n\n            makeCallback = (index) ->\n                ->\n                    results = []\n                    i = 0\n\n                    counter--\n\n                    while i < arguments.length\n                        results.push arguments[i]\n                        i++\n\n                    allResults[index] = results\n\n                    sharedCallback allResults if counter is 0\n\n                    return\n\n            while k < asyncCalls.length\n                asyncCalls[k] makeCallback(k)\n                k++\n\n            return\n\n    # Method for wrapping a function that takes a callback in any position\n    # to return promises if no callback is given in a call.\n    # The second argument, cbParameterIndex, is the position of the callback in the original functions parameter list.\n    # CoffeeScript optional parameters messes with this function arity detection,\n    # not sure what to do about that, other than always setting cbParameterIndex at callsites.\n    promiseCallbackInterop: (fun, cbParameterIndex = fun.length - 1) ->\n        # This is the function that actually wraps and calls a method to return a promise.\n        makePromise = (fun, cbParameterIndex, parameters) ->\n            new Promise(\n                (resolve, reject) ->\n                    neoCallback = (error, result) ->\n                        if error then reject error else resolve result\n\n                    callParameters = []\n                    for i in [0...((Math.max parameters.length, cbParameterIndex) + 1)]\n                        callParameters.push if i is cbParameterIndex then neoCallback else parameters[i]\n\n                    fun.apply this, callParameters\n            )\n        # Wrapper function that decides what to do per-call.\n        (...parameters) ->\n            if typeof parameters[cbParameterIndex] is 'function'\n                # Callback given, do a regular old call.\n                fun.apply null, parameters\n            else if typeof Promise is 'function'\n                # No callback given, and we have promise support, use makePromise to wrap the call.\n                makePromise fun, cbParameterIndex, parameters\n            else\n                # Ain't got callback, ain't got promise support; we gotta tell the developer.\n                throw new Error(\"\"\"To be able to use this asynchronous method you should:\nSupply a callback function as argument ##{1+cbParameterIndex}.\nThis callback function will be called with the method call response.\nAlternatively, when supported, it can return a Promise if no callback function is given.\n                \"\"\")\n\nmodule.exports = util\n","// 22.1.3.31 Array.prototype[@@unscopables]\nvar UNSCOPABLES = require('./_wks')('unscopables');\nvar ArrayProto = Array.prototype;\nif (ArrayProto[UNSCOPABLES] == undefined) require('./_hide')(ArrayProto, UNSCOPABLES, {});\nmodule.exports = function (key) {\n  ArrayProto[UNSCOPABLES][key] = true;\n};\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n","MicroEvent = require 'microevent'\nConfig = class Config\n    keys: [\n        'appVersion',\n        'appKey',\n        'appSecret',\n        'authToken',\n        'eventTracker',\n        'locale',\n        'coreSessionToken',\n        'coreSessionClientId',\n        'coreUrl',\n        'graphUrl',\n        'eventsTrackUrl',\n        'eventsPulseUrl',\n        'assetsFileUploadUrl'\n    ]\n\n    constructor: ->\n        @attrs = {}\n\n        return\n\n    set: (config = {}) ->\n        changedAttributes = {}\n\n        for key, value of config\n            if key in @keys\n                @attrs[key] = value\n                changedAttributes[key] = value\n\n        @trigger 'change', changedAttributes\n\n        return\n\n    get: (option) ->\n        @attrs[option]\n\nMicroEvent.mixin Config\n\nmodule.exports = Config\n","/**\n * MicroEvent - to make any js object an event emitter (server or browser)\n * \n * - pure javascript - server compatible, browser compatible\n * - dont rely on the browser doms\n * - super simple - you get it immediatly, no mistery, no magic involved\n *\n * - create a MicroEventDebug with goodies to debug\n *   - make it safer to use\n*/\n\nvar MicroEvent\t= function(){}\nMicroEvent.prototype\t= {\n\tbind\t: function(event, fct){\n\t\tthis._events = this._events || {};\n\t\tthis._events[event] = this._events[event]\t|| [];\n\t\tthis._events[event].push(fct);\n\t},\n\tunbind\t: function(event, fct){\n\t\tthis._events = this._events || {};\n\t\tif( event in this._events === false  )\treturn;\n\t\tthis._events[event].splice(this._events[event].indexOf(fct), 1);\n\t},\n\ttrigger\t: function(event /* , args... */){\n\t\tthis._events = this._events || {};\n\t\tif( event in this._events === false  )\treturn;\n\t\tfor(var i = 0; i < this._events[event].length; i++){\n\t\t\tthis._events[event][i].apply(this, Array.prototype.slice.call(arguments, 1))\n\t\t}\n\t}\n};\n\n/**\n * mixin will delegate all MicroEvent.js function in the destination object\n *\n * - require('MicroEvent').mixin(Foobar) will make Foobar able to use MicroEvent\n *\n * @param {Object} the object which will support MicroEvent\n*/\nMicroEvent.mixin\t= function(destObject){\n\tvar props\t= ['bind', 'unbind', 'trigger'];\n\tfor(var i = 0; i < props.length; i ++){\n\t\tdestObject.prototype[props[i]]\t= MicroEvent.prototype[props[i]];\n\t}\n}\n\n// export in common js\nif( typeof module !== \"undefined\" && ('exports' in module)){\n\tmodule.exports\t= MicroEvent\n}\n","Mustache = require 'mustache'\npairs =\n    'paged_publication.hotspot_picker.header': 'Which offer did you mean?'\n    'incito_publication.product_picker.header': 'Which product?'\n\nmodule.exports =\n    t: (key, view) ->\n        template = pairs[key] ? ''\n\n        Mustache.render template, view\n\n    update: (translations) ->\n        for key, value of translations\n            pairs[key] = value\n\n        return\n","Config = require './config'\ntranslations = require './translations'\nutil = require './util'\nconfig = new Config()\n\n# Set default values.\nconfig.set\n    locale: 'en_US'\n    coreUrl: 'https://api.etilbudsavis.dk'\n    graphUrl: 'https://graph.service.shopgun.com'\n    eventsTrackUrl: 'https://events.service.shopgun.com/sync'\n    eventsPulseUrl: 'wss://events.service.shopgun.com/pulse'\n    assetsFileUploadUrl: 'https://assets.service.shopgun.com/upload'\n\nmodule.exports =\n    config: config\n\n    translations: translations\n\n    util: util","/*!\n * mustache.js - Logic-less {{mustache}} templates with JavaScript\n * http://github.com/janl/mustache.js\n */\n\n/*global define: false Mustache: true*/\n\n(function defineMustache (global, factory) {\n  if (typeof exports === 'object' && exports && typeof exports.nodeName !== 'string') {\n    factory(exports); // CommonJS\n  } else if (typeof define === 'function' && define.amd) {\n    define(['exports'], factory); // AMD\n  } else {\n    global.Mustache = {};\n    factory(global.Mustache); // script, wsh, asp\n  }\n}(this, function mustacheFactory (mustache) {\n\n  var objectToString = Object.prototype.toString;\n  var isArray = Array.isArray || function isArrayPolyfill (object) {\n    return objectToString.call(object) === '[object Array]';\n  };\n\n  function isFunction (object) {\n    return typeof object === 'function';\n  }\n\n  /**\n   * More correct typeof string handling array\n   * which normally returns typeof 'object'\n   */\n  function typeStr (obj) {\n    return isArray(obj) ? 'array' : typeof obj;\n  }\n\n  function escapeRegExp (string) {\n    return string.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, '\\\\$&');\n  }\n\n  /**\n   * Null safe way of checking whether or not an object,\n   * including its prototype, has a given property\n   */\n  function hasProperty (obj, propName) {\n    return obj != null && typeof obj === 'object' && (propName in obj);\n  }\n\n  /**\n   * Safe way of detecting whether or not the given thing is a primitive and\n   * whether it has the given property\n   */\n  function primitiveHasOwnProperty (primitive, propName) {  \n    return (\n      primitive != null\n      && typeof primitive !== 'object'\n      && primitive.hasOwnProperty\n      && primitive.hasOwnProperty(propName)\n    );\n  }\n\n  // Workaround for https://issues.apache.org/jira/browse/COUCHDB-577\n  // See https://github.com/janl/mustache.js/issues/189\n  var regExpTest = RegExp.prototype.test;\n  function testRegExp (re, string) {\n    return regExpTest.call(re, string);\n  }\n\n  var nonSpaceRe = /\\S/;\n  function isWhitespace (string) {\n    return !testRegExp(nonSpaceRe, string);\n  }\n\n  var entityMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '/': '&#x2F;',\n    '`': '&#x60;',\n    '=': '&#x3D;'\n  };\n\n  function escapeHtml (string) {\n    return String(string).replace(/[&<>\"'`=\\/]/g, function fromEntityMap (s) {\n      return entityMap[s];\n    });\n  }\n\n  var whiteRe = /\\s*/;\n  var spaceRe = /\\s+/;\n  var equalsRe = /\\s*=/;\n  var curlyRe = /\\s*\\}/;\n  var tagRe = /#|\\^|\\/|>|\\{|&|=|!/;\n\n  /**\n   * Breaks up the given `template` string into a tree of tokens. If the `tags`\n   * argument is given here it must be an array with two string values: the\n   * opening and closing tags used in the template (e.g. [ \"<%\", \"%>\" ]). Of\n   * course, the default is to use mustaches (i.e. mustache.tags).\n   *\n   * A token is an array with at least 4 elements. The first element is the\n   * mustache symbol that was used inside the tag, e.g. \"#\" or \"&\". If the tag\n   * did not contain a symbol (i.e. {{myValue}}) this element is \"name\". For\n   * all text that appears outside a symbol this element is \"text\".\n   *\n   * The second element of a token is its \"value\". For mustache tags this is\n   * whatever else was inside the tag besides the opening symbol. For text tokens\n   * this is the text itself.\n   *\n   * The third and fourth elements of the token are the start and end indices,\n   * respectively, of the token in the original template.\n   *\n   * Tokens that are the root node of a subtree contain two more elements: 1) an\n   * array of tokens in the subtree and 2) the index in the original template at\n   * which the closing tag for that section begins.\n   */\n  function parseTemplate (template, tags) {\n    if (!template)\n      return [];\n\n    var sections = [];     // Stack to hold section tokens\n    var tokens = [];       // Buffer to hold the tokens\n    var spaces = [];       // Indices of whitespace tokens on the current line\n    var hasTag = false;    // Is there a {{tag}} on the current line?\n    var nonSpace = false;  // Is there a non-space char on the current line?\n\n    // Strips all whitespace tokens array for the current line\n    // if there was a {{#tag}} on it and otherwise only space.\n    function stripSpace () {\n      if (hasTag && !nonSpace) {\n        while (spaces.length)\n          delete tokens[spaces.pop()];\n      } else {\n        spaces = [];\n      }\n\n      hasTag = false;\n      nonSpace = false;\n    }\n\n    var openingTagRe, closingTagRe, closingCurlyRe;\n    function compileTags (tagsToCompile) {\n      if (typeof tagsToCompile === 'string')\n        tagsToCompile = tagsToCompile.split(spaceRe, 2);\n\n      if (!isArray(tagsToCompile) || tagsToCompile.length !== 2)\n        throw new Error('Invalid tags: ' + tagsToCompile);\n\n      openingTagRe = new RegExp(escapeRegExp(tagsToCompile[0]) + '\\\\s*');\n      closingTagRe = new RegExp('\\\\s*' + escapeRegExp(tagsToCompile[1]));\n      closingCurlyRe = new RegExp('\\\\s*' + escapeRegExp('}' + tagsToCompile[1]));\n    }\n\n    compileTags(tags || mustache.tags);\n\n    var scanner = new Scanner(template);\n\n    var start, type, value, chr, token, openSection;\n    while (!scanner.eos()) {\n      start = scanner.pos;\n\n      // Match any text between tags.\n      value = scanner.scanUntil(openingTagRe);\n\n      if (value) {\n        for (var i = 0, valueLength = value.length; i < valueLength; ++i) {\n          chr = value.charAt(i);\n\n          if (isWhitespace(chr)) {\n            spaces.push(tokens.length);\n          } else {\n            nonSpace = true;\n          }\n\n          tokens.push([ 'text', chr, start, start + 1 ]);\n          start += 1;\n\n          // Check for whitespace on the current line.\n          if (chr === '\\n')\n            stripSpace();\n        }\n      }\n\n      // Match the opening tag.\n      if (!scanner.scan(openingTagRe))\n        break;\n\n      hasTag = true;\n\n      // Get the tag type.\n      type = scanner.scan(tagRe) || 'name';\n      scanner.scan(whiteRe);\n\n      // Get the tag value.\n      if (type === '=') {\n        value = scanner.scanUntil(equalsRe);\n        scanner.scan(equalsRe);\n        scanner.scanUntil(closingTagRe);\n      } else if (type === '{') {\n        value = scanner.scanUntil(closingCurlyRe);\n        scanner.scan(curlyRe);\n        scanner.scanUntil(closingTagRe);\n        type = '&';\n      } else {\n        value = scanner.scanUntil(closingTagRe);\n      }\n\n      // Match the closing tag.\n      if (!scanner.scan(closingTagRe))\n        throw new Error('Unclosed tag at ' + scanner.pos);\n\n      token = [ type, value, start, scanner.pos ];\n      tokens.push(token);\n\n      if (type === '#' || type === '^') {\n        sections.push(token);\n      } else if (type === '/') {\n        // Check section nesting.\n        openSection = sections.pop();\n\n        if (!openSection)\n          throw new Error('Unopened section \"' + value + '\" at ' + start);\n\n        if (openSection[1] !== value)\n          throw new Error('Unclosed section \"' + openSection[1] + '\" at ' + start);\n      } else if (type === 'name' || type === '{' || type === '&') {\n        nonSpace = true;\n      } else if (type === '=') {\n        // Set the tags for the next time around.\n        compileTags(value);\n      }\n    }\n\n    // Make sure there are no open sections when we're done.\n    openSection = sections.pop();\n\n    if (openSection)\n      throw new Error('Unclosed section \"' + openSection[1] + '\" at ' + scanner.pos);\n\n    return nestTokens(squashTokens(tokens));\n  }\n\n  /**\n   * Combines the values of consecutive text tokens in the given `tokens` array\n   * to a single token.\n   */\n  function squashTokens (tokens) {\n    var squashedTokens = [];\n\n    var token, lastToken;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      token = tokens[i];\n\n      if (token) {\n        if (token[0] === 'text' && lastToken && lastToken[0] === 'text') {\n          lastToken[1] += token[1];\n          lastToken[3] = token[3];\n        } else {\n          squashedTokens.push(token);\n          lastToken = token;\n        }\n      }\n    }\n\n    return squashedTokens;\n  }\n\n  /**\n   * Forms the given array of `tokens` into a nested tree structure where\n   * tokens that represent a section have two additional items: 1) an array of\n   * all tokens that appear in that section and 2) the index in the original\n   * template that represents the end of that section.\n   */\n  function nestTokens (tokens) {\n    var nestedTokens = [];\n    var collector = nestedTokens;\n    var sections = [];\n\n    var token, section;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      token = tokens[i];\n\n      switch (token[0]) {\n        case '#':\n        case '^':\n          collector.push(token);\n          sections.push(token);\n          collector = token[4] = [];\n          break;\n        case '/':\n          section = sections.pop();\n          section[5] = token[2];\n          collector = sections.length > 0 ? sections[sections.length - 1][4] : nestedTokens;\n          break;\n        default:\n          collector.push(token);\n      }\n    }\n\n    return nestedTokens;\n  }\n\n  /**\n   * A simple string scanner that is used by the template parser to find\n   * tokens in template strings.\n   */\n  function Scanner (string) {\n    this.string = string;\n    this.tail = string;\n    this.pos = 0;\n  }\n\n  /**\n   * Returns `true` if the tail is empty (end of string).\n   */\n  Scanner.prototype.eos = function eos () {\n    return this.tail === '';\n  };\n\n  /**\n   * Tries to match the given regular expression at the current position.\n   * Returns the matched text if it can match, the empty string otherwise.\n   */\n  Scanner.prototype.scan = function scan (re) {\n    var match = this.tail.match(re);\n\n    if (!match || match.index !== 0)\n      return '';\n\n    var string = match[0];\n\n    this.tail = this.tail.substring(string.length);\n    this.pos += string.length;\n\n    return string;\n  };\n\n  /**\n   * Skips all text until the given regular expression can be matched. Returns\n   * the skipped string, which is the entire tail if no match can be made.\n   */\n  Scanner.prototype.scanUntil = function scanUntil (re) {\n    var index = this.tail.search(re), match;\n\n    switch (index) {\n      case -1:\n        match = this.tail;\n        this.tail = '';\n        break;\n      case 0:\n        match = '';\n        break;\n      default:\n        match = this.tail.substring(0, index);\n        this.tail = this.tail.substring(index);\n    }\n\n    this.pos += match.length;\n\n    return match;\n  };\n\n  /**\n   * Represents a rendering context by wrapping a view object and\n   * maintaining a reference to the parent context.\n   */\n  function Context (view, parentContext) {\n    this.view = view;\n    this.cache = { '.': this.view };\n    this.parent = parentContext;\n  }\n\n  /**\n   * Creates a new context using the given view with this context\n   * as the parent.\n   */\n  Context.prototype.push = function push (view) {\n    return new Context(view, this);\n  };\n\n  /**\n   * Returns the value of the given name in this context, traversing\n   * up the context hierarchy if the value is absent in this context's view.\n   */\n  Context.prototype.lookup = function lookup (name) {\n    var cache = this.cache;\n\n    var value;\n    if (cache.hasOwnProperty(name)) {\n      value = cache[name];\n    } else {\n      var context = this, intermediateValue, names, index, lookupHit = false;\n\n      while (context) {\n        if (name.indexOf('.') > 0) {\n          intermediateValue = context.view;\n          names = name.split('.');\n          index = 0;\n\n          /**\n           * Using the dot notion path in `name`, we descend through the\n           * nested objects.\n           *\n           * To be certain that the lookup has been successful, we have to\n           * check if the last object in the path actually has the property\n           * we are looking for. We store the result in `lookupHit`.\n           *\n           * This is specially necessary for when the value has been set to\n           * `undefined` and we want to avoid looking up parent contexts.\n           *\n           * In the case where dot notation is used, we consider the lookup\n           * to be successful even if the last \"object\" in the path is\n           * not actually an object but a primitive (e.g., a string, or an\n           * integer), because it is sometimes useful to access a property\n           * of an autoboxed primitive, such as the length of a string.\n           **/\n          while (intermediateValue != null && index < names.length) {\n            if (index === names.length - 1)\n              lookupHit = (\n                hasProperty(intermediateValue, names[index]) \n                || primitiveHasOwnProperty(intermediateValue, names[index])\n              );\n\n            intermediateValue = intermediateValue[names[index++]];\n          }\n        } else {\n          intermediateValue = context.view[name];\n\n          /**\n           * Only checking against `hasProperty`, which always returns `false` if\n           * `context.view` is not an object. Deliberately omitting the check\n           * against `primitiveHasOwnProperty` if dot notation is not used.\n           *\n           * Consider this example:\n           * ```\n           * Mustache.render(\"The length of a football field is {{#length}}{{length}}{{/length}}.\", {length: \"100 yards\"})\n           * ```\n           *\n           * If we were to check also against `primitiveHasOwnProperty`, as we do\n           * in the dot notation case, then render call would return:\n           *\n           * \"The length of a football field is 9.\"\n           *\n           * rather than the expected:\n           *\n           * \"The length of a football field is 100 yards.\"\n           **/\n          lookupHit = hasProperty(context.view, name);\n        }\n\n        if (lookupHit) {\n          value = intermediateValue;\n          break;\n        }\n\n        context = context.parent;\n      }\n\n      cache[name] = value;\n    }\n\n    if (isFunction(value))\n      value = value.call(this.view);\n\n    return value;\n  };\n\n  /**\n   * A Writer knows how to take a stream of tokens and render them to a\n   * string, given a context. It also maintains a cache of templates to\n   * avoid the need to parse the same template twice.\n   */\n  function Writer () {\n    this.cache = {};\n  }\n\n  /**\n   * Clears all cached templates in this writer.\n   */\n  Writer.prototype.clearCache = function clearCache () {\n    this.cache = {};\n  };\n\n  /**\n   * Parses and caches the given `template` according to the given `tags` or\n   * `mustache.tags` if `tags` is omitted,  and returns the array of tokens\n   * that is generated from the parse.\n   */\n  Writer.prototype.parse = function parse (template, tags) {\n    var cache = this.cache;\n    var cacheKey = template + ':' + (tags || mustache.tags).join(':');\n    var tokens = cache[cacheKey];\n\n    if (tokens == null)\n      tokens = cache[cacheKey] = parseTemplate(template, tags);\n\n    return tokens;\n  };\n\n  /**\n   * High-level method that is used to render the given `template` with\n   * the given `view`.\n   *\n   * The optional `partials` argument may be an object that contains the\n   * names and templates of partials that are used in the template. It may\n   * also be a function that is used to load partial templates on the fly\n   * that takes a single argument: the name of the partial.\n   *\n   * If the optional `tags` argument is given here it must be an array with two\n   * string values: the opening and closing tags used in the template (e.g.\n   * [ \"<%\", \"%>\" ]). The default is to mustache.tags.\n   */\n  Writer.prototype.render = function render (template, view, partials, tags) {\n    var tokens = this.parse(template, tags);\n    var context = (view instanceof Context) ? view : new Context(view);\n    return this.renderTokens(tokens, context, partials, template);\n  };\n\n  /**\n   * Low-level method that renders the given array of `tokens` using\n   * the given `context` and `partials`.\n   *\n   * Note: The `originalTemplate` is only ever used to extract the portion\n   * of the original template that was contained in a higher-order section.\n   * If the template doesn't use higher-order sections, this argument may\n   * be omitted.\n   */\n  Writer.prototype.renderTokens = function renderTokens (tokens, context, partials, originalTemplate) {\n    var buffer = '';\n\n    var token, symbol, value;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      value = undefined;\n      token = tokens[i];\n      symbol = token[0];\n\n      if (symbol === '#') value = this.renderSection(token, context, partials, originalTemplate);\n      else if (symbol === '^') value = this.renderInverted(token, context, partials, originalTemplate);\n      else if (symbol === '>') value = this.renderPartial(token, context, partials, originalTemplate);\n      else if (symbol === '&') value = this.unescapedValue(token, context);\n      else if (symbol === 'name') value = this.escapedValue(token, context);\n      else if (symbol === 'text') value = this.rawValue(token);\n\n      if (value !== undefined)\n        buffer += value;\n    }\n\n    return buffer;\n  };\n\n  Writer.prototype.renderSection = function renderSection (token, context, partials, originalTemplate) {\n    var self = this;\n    var buffer = '';\n    var value = context.lookup(token[1]);\n\n    // This function is used to render an arbitrary template\n    // in the current context by higher-order sections.\n    function subRender (template) {\n      return self.render(template, context, partials);\n    }\n\n    if (!value) return;\n\n    if (isArray(value)) {\n      for (var j = 0, valueLength = value.length; j < valueLength; ++j) {\n        buffer += this.renderTokens(token[4], context.push(value[j]), partials, originalTemplate);\n      }\n    } else if (typeof value === 'object' || typeof value === 'string' || typeof value === 'number') {\n      buffer += this.renderTokens(token[4], context.push(value), partials, originalTemplate);\n    } else if (isFunction(value)) {\n      if (typeof originalTemplate !== 'string')\n        throw new Error('Cannot use higher-order sections without the original template');\n\n      // Extract the portion of the original template that the section contains.\n      value = value.call(context.view, originalTemplate.slice(token[3], token[5]), subRender);\n\n      if (value != null)\n        buffer += value;\n    } else {\n      buffer += this.renderTokens(token[4], context, partials, originalTemplate);\n    }\n    return buffer;\n  };\n\n  Writer.prototype.renderInverted = function renderInverted (token, context, partials, originalTemplate) {\n    var value = context.lookup(token[1]);\n\n    // Use JavaScript's definition of falsy. Include empty arrays.\n    // See https://github.com/janl/mustache.js/issues/186\n    if (!value || (isArray(value) && value.length === 0))\n      return this.renderTokens(token[4], context, partials, originalTemplate);\n  };\n\n  Writer.prototype.renderPartial = function renderPartial (token, context, partials) {\n    if (!partials) return;\n\n    var value = isFunction(partials) ? partials(token[1]) : partials[token[1]];\n    if (value != null)\n      return this.renderTokens(this.parse(value), context, partials, value);\n  };\n\n  Writer.prototype.unescapedValue = function unescapedValue (token, context) {\n    var value = context.lookup(token[1]);\n    if (value != null)\n      return value;\n  };\n\n  Writer.prototype.escapedValue = function escapedValue (token, context) {\n    var value = context.lookup(token[1]);\n    if (value != null)\n      return mustache.escape(value);\n  };\n\n  Writer.prototype.rawValue = function rawValue (token) {\n    return token[1];\n  };\n\n  mustache.name = 'mustache.js';\n  mustache.version = '3.0.0';\n  mustache.tags = [ '{{', '}}' ];\n\n  // All high-level mustache.* functions use this writer.\n  var defaultWriter = new Writer();\n\n  /**\n   * Clears all cached templates in the default writer.\n   */\n  mustache.clearCache = function clearCache () {\n    return defaultWriter.clearCache();\n  };\n\n  /**\n   * Parses and caches the given template in the default writer and returns the\n   * array of tokens it contains. Doing this ahead of time avoids the need to\n   * parse templates on the fly as they are rendered.\n   */\n  mustache.parse = function parse (template, tags) {\n    return defaultWriter.parse(template, tags);\n  };\n\n  /**\n   * Renders the `template` with the given `view` and `partials` using the\n   * default writer. If the optional `tags` argument is given here it must be an\n   * array with two string values: the opening and closing tags used in the\n   * template (e.g. [ \"<%\", \"%>\" ]). The default is to mustache.tags.\n   */\n  mustache.render = function render (template, view, partials, tags) {\n    if (typeof template !== 'string') {\n      throw new TypeError('Invalid template! Template should be a \"string\" ' +\n                          'but \"' + typeStr(template) + '\" was given as the first ' +\n                          'argument for mustache#render(template, view, partials)');\n    }\n\n    return defaultWriter.render(template, view, partials, tags);\n  };\n\n  // This is here for backwards compatibility with 0.4.x.,\n  /*eslint-disable */ // eslint wants camel cased function name\n  mustache.to_html = function to_html (template, view, partials, send) {\n    /*eslint-enable*/\n\n    var result = mustache.render(template, view, partials);\n\n    if (isFunction(send)) {\n      send(result);\n    } else {\n      return result;\n    }\n  };\n\n  // Export the escaping function so that the user may override it.\n  // See https://github.com/janl/mustache.js/issues/244\n  mustache.escape = escapeHtml;\n\n  // Export these mainly for testing, but also for advanced usage.\n  mustache.Scanner = Scanner;\n  mustache.Context = Context;\n  mustache.Writer = Writer;\n\n  return mustache;\n}));\n","module.exports = require './core'\n","SGN = require '../sgn'\nprefixKey = 'sgn-'\n\nmodule.exports =\n    key: 'sgn-'\n\n    storage: do ->\n        try\n            storage = window.localStorage\n\n            storage[\"#{prefixKey}test-storage\"] = 'foobar'\n            delete storage[\"#{prefixKey}test-storage\"]\n\n            storage\n        catch\n            {}\n\n    get: (key) ->\n        try\n            JSON.parse @storage[\"#{prefixKey}#{key}\"]\n\n    set: (key, value) ->\n        try\n            @storage[\"#{prefixKey}#{key}\"] = JSON.stringify value\n\n        @\n","SGN = require '../sgn'\nprefixKey = 'sgn-'\n\nmodule.exports =\n    key: 'sgn-'\n\n    storage: do ->\n        try\n            storage = window.sessionStorage\n\n            storage[\"#{prefixKey}test-storage\"] = 'foobar'\n            delete storage[\"#{prefixKey}test-storage\"]\n\n            storage\n        catch\n            {}\n\n    get: (key) ->\n        try\n            JSON.parse @storage[\"#{prefixKey}#{key}\"]\n\n    set: (key, value) ->\n        try\n            @storage[\"#{prefixKey}#{key}\"] = JSON.stringify value\n\n        @\n","SGN = require '../sgn'\nprefixKey = 'sgn-'\n\nmodule.exports =\n    get: (key) ->\n        return if SGN.util.isNode()\n\n        try\n            name = \"#{prefixKey}#{key}=\"\n            ca = document.cookie.split ';'\n\n            for c in ca\n                ct = c.trim()\n\n                value = ct.substring(name.length, ct.length) if ct.indexOf(name) is 0\n\n            value = JSON.parse value\n        catch err\n            value = {}\n\n        value\n\n    set: (key, value) ->\n        return if SGN.util.isNode()\n\n        try\n            days = 365\n            date = new Date()\n            str = JSON.stringify value\n\n            date.setTime date.getTime() + days * 24 * 60 * 60 * 1000\n\n            document.cookie = \"#{prefixKey}#{key}=#{str};expires=#{date.toUTCString()};path=/\"\n        catch err\n\n        return\n\n\n","// @@split logic\nrequire('./_fix-re-wks')('split', 2, function (defined, SPLIT, $split) {\n  'use strict';\n  var isRegExp = require('./_is-regexp');\n  var _split = $split;\n  var $push = [].push;\n  var $SPLIT = 'split';\n  var LENGTH = 'length';\n  var LAST_INDEX = 'lastIndex';\n  if (\n    'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n    'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n    'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n    '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n    '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n    ''[$SPLIT](/.?/)[LENGTH]\n  ) {\n    var NPCG = /()??/.exec('')[1] === undefined; // nonparticipating capturing group\n    // based on es5-shim implementation, need to rework it\n    $split = function (separator, limit) {\n      var string = String(this);\n      if (separator === undefined && limit === 0) return [];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) return _split.call(string, separator, limit);\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      var splitLimit = limit === undefined ? 4294967295 : limit >>> 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var separator2, match, lastIndex, lastLength, i;\n      // Doesn't need flags gy, but they don't hurt\n      if (!NPCG) separator2 = new RegExp('^' + separatorCopy.source + '$(?!\\\\s)', flags);\n      while (match = separatorCopy.exec(string)) {\n        // `separatorCopy.lastIndex` is not reliable cross-browser\n        lastIndex = match.index + match[0][LENGTH];\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          // Fix browsers whose `exec` methods don't consistently return `undefined` for NPCG\n          // eslint-disable-next-line no-loop-func\n          if (!NPCG && match[LENGTH] > 1) match[0].replace(separator2, function () {\n            for (i = 1; i < arguments[LENGTH] - 2; i++) if (arguments[i] === undefined) match[i] = undefined;\n          });\n          if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));\n          lastLength = match[0][LENGTH];\n          lastLastIndex = lastIndex;\n          if (output[LENGTH] >= splitLimit) break;\n        }\n        if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string[LENGTH]) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n    };\n  // Chakra, V8\n  } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {\n    $split = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : _split.call(this, separator, limit);\n    };\n  }\n  // 21.1.3.17 String.prototype.split(separator, limit)\n  return [function split(separator, limit) {\n    var O = defined(this);\n    var fn = separator == undefined ? undefined : separator[SPLIT];\n    return fn !== undefined ? fn.call(separator, O, limit) : $split.call(String(O), separator, limit);\n  }, $split];\n});\n","SGN = require '../../sgn'\n\nmodule.exports = (options = {}, callback, progressCallback) ->\n    throw new Error('File is not defined') if not options.file?\n\n    url = SGN.config.get 'assetsFileUploadUrl'\n    timeout = 1000 * 60 * 60\n    formData = new FormData()\n    http = new XMLHttpRequest()\n\n    formData.append 'file', options.file\n\n    http.onload = ->\n        if http.status is 200\n            callback null, JSON.parse(http.response)\n        else\n            callback SGN.util.error(new Error('Request error'),\n                code: 'RequestError'\n                statusCode: data.statusCode\n            )\n        \n        return\n    http.upload.onprogress = (e) ->\n        if typeof progressCallback is 'function' and e.lengthComputable\n            progressCallback\n                progress: e.loaded / e.total\n                loaded: e.loaded\n                total: e.total\n        \n        return\n    http.open 'post', url\n    http.timeout = timeout\n    http.setRequestHeader 'Accept', 'application/json'\n    http.send formData\n\n    return","module.exports =\n    fileUpload: require './file-upload'\n","exports.f = Object.getOwnPropertySymbols;\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n  } return T;\n} : $assign;\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","var __root__ = (function (root) {\nfunction F() { this.fetch = false; }\nF.prototype = root;\nreturn new F();\n})(typeof self !== 'undefined' ? self : this);\n(function(self) {\n\n(function(self) {\n\n  if (self.fetch) {\n    return\n  }\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob();\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isDataView = function(obj) {\n      return obj && DataView.prototype.isPrototypeOf(obj)\n    };\n\n    var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue+','+value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) { items.push(name); });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) { items.push(value); });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) { items.push([name, value]); });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, { body: this._bodyInit })\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=');\n        var name = split.shift().replace(/\\+/g, ' ');\n        var value = split.join('=').replace(/\\+/g, ' ');\n        form.append(decodeURIComponent(name), decodeURIComponent(value));\n      }\n    });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':');\n      var key = parts.shift().trim();\n      if (key) {\n        var value = parts.join(':').trim();\n        headers.append(key, value);\n      }\n    });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = 'statusText' in options ? options.statusText : 'OK';\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  self.Headers = Headers;\n  self.Request = Request;\n  self.Response = Response;\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n      var xhr = new XMLHttpRequest();\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  };\n  self.fetch.polyfill = true;\n})(typeof self !== 'undefined' ? self : this);\n}).call(__root__, void(0));\nvar fetch = __root__.fetch;\nvar Response = fetch.Response = __root__.Response;\nvar Request = fetch.Request = __root__.Request;\nvar Headers = fetch.Headers = __root__.Headers;\nif (typeof module === 'object' && module.exports) {\nmodule.exports = fetch;\n}\n","(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n","var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","fetch = require 'cross-fetch'\nmd5 = require 'md5'\nSGN = require '../../sgn'\nclientLocalStorage = require '../../storage/client-local'\n\ngetPool = ->\n    data = clientLocalStorage.get 'event-tracker-pool'\n    data = [] if Array.isArray(data) is false\n    data = data.filter (evt) ->\n        typeof evt._i is 'string'\n\n    data\n\npool = getPool()\n\nmodule.exports = class Tracker\n    defaultOptions:\n        trackId: null\n        poolLimit: 1000\n\n    constructor: (options = {}) ->\n        for key, value of @defaultOptions\n            @[key] = options[key] or value\n\n        @location =\n            geohash: null\n            time: null\n            country: null\n        @dispatching = false\n\n        dispatch()\n\n        return\n\n    trackEvent: (type, properties = {}, version = 2) ->\n        throw SGN.util.error(new Error('Event type is required')) if typeof type isnt 'number'\n        return if not @trackId?\n\n        if SGN.config.get('appKey') is @trackId\n            # coffeelint: disable=max_line_length\n            throw SGN.util.error(new Error('Track identifier must not be identical to app key. Go to https://business.shopgun.com/developers/apps to get a track identifier for your app'))\n        \n        now = new Date().getTime()\n        evt = Object.assign {}, properties, {\n            '_e': type\n            '_v': version\n            '_i': SGN.util.uuid()\n            '_t': Math.round(new Date().getTime() / 1000)\n            '_a': @trackId\n        }\n\n        evt['l.h'] = @location.geohash if @location.geohash?\n        evt['l.ht'] = @location.time if @location.time?\n        evt['l.c'] = @location.country if @location.country?\n\n        pool.push evt\n        pool.shift() while pool.length > @poolLimit\n\n        dispatch()\n\n        @\n\n    setLocation: (location = {}) ->\n        for key, value of location\n            if @location.hasOwnProperty(key)\n                @location[key] = value\n\n        @\n\n    trackPagedPublicationOpened: (properties, version) ->\n        @trackEvent 1, properties, version\n    \n    trackPagedPublicationPageDisappeared: (properties, version) ->\n        @trackEvent 2, properties, version\n    \n    trackOfferOpened: (properties, version) ->\n        @trackEvent 3, properties, version\n    \n    trackClientSessionOpened: (properties, version) ->\n        @trackEvent 4, properties, version\n    \n    trackSearched: (properties, version) ->\n        @trackEvent 5, properties, version\n    \n    createViewToken: (...parts) ->\n        str = [SGN.client.id].concat(parts).join ''\n        viewToken = SGN.util.btoa String.fromCharCode.apply(null, (md5(str, {asBytes: true})).slice(0,8))\n\n        viewToken\n\ndispatching = false\ndispatchLimit = 100\n\nship = (events = []) ->\n    req = fetch SGN.config.get('eventsTrackUrl'),\n        method: 'post'\n        timeout: 1000 * 20\n        headers:\n            'Content-Type': 'application/json; charset=utf-8'\n        body: JSON.stringify(events: events)\n    \n    req.then (response) -> response.json()\n_dispatch = ->\n    return if dispatching is true or pool.length is 0\n\n    events = pool.slice 0, dispatchLimit\n    nacks = 0\n    dispatching = true\n\n    ship(events)\n        .then (response) ->\n            dispatching = false\n\n            response.events.forEach (resEvent) ->\n                if resEvent.status is 'validation_error' or resEvent.status is 'ack'\n                    pool = pool.filter (poolEvent) -> poolEvent._i isnt resEvent.id\n                else if 'nack'\n                    nacks++\n\n                return\n\n            # Keep dispatching until the pool size reaches a sane level.\n            dispatch() if pool.length >= dispatchLimit and nacks is 0\n\n            return\n        .catch (err) ->\n            dispatching = false\n\n            throw err\n\n            return\n    \n    return\ndispatch = SGN.util.throttle _dispatch, 4000\n\nclientLocalStorage.set 'event-tracker-pool', []\n\ntry\n    window.addEventListener 'beforeunload', (e) ->\n        pool = pool.concat getPool()\n\n        clientLocalStorage.set 'event-tracker-pool', pool\n\n        return\n    , false","(function(){\r\n  var crypt = require('crypt'),\r\n      utf8 = require('charenc').utf8,\r\n      isBuffer = require('is-buffer'),\r\n      bin = require('charenc').bin,\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message))\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if (message === undefined || message === null)\r\n      throw new Error('Illegal argument ' + message);\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n","MicroEvent = require 'microevent'\n\nclass Pulse\n    constructor: ->\n        @destroyed = false\n        @connection = @connect()\n\n        return\n\n    destroy: ->\n        @destroyed = true\n\n        @connection.close()\n\n        @\n\n    connect: ->\n        connection = new WebSocket SGN.config.get('eventsPulseUrl')\n\n        connection.onopen = @onOpen.bind @\n        connection.onmessage = @onMessage.bind @\n        connection.onerror = @onError.bind @\n        connection.onclose = @onClose.bind @\n\n        connection\n\n    onOpen: ->\n        @trigger 'open'\n\n        return\n\n    onMessage: (e) ->\n        try\n            @trigger 'event', JSON.parse(e.data)\n\n        return\n\n    onError: ->\n        return\n\n    onClose: ->\n        if @destroyed is false\n            setTimeout =>\n                @connection = @connect()\n\n                return\n            , 2000\n\n        return\n\nMicroEvent.mixin Pulse\n\nmodule.exports = Pulse\n","fetch = require 'cross-fetch'\nSGN = require '../../sgn'\n{promiseCallbackInterop} = require '../../util'\n\nparseCookies = (cookies = []) ->\n    parsedCookies = {}\n\n    cookies.map (cookie) ->\n        parts = cookie.split '; '\n        keyValuePair = parts[0].split '='\n        key = keyValuePair[0]\n        value = keyValuePair[1]\n\n        parsedCookies[key] = value\n\n        return\n    \n    parsedCookies\n\nrequest = (options = {}, callback) ->\n    url = SGN.config.get 'graphUrl'\n    timeout = 1000 * 12\n    appKey = SGN.config.get 'appKey'\n    authToken = SGN.config.get 'authToken'\n    authTokenCookieName = 'shopgun-auth-token'\n    options =\n        method: 'post'\n        timeout: timeout\n        headers:\n            'Content-Type': 'application/json; charset=utf-8'\n        body: JSON.stringify\n            query: options.query\n            operationName: options.operationName\n            variables: options.variables\n\n    # Set cookies manually in node.js.\n    if SGN.util.isNode() and authToken?\n        options.cookies = [\n            key: authTokenCookieName\n            value: authToken\n            url: url\n        ]\n    else if SGN.util.isBrowser()\n        options.credentials = 'include'\n\n    fetch(url, options)\n        .then (response) ->\n            response.json().then (json) ->\n                # Update auth token as it might have changed.\n                if SGN.util.isNode()\n                    cookies = parseCookies response.headers?['set-cookie']\n                    authCookie = cookies[authTokenCookieName]\n\n                    if SGN.config.get('authToken') isnt authCookie\n                        SGN.config.set 'authToken', authCookie\n\n                if response.status isnt 200\n                    callback SGN.util.error(new Error('Graph API error'),\n                        code: 'GraphAPIError'\n                        statusCode: data.statusCode\n                    )\n                else\n                    callback null, json\n        .catch callback\n    \n    return\n\nmodule.exports = promiseCallbackInterop request, 1","module.exports =\n    Tracker: require './tracker'\n\n    Pulse: require './pulse'\n","fetch = require 'cross-fetch'\nSGN = require '../../sgn'\n{promiseCallbackInterop} = require '../../util'\n\nrequest = (options = {}, callback, secondTime) ->\n    SGN.CoreKit.session.ensure (err) ->\n        return callback(err) if err?\n\n        url = SGN.config.get('coreUrl') + (options.url ? '')\n        headers = options.headers ? {}\n        json = if typeof options.json is 'boolean' then options.json else true\n        token = SGN.config.get 'coreSessionToken'\n        appVersion = SGN.config.get 'appVersion'\n        appSecret = SGN.config.get 'appSecret'\n        locale = SGN.config.get 'locale'\n        qs = options.qs ? {}\n        geo = options.geolocation\n        body = options.body\n        \n        headers['X-Token'] = token\n        headers['X-Signature'] = SGN.CoreKit.session.sign appSecret, token if appSecret?\n\n        if json\n            headers['Content-Type'] = 'application/json'\n            headers['Accept'] = 'application/json'\n\n            if body\n                body = JSON.stringify(body)\n\n        qs.r_locale = locale if locale?\n        qs.api_av = appVersion if appVersion?\n\n        if geo?\n            qs.r_lat = geo.latitude if geo.latitude? and not qs.r_lat?\n            qs.r_lng = geo.longitude if geo.longitude? and not qs.r_lng?\n            qs.r_radius = geo.radius if geo.radius? and not qs.r_radius?\n            qs.r_sensor = geo.sensor if geo.sensor? and not qs.r_sensor?\n        \n        if Object.keys(qs).length\n            url += '?' + (Object.keys(qs).map (k) ->\n                if Array.isArray k\n                    return qs[k].map((val) -> \"#{encodeURIComponent(k)}[]=#{encodeURIComponent(val)}\").join '&'\n                \n                \"#{encodeURIComponent(k)}=#{encodeURIComponent(qs[k])}\"\n            ).join '&'\n\n        req = fetch url,\n            method: options.method\n            body: body\n            headers: headers\n        \n        req\n            .then (response) ->\n                response.json().then (json) ->\n                    token = SGN.config.get 'coreSessionToken'\n                    responseToken = response.headers.get 'x-token'\n\n                    SGN.CoreKit.session.saveToken responseToken if responseToken and token isnt responseToken\n\n                    if response.status >= 200 and response.status < 300 or response.status is 304\n                        callback null, json\n                    else\n                        if secondTime isnt true and json?.code in [1101, 1107, 1108]\n                            SGN.config.set coreSessionToken: undefined\n\n                            request options, callback, true\n                        else\n                            callback SGN.util.error(new Error('Core API error'),\n                                code: 'CoreAPIError'\n                                statusCode: response.status\n                            ), json\n                    \n                    return\n            .catch callback\n\n    return\n\nmodule.exports = promiseCallbackInterop request, 1\n","module.exports =\n    request: require './request'\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","fetch = require 'cross-fetch'\nsha256 = require 'sha256'\nSGN = require '../../sgn'\nclientCookieStorage = require '../../storage/client-cookie'\ncallbackQueue = []\nrenewed = false\n\nsession =\n    ttl: 1 * 60 * 60 * 24 * 60\n\n    saveToken: (token) ->\n        throw new Error('No token provided for saving') if not token\n\n        SGN.config.set coreSessionToken: token\n\n        session.saveCookie()\n\n        return\n\n    saveClientId: (clientId) ->\n        SGN.config.set coreSessionClientId: clientId\n\n        session.saveCookie()\n\n        return\n\n    saveCookie: ->\n        clientCookieStorage.set 'session',\n            token: SGN.config.get 'coreSessionToken'\n            client_id: SGN.config.get 'coreSessionClientId'\n\n        return\n\n    create: (callback) ->\n        key = SGN.config.get 'appKey'\n        ttl = session.ttl\n\n        req = fetch SGN.config.get('coreUrl') + \"/v2/sessions?api_key=#{key}&token_ttl=#{ttl}\",\n            method: 'post'\n\n        req\n            .then (response) ->\n                response.json().then (json) ->\n                    if response.status is 201\n                        session.saveToken json.token\n                        session.saveClientId json.client_id\n\n                        callback null, json\n                    else\n                        callback new Error('Could not create session')\n                    \n                    return\n            .catch (err) ->\n                callback err\n\n                return\n        \n        return\n    \n    update: (callback) ->\n        headers = {}\n        token = SGN.config.get 'coreSessionToken'\n        appSecret = SGN.config.get 'appSecret'\n\n        headers['X-Token'] = token\n        headers['X-Signature'] = session.sign appSecret, token if appSecret?\n\n        req = fetch SGN.config.get('coreUrl') + '/v2/sessions',\n            method: 'put'\n            headers: headers\n\n        req\n            .then (response) ->\n                response.json().then (json) ->\n                    if response.status is 200\n                        session.saveToken json.token\n                        session.saveClientId json.client_id\n\n                        callback null, json\n                    else\n                        callback new Error('Could not update session')\n                    \n                    return\n            .catch (err) ->\n                callback err\n\n                return\n\n        return\n\n    renew: (callback) ->\n        headers = {}\n        token = SGN.config.get 'coreSessionToken'\n        appSecret = SGN.config.get 'appSecret'\n\n        headers['X-Token'] = token\n        headers['X-Signature'] = session.sign appSecret, token if appSecret\n\n        req = fetch SGN.config.get('coreUrl') + '/v2/sessions',\n            method: 'put'\n            headers: headers\n\n        req\n            .then (response) ->\n                response.json().then (json) ->\n                    if response.status is 200\n                        session.saveToken json.token\n                        session.saveClientId json.client_id\n\n                        callback null, json\n                    else\n                        callback new Error('Could not renew session')\n                    \n                    return\n            .catch (err) ->\n                callback err\n\n                return\n\n        return\n\n    ensure: (callback) ->\n        queueCount = callbackQueue.length\n        complete = (err) ->\n            callbackQueue = callbackQueue.filter (fn) ->\n                fn err\n\n                false\n\n            return\n\n        callbackQueue.push callback\n\n        if queueCount is 0\n            if not SGN.config.get('coreSessionToken')?\n                session.create complete\n            else if renewed is false\n                renewed = true\n                session.renew (err) ->\n                    if err?\n                        session.create complete\n                    else\n                        complete()\n                    \n                    return\n            else\n                complete()\n\n        return\n\n    sign: (appSecret, token) ->\n        sha256 [appSecret, token].join('')\n\nmodule.exports = session\n","!function(globals) {\n'use strict'\n\nvar convertHex = {\n  bytesToHex: function(bytes) {\n    /*if (typeof bytes.byteLength != 'undefined') {\n      var newBytes = []\n\n      if (typeof bytes.buffer != 'undefined')\n        bytes = new DataView(bytes.buffer)\n      else\n        bytes = new DataView(bytes)\n\n      for (var i = 0; i < bytes.byteLength; ++i) {\n        newBytes.push(bytes.getUint8(i))\n      }\n      bytes = newBytes\n    }*/\n    return arrBytesToHex(bytes)\n  },\n  hexToBytes: function(hex) {\n    if (hex.length % 2 === 1) throw new Error(\"hexToBytes can't have a string with an odd number of characters.\")\n    if (hex.indexOf('0x') === 0) hex = hex.slice(2)\n    return hex.match(/../g).map(function(x) { return parseInt(x,16) })\n  }\n}\n\n\n// PRIVATE\n\nfunction arrBytesToHex(bytes) {\n  return bytes.map(function(x) { return padLeft(x.toString(16),2) }).join('')\n}\n\nfunction padLeft(orig, len) {\n  if (orig.length > len) return orig\n  return Array(len - orig.length + 1).join('0') + orig\n}\n\n\nif (typeof module !== 'undefined' && module.exports) { //CommonJS\n  module.exports = convertHex\n} else {\n  globals.convertHex = convertHex\n}\n\n}(this);","!function(globals) {\n'use strict'\n\nvar convertString = {\n  bytesToString: function(bytes) {\n    return bytes.map(function(x){ return String.fromCharCode(x) }).join('')\n  },\n  stringToBytes: function(str) {\n    return str.split('').map(function(x) { return x.charCodeAt(0) })\n  }\n}\n\n//http://hossa.in/2012/07/20/utf-8-in-javascript.html\nconvertString.UTF8 = {\n   bytesToString: function(bytes) {\n    return decodeURIComponent(escape(convertString.bytesToString(bytes)))\n  },\n  stringToBytes: function(str) {\n   return convertString.stringToBytes(unescape(encodeURIComponent(str)))\n  }\n}\n\nif (typeof module !== 'undefined' && module.exports) { //CommonJS\n  module.exports = convertString\n} else {\n  globals.convertString = convertString\n}\n\n}(this);","!function(globals) {\n'use strict'\n\nvar _imports = {}\n\nif (typeof module !== 'undefined' && module.exports) { //CommonJS\n  _imports.bytesToHex = require('convert-hex').bytesToHex\n  _imports.convertString = require('convert-string')\n  module.exports = sha256\n} else {\n  _imports.bytesToHex = globals.convertHex.bytesToHex\n  _imports.convertString = globals.convertString\n  globals.sha256 = sha256\n}\n\n/*\nCryptoJS v3.1.2\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\n\n// Initialization round constants tables\nvar K = []\n\n// Compute constants\n!function () {\n  function isPrime(n) {\n    var sqrtN = Math.sqrt(n);\n    for (var factor = 2; factor <= sqrtN; factor++) {\n      if (!(n % factor)) return false\n    }\n\n    return true\n  }\n\n  function getFractionalBits(n) {\n    return ((n - (n | 0)) * 0x100000000) | 0\n  }\n\n  var n = 2\n  var nPrime = 0\n  while (nPrime < 64) {\n    if (isPrime(n)) {\n      K[nPrime] = getFractionalBits(Math.pow(n, 1 / 3))\n      nPrime++\n    }\n\n    n++\n  }\n}()\n\nvar bytesToWords = function (bytes) {\n  var words = []\n  for (var i = 0, b = 0; i < bytes.length; i++, b += 8) {\n    words[b >>> 5] |= bytes[i] << (24 - b % 32)\n  }\n  return words\n}\n\nvar wordsToBytes = function (words) {\n  var bytes = []\n  for (var b = 0; b < words.length * 32; b += 8) {\n    bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF)\n  }\n  return bytes\n}\n\n// Reusable object\nvar W = []\n\nvar processBlock = function (H, M, offset) {\n  // Working variables\n  var a = H[0], b = H[1], c = H[2], d = H[3]\n  var e = H[4], f = H[5], g = H[6], h = H[7]\n\n    // Computation\n  for (var i = 0; i < 64; i++) {\n    if (i < 16) {\n      W[i] = M[offset + i] | 0\n    } else {\n      var gamma0x = W[i - 15]\n      var gamma0  = ((gamma0x << 25) | (gamma0x >>> 7))  ^\n                    ((gamma0x << 14) | (gamma0x >>> 18)) ^\n                    (gamma0x >>> 3)\n\n      var gamma1x = W[i - 2];\n      var gamma1  = ((gamma1x << 15) | (gamma1x >>> 17)) ^\n                    ((gamma1x << 13) | (gamma1x >>> 19)) ^\n                    (gamma1x >>> 10)\n\n      W[i] = gamma0 + W[i - 7] + gamma1 + W[i - 16];\n    }\n\n    var ch  = (e & f) ^ (~e & g);\n    var maj = (a & b) ^ (a & c) ^ (b & c);\n\n    var sigma0 = ((a << 30) | (a >>> 2)) ^ ((a << 19) | (a >>> 13)) ^ ((a << 10) | (a >>> 22));\n    var sigma1 = ((e << 26) | (e >>> 6)) ^ ((e << 21) | (e >>> 11)) ^ ((e << 7)  | (e >>> 25));\n\n    var t1 = h + sigma1 + ch + K[i] + W[i];\n    var t2 = sigma0 + maj;\n\n    h = g;\n    g = f;\n    f = e;\n    e = (d + t1) | 0;\n    d = c;\n    c = b;\n    b = a;\n    a = (t1 + t2) | 0;\n  }\n\n  // Intermediate hash value\n  H[0] = (H[0] + a) | 0;\n  H[1] = (H[1] + b) | 0;\n  H[2] = (H[2] + c) | 0;\n  H[3] = (H[3] + d) | 0;\n  H[4] = (H[4] + e) | 0;\n  H[5] = (H[5] + f) | 0;\n  H[6] = (H[6] + g) | 0;\n  H[7] = (H[7] + h) | 0;\n}\n\nfunction sha256(message, options) {;\n  if (message.constructor === String) {\n    message = _imports.convertString.UTF8.stringToBytes(message);\n  }\n\n  var H =[ 0x6A09E667, 0xBB67AE85, 0x3C6EF372, 0xA54FF53A,\n           0x510E527F, 0x9B05688C, 0x1F83D9AB, 0x5BE0CD19 ];\n\n  var m = bytesToWords(message);\n  var l = message.length * 8;\n\n  m[l >> 5] |= 0x80 << (24 - l % 32);\n  m[((l + 64 >> 9) << 4) + 15] = l;\n\n  for (var i=0 ; i<m.length; i += 16) {\n    processBlock(H, m, i);\n  }\n\n  var digestbytes = wordsToBytes(H);\n  return options && options.asBytes ? digestbytes :\n         options && options.asString ? _imports.convertString.bytesToString(digestbytes) :\n         _imports.bytesToHex(digestbytes)\n}\n\nsha256.x2 = function(message, options) {\n  return sha256(sha256(message, { asBytes:true }), options)\n}\n\n}(this);\n","SGN = require '../../sgn'\nrequest = require './request'\nsession = require './session'\n\nmodule.exports =\n    request: request\n\n    session: session\n","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","'use strict';\n// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(5);\nvar KEY = 'find';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","MicroEvent = require 'microevent'\nSGN = require '../../sgn'\n\nclass PagedPublicationPageSpread\n    constructor: (@options = {}) ->\n        @contentsRendered = false\n        @hotspotsRendered = false\n        @el = @renderEl()\n\n        return\n\n    getId: ->\n        @options.id\n\n    getEl: ->\n        @el\n\n    getPages: ->\n        @options.pages\n\n    renderEl: ->\n        el = document.createElement 'div'\n        pageIds = @getPages().map (page) -> page.id\n\n        el.className = 'verso__page-spread sgn-pp__page-spread'\n\n        el.setAttribute 'data-id', @getId()\n        el.setAttribute 'data-type', 'page'\n        el.setAttribute 'data-width', @options.width\n        el.setAttribute 'data-page-ids', pageIds.join(',')\n        el.setAttribute 'data-max-zoom-scale', @options.maxZoomScale\n        el.setAttribute 'data-zoomable', false\n\n        el\n\n    renderContents: ->\n        id = @getId()\n        el = @getEl()\n        pages = @getPages()\n        pageCount = pages.length\n        imageLoads = 0\n\n        pages.forEach (page, i) =>\n            image = page.images.medium\n            pageEl = document.createElement 'div'\n            loaderEl = document.createElement 'div'\n\n            pageEl.className = 'sgn-pp__page verso__page'\n            pageEl.setAttribute('data-id', page.id) if page.id?\n\n            if pageCount is 2\n                pageEl.className += if i is 0 then ' verso-page--verso' else ' verso-page--recto'\n\n            pageEl.appendChild loaderEl\n            el.appendChild pageEl\n\n            loaderEl.className = 'sgn-pp-page__loader'\n            loaderEl.innerHTML = \"<span>#{page.label}</span>\"\n\n            SGN.util.loadImage image, (err, width, height) =>\n                if not err?\n                    isComplete = ++imageLoads is pageCount\n\n                    pageEl.style.backgroundImage = \"url(#{image})\"\n                    pageEl.setAttribute 'data-width', width\n                    pageEl.setAttribute 'data-height', height\n                    pageEl.innerHTML = '&nbsp;'\n\n                    el.setAttribute('data-zoomable', true) if isComplete\n\n                    @trigger 'pageLoaded', pageSpreadId: id, page: page\n                    @trigger 'pagesLoaded', pageSpreadId: id, pages: pages if isComplete\n                else\n                    loaderEl.innerHTML = '<span>!</span>'\n\n                return\n\n            return\n\n        @contentsRendered = true\n\n        @\n\n    clearContents: (pageSpread, versoPageSpread) ->\n        @el.innerHTML = ''\n        @contentsRendered = false\n\n        @\n\n    zoomIn: ->\n        pageEls = [].slice.call @el.querySelectorAll('.sgn-pp__page')\n        pages = @getPages()\n\n        pageEls.forEach (pageEl) =>\n            id = pageEl.getAttribute 'data-id'\n            page = pages.find (page) -> page.id is id\n            image = page.images.large\n\n            SGN.util.loadImage image, (err) =>\n                if not err? and @el.getAttribute('data-active') is 'true'\n                    pageEl.setAttribute 'data-image', pageEl.style.backgroundImage\n                    pageEl.style.backgroundImage = \"url(#{image})\"\n\n                return\n\n            return\n\n        return\n\n    zoomOut: ->\n        pageEls = [].slice.call @el.querySelectorAll('.sgn-pp__page[data-image]')\n\n        pageEls.forEach (pageEl) ->\n            pageEl.style.backgroundImage = pageEl.getAttribute 'data-image'\n            \n            pageEl.removeAttribute 'data-image'\n\n            return\n\n        return\n\nMicroEvent.mixin PagedPublicationPageSpread\n\nmodule.exports = PagedPublicationPageSpread\n","MicroEvent = require 'microevent'\nPageSpread = require './page-spread'\nSGN = require '../../sgn'\n\nclass PagedPublicationPageSpreads\n    constructor: (@options) ->\n        @collection = []\n        @ids = {}\n\n        return\n\n    get: (id) ->\n        @ids[id]\n\n    getFrag: ->\n        frag = document.createDocumentFragment()\n\n        @collection.forEach (pageSpread) -> frag.appendChild pageSpread.el\n\n        frag\n\n    update: (pageMode = 'single') ->\n        pageSpreads = []\n        ids = {}\n        pages = @options.pages.slice()\n        width = @options.width\n        maxZoomScale = @options.maxZoomScale\n\n        if pageMode is 'single'\n            pages.forEach (page) -> pageSpreads.push [page]\n        else\n            firstPage = pages.shift()\n            lastPage = if pages.length % 2 is 1 then pages.pop() else null\n            midstPageSpreads = SGN.util.chunk pages, 2\n\n            pageSpreads.push [firstPage] if firstPage?\n            midstPageSpreads.forEach (midstPages) -> pageSpreads.push midstPages.map (page) -> page\n            pageSpreads.push [lastPage] if lastPage?\n\n        @collection = pageSpreads.map (pages, i) =>\n            id = \"#{pageMode}-#{i}\"\n            pageSpread = new PageSpread\n                width: width\n                maxZoomScale: maxZoomScale\n                pages: pages\n                id: id\n\n            pageSpread.bind 'pageLoaded', (e) => @trigger 'pageLoaded', e\n            pageSpread.bind 'pagesLoaded', (e) => @trigger 'pagesLoaded', e\n\n            ids[id] = pageSpread\n\n            pageSpread\n        @ids = ids\n\n        @\n\nMicroEvent.mixin PagedPublicationPageSpreads\n\nmodule.exports = PagedPublicationPageSpreads\n","MicroEvent = require 'microevent'\nVerso = require 'verso-browser'\nPageSpreads = require './page-spreads'\nclientLocalStorage = require '../../storage/client-local'\nSGN = require '../../sgn'\n\nclass PagedPublicationCore\n    defaults:\n        pages: []\n        pageSpreadWidth: 100\n        pageSpreadMaxZoomScale: 2.3\n        idleDelay: 1000\n        resizeDelay: 400\n        color: '#ffffff'\n\n    constructor: (el, options = {}) ->\n        @options = @makeOptions options, @defaults\n        @pageId = @getOption 'pageId'\n        @els =\n            root: el\n            pages: el.querySelector '.sgn-pp__pages'\n            verso: el.querySelector '.verso'\n        @pageMode = @getPageMode()\n        @pageSpreads = new PageSpreads\n            pages: @getOption 'pages'\n            maxZoomScale: @getOption 'pageSpreadMaxZoomScale'\n            width: @getOption 'pageSpreadWidth'\n\n        @pageSpreads.bind 'pageLoaded', @pageLoaded.bind(@)\n        @pageSpreads.bind 'pagesLoaded', @pagesLoaded.bind(@)\n\n        @setColor @getOption('color')\n\n        # It's important to insert the page spreads before instantiating Verso.\n        @els.pages.parentNode.insertBefore @pageSpreads.update(@pageMode).getFrag(), @els.pages\n\n        @verso = @createVerso()\n\n        @bind 'started', @start.bind(@)\n        @bind 'destroyed', @destroy.bind(@)\n\n        return\n\n    start: ->\n        @getVerso().start()\n\n        @resizeListener = SGN.util.throttle @resize, @getOption('resizeDelay'), @\n        @unloadListener = @unload.bind @\n\n        window.addEventListener 'resize', @resizeListener, false\n        window.addEventListener 'beforeunload', @unloadListener, false\n\n        @els.root.setAttribute 'data-started', ''\n        @els.root.setAttribute 'tabindex', '-1'\n        @els.root.focus()\n\n        return\n\n    destroy: ->\n        verso = @getVerso()\n        pageSpreadEls = verso.el.querySelectorAll '.sgn-pp__page-spread'\n\n        @els.root.removeAttribute 'data-started'\n        @els.root.removeAttribute 'data-idle'\n        @els.root.removeAttribute 'data-navigating'\n        @els.root.removeAttribute 'data-color-brightness'\n        @els.root.removeAttribute 'data-zoomed-in'\n\n        @els.root.style.backgroundColor = '#ffffff'\n\n        pageSpreadEl.parentNode.removeChild pageSpreadEl for pageSpreadEl in pageSpreadEls\n\n        verso.destroy()\n\n        window.removeEventListener 'resize', @resizeListener, false\n        window.removeEventListener 'beforeunload', @unloadListener, false\n\n        return\n\n    makeOptions: (options, defaults) ->\n        opts = {}\n\n        opts[key] = options[key] ? defaults[key] for key, value of options\n\n        opts\n\n    getOption: (key) ->\n        @options[key]\n\n    setColor: (color) ->\n        @els.root.setAttribute 'data-color-brightness', SGN.util.getColorBrightness(color)\n        @els.root.style.backgroundColor = color\n\n        return\n\n    createVerso: ->\n        verso = new Verso @els.verso, pageId: @pageId\n\n        verso.pageSpreads.forEach @overridePageSpreadContentRect.bind(@)\n\n        verso.bind 'beforeNavigation', @beforeNavigation.bind(@)\n        verso.bind 'afterNavigation', @afterNavigation.bind(@)\n        verso.bind 'attemptedNavigation', @attemptedNavigation.bind(@)\n        verso.bind 'clicked', @clicked.bind(@)\n        verso.bind 'doubleClicked', @doubleClicked.bind(@)\n        verso.bind 'pressed', @pressed.bind(@)\n        verso.bind 'contextmenu', @contextmenu.bind(@)\n        verso.bind 'panStart', @panStart.bind(@)\n        verso.bind 'panEnd', @panEnd.bind(@)\n        verso.bind 'zoomedIn', @zoomedIn.bind(@)\n        verso.bind 'zoomedOut', @zoomedOut.bind(@)\n\n        verso\n\n    getVerso: ->\n        @verso\n\n    getContentRect: (pageSpread) ->\n        rect =\n            top: 0\n            left: 0\n            right: 0\n            bottom: 0\n            width: 0\n            height: 0\n        pageEls = pageSpread.getPageEls()\n        pageEl = pageEls[0]\n        pageCount = pageEls.length\n\n        return rect if not pageCount\n        \n        scale = @getVerso().transform.scale\n        pageWidth = pageEl.offsetWidth * pageCount * scale\n        pageHeight = pageEl.offsetHeight * scale\n        imageRatio = +pageEl.getAttribute('data-height') / (+pageEl.getAttribute('data-width') * pageCount)\n        actualHeight = pageHeight\n        actualWidth = actualHeight / imageRatio\n        actualWidth = Math.min pageWidth, actualWidth\n        actualHeight = actualWidth * imageRatio\n        clientRect = pageEl.getBoundingClientRect()\n\n        rect.width = actualWidth\n        rect.height = actualHeight\n        rect.top = clientRect.top + (pageHeight - actualHeight) / 2\n        rect.left = clientRect.left + (pageWidth - actualWidth) / 2\n        rect.right = rect.width + rect.left\n        rect.bottom = rect.height + rect.top\n\n        rect\n\n    formatProgressLabel: (pageSpread) ->\n        pages = pageSpread?.options.pages ? []\n        pageIds = pages.map (page) -> page.id\n        pageLabels = pages.map (page) -> page.label\n        pageCount = @getOption('pages').length\n        label = if pageIds.length > 0 then pageLabels.join('-') + ' / ' + pageCount else null\n\n        label\n\n    renderPageSpreads: ->\n        @getVerso().pageSpreads.forEach (pageSpread) =>\n            visibility = pageSpread.getVisibility()\n            match = @pageSpreads.get pageSpread.getId()\n\n            if match?\n                if visibility is 'visible' and match.contentsRendered is false\n                    setTimeout match.renderContents.bind(match), 0\n                if visibility is 'gone' and match.contentsRendered is true\n                    setTimeout match.clearContents.bind(match), 0\n\n            return\n\n        @\n\n    findPage: (pageId) ->\n        @getOption('pages').find (page) -> page.id is pageId\n\n    pageLoaded: (e) ->\n        @trigger 'pageLoaded', e\n\n        return\n\n    pagesLoaded: (e) ->\n        @trigger 'pagesLoaded', e\n\n        return\n\n    beforeNavigation: (e) ->\n        position = e.newPosition\n        theVerso = @getVerso()\n        versoPageSpread = theVerso.getPageSpreadFromPosition position\n        pageSpread = @pageSpreads.get versoPageSpread.getId()\n        pageSpreadCount = theVerso.getPageSpreadCount()\n        newSpreadEl = theVerso.pageSpreadEls[e.newPosition]\n        progress = position / (pageSpreadCount - 1) * 100\n        progressLabel = @formatProgressLabel pageSpread\n\n        @els.root.setAttribute 'data-navigating', true\n\n        @renderPageSpreads()\n        @resetIdleTimer()\n        @startIdleTimer()\n        @trigger 'beforeNavigation',\n            verso: e\n            pageSpread: pageSpread\n            newSpreadEl: newSpreadEl\n            progress: progress\n            progressLabel: progressLabel\n            pageSpreadCount: pageSpreadCount\n            newPositionIsEnd: e.newPosition + 1 == pageSpreadCount\n\n        return\n\n    afterNavigation: (e) ->\n        position = e.newPosition\n        theVerso = @getVerso()\n        versoPageSpread = theVerso.getPageSpreadFromPosition position\n        pageSpread = @pageSpreads.get versoPageSpread.getId()\n        pageSpreadCount = theVerso.getPageSpreadCount()\n        newSpreadEl = theVerso.pageSpreadEls[e.newPosition]\n\n        @els.root.setAttribute 'data-navigating', false\n\n        @trigger 'afterNavigation',\n            verso: e\n            pageSpread: pageSpread\n            pageSpreadCount: pageSpreadCount\n            newSpreadEl: newSpreadEl\n            newPositionIsEnd: e.newPosition + 1 == pageSpreadCount\n\n        return\n\n    attemptedNavigation: (e) ->\n        @trigger 'attemptedNavigation', verso: e\n\n        return\n\n    clicked: (e) ->\n        if e.isInsideContent\n            pageId = e.pageEl.getAttribute 'data-id'\n            page = @findPage pageId\n\n            @trigger 'clicked', verso: e, page: page\n\n        return\n\n    doubleClicked: (e) ->\n        if e.isInsideContent\n            pageId = e.pageEl.getAttribute 'data-id'\n            page = @findPage pageId\n\n            @trigger 'doubleClicked', verso: e, page: page\n\n        return\n\n    pressed: (e) ->\n        if e.isInsideContent\n            pageId = e.pageEl.getAttribute 'data-id'\n            page = @findPage pageId\n\n            @trigger 'pressed', verso: e, page: page\n\n        return\n\n    contextmenu: (e) ->\n        if e.isInsideContent\n            pageId = e.pageEl.getAttribute 'data-id'\n            page = @findPage pageId\n\n            @trigger 'contextmenu', verso: e, page: page\n\n        return\n\n    panStart: ->\n        @resetIdleTimer()\n        @trigger 'panStart', scale: @getVerso().transform.scale\n\n        return\n\n    panEnd: ->\n        @startIdleTimer()\n        @trigger 'panEnd'\n\n        return\n\n    zoomedIn: (e) ->\n        position = e.position\n        versoPageSpread = @getVerso().getPageSpreadFromPosition position\n        pageSpread = @pageSpreads.get versoPageSpread.getId()\n\n        pageSpread.zoomIn() if pageSpread?\n\n        @els.root.setAttribute 'data-zoomed-in', true\n        @trigger 'zoomedIn', verso: e, pageSpread: pageSpread\n\n        return\n\n    zoomedOut: (e) ->\n        position = e.position\n        versoPageSpread = @getVerso().getPageSpreadFromPosition position\n        pageSpread = @pageSpreads.get versoPageSpread.getId()\n\n        pageSpread.zoomOut() if pageSpread?\n\n        @els.root.setAttribute 'data-zoomed-in', false\n        @trigger 'zoomedOut', verso: e, pageSpread: pageSpread\n\n        return\n\n    getPageMode: ->\n        pageMode = @getOption 'pageMode'\n\n        if not pageMode?\n            width = @els.root.offsetWidth\n            height = @els.root.offsetHeight\n\n            pageMode = if height / width < 0.8 then 'double' else 'single'\n\n        pageMode\n\n    resetIdleTimer: ->\n        clearTimeout @idleTimeout\n\n        @els.root.setAttribute 'data-idle', false\n\n        @\n\n    startIdleTimer: ->\n        @idleTimeout = setTimeout =>\n            @els.root.setAttribute 'data-idle', true\n\n            return\n        , @getOption('idleDelay')\n\n        @\n\n    switchPageMode: (pageMode) ->\n        return @ if @pageMode is pageMode\n\n        verso = @getVerso()\n        pageIds = verso.getPageSpreadFromPosition(verso.getPosition()).getPageIds()\n        pageSpreadEls = @getVerso().el.querySelectorAll '.sgn-pp__page-spread'\n\n        @pageMode = pageMode\n\n        @pageSpreads.update @pageMode\n\n        pageSpreadEl.parentNode.removeChild pageSpreadEl for pageSpreadEl in pageSpreadEls\n        @els.pages.parentNode.insertBefore @pageSpreads.getFrag(), @els.pages\n\n        verso.refresh()\n        verso.navigateTo verso.getPageSpreadPositionFromPageId(pageIds[0]), duration: 0\n        verso.pageSpreads.forEach @overridePageSpreadContentRect.bind(@)\n\n        @\n\n    overridePageSpreadContentRect: (pageSpread) ->\n        if pageSpread.getType() is 'page'\n            pageSpread.getContentRect = => @getContentRect pageSpread\n\n    resize: ->\n        pageMode = @getPageMode()\n\n        if not @getOption('pageMode')? and pageMode isnt @pageMode\n            @switchPageMode pageMode\n        else\n            @trigger 'resized'\n\n        return\n\n    unload: ->\n        @trigger 'disappeared'\n\n        return\n\nMicroEvent.mixin PagedPublicationCore\n\nmodule.exports = PagedPublicationCore\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.Verso = factory());\n}(this, (function () { 'use strict';\n\n  var _isObject = function (it) {\n    return typeof it === 'object' ? it !== null : typeof it === 'function';\n  };\n\n  var _anObject = function (it) {\n    if (!_isObject(it)) throw TypeError(it + ' is not an object!');\n    return it;\n  };\n\n  var _fails = function (exec) {\n    try {\n      return !!exec();\n    } catch (e) {\n      return true;\n    }\n  };\n\n  // Thank's IE8 for his funny defineProperty\n  var _descriptors = !_fails(function () {\n    return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n  });\n\n  function createCommonjsModule(fn, module) {\n  \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n  }\n\n  var _global = createCommonjsModule(function (module) {\n  // https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n  var global = module.exports = typeof window != 'undefined' && window.Math == Math\n    ? window : typeof self != 'undefined' && self.Math == Math ? self\n    // eslint-disable-next-line no-new-func\n    : Function('return this')();\n  if (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n  });\n\n  var document$1 = _global.document;\n  // typeof document.createElement is 'object' in old IE\n  var is = _isObject(document$1) && _isObject(document$1.createElement);\n  var _domCreate = function (it) {\n    return is ? document$1.createElement(it) : {};\n  };\n\n  var _ie8DomDefine = !_descriptors && !_fails(function () {\n    return Object.defineProperty(_domCreate('div'), 'a', { get: function () { return 7; } }).a != 7;\n  });\n\n  // 7.1.1 ToPrimitive(input [, PreferredType])\n\n  // instead of the ES6 spec version, we didn't implement @@toPrimitive case\n  // and the second argument - flag - preferred type is a string\n  var _toPrimitive = function (it, S) {\n    if (!_isObject(it)) return it;\n    var fn, val;\n    if (S && typeof (fn = it.toString) == 'function' && !_isObject(val = fn.call(it))) return val;\n    if (typeof (fn = it.valueOf) == 'function' && !_isObject(val = fn.call(it))) return val;\n    if (!S && typeof (fn = it.toString) == 'function' && !_isObject(val = fn.call(it))) return val;\n    throw TypeError(\"Can't convert object to primitive value\");\n  };\n\n  var dP = Object.defineProperty;\n\n  var f = _descriptors ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n    _anObject(O);\n    P = _toPrimitive(P, true);\n    _anObject(Attributes);\n    if (_ie8DomDefine) try {\n      return dP(O, P, Attributes);\n    } catch (e) { /* empty */ }\n    if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n    if ('value' in Attributes) O[P] = Attributes.value;\n    return O;\n  };\n\n  var _objectDp = {\n  \tf: f\n  };\n\n  var _propertyDesc = function (bitmap, value) {\n    return {\n      enumerable: !(bitmap & 1),\n      configurable: !(bitmap & 2),\n      writable: !(bitmap & 4),\n      value: value\n    };\n  };\n\n  var _hide = _descriptors ? function (object, key, value) {\n    return _objectDp.f(object, key, _propertyDesc(1, value));\n  } : function (object, key, value) {\n    object[key] = value;\n    return object;\n  };\n\n  var hasOwnProperty = {}.hasOwnProperty;\n  var _has = function (it, key) {\n    return hasOwnProperty.call(it, key);\n  };\n\n  var id = 0;\n  var px = Math.random();\n  var _uid = function (key) {\n    return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n  };\n\n  var _core = createCommonjsModule(function (module) {\n  var core = module.exports = { version: '2.5.3' };\n  if (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n  });\n  var _core_1 = _core.version;\n\n  var _redefine = createCommonjsModule(function (module) {\n  var SRC = _uid('src');\n  var TO_STRING = 'toString';\n  var $toString = Function[TO_STRING];\n  var TPL = ('' + $toString).split(TO_STRING);\n\n  _core.inspectSource = function (it) {\n    return $toString.call(it);\n  };\n\n  (module.exports = function (O, key, val, safe) {\n    var isFunction = typeof val == 'function';\n    if (isFunction) _has(val, 'name') || _hide(val, 'name', key);\n    if (O[key] === val) return;\n    if (isFunction) _has(val, SRC) || _hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n    if (O === _global) {\n      O[key] = val;\n    } else if (!safe) {\n      delete O[key];\n      _hide(O, key, val);\n    } else if (O[key]) {\n      O[key] = val;\n    } else {\n      _hide(O, key, val);\n    }\n  // add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n  })(Function.prototype, TO_STRING, function toString() {\n    return typeof this == 'function' && this[SRC] || $toString.call(this);\n  });\n  });\n\n  // 7.2.1 RequireObjectCoercible(argument)\n  var _defined = function (it) {\n    if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n    return it;\n  };\n\n  var SHARED = '__core-js_shared__';\n  var store = _global[SHARED] || (_global[SHARED] = {});\n  var _shared = function (key) {\n    return store[key] || (store[key] = {});\n  };\n\n  var _wks = createCommonjsModule(function (module) {\n  var store = _shared('wks');\n\n  var Symbol = _global.Symbol;\n  var USE_SYMBOL = typeof Symbol == 'function';\n\n  var $exports = module.exports = function (name) {\n    return store[name] || (store[name] =\n      USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : _uid)('Symbol.' + name));\n  };\n\n  $exports.store = store;\n  });\n\n  var _fixReWks = function (KEY, length, exec) {\n    var SYMBOL = _wks(KEY);\n    var fns = exec(_defined, SYMBOL, ''[KEY]);\n    var strfn = fns[0];\n    var rxfn = fns[1];\n    if (_fails(function () {\n      var O = {};\n      O[SYMBOL] = function () { return 7; };\n      return ''[KEY](O) != 7;\n    })) {\n      _redefine(String.prototype, KEY, strfn);\n      _hide(RegExp.prototype, SYMBOL, length == 2\n        // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n        // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n        ? function (string, arg) { return rxfn.call(string, this, arg); }\n        // 21.2.5.6 RegExp.prototype[@@match](string)\n        // 21.2.5.9 RegExp.prototype[@@search](string)\n        : function (string) { return rxfn.call(string, this); }\n      );\n    }\n  };\n\n  var toString = {}.toString;\n\n  var _cof = function (it) {\n    return toString.call(it).slice(8, -1);\n  };\n\n  // 7.2.8 IsRegExp(argument)\n\n\n  var MATCH = _wks('match');\n  var _isRegexp = function (it) {\n    var isRegExp;\n    return _isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : _cof(it) == 'RegExp');\n  };\n\n  // @@split logic\n  _fixReWks('split', 2, function (defined, SPLIT, $split) {\n    var isRegExp = _isRegexp;\n    var _split = $split;\n    var $push = [].push;\n    var $SPLIT = 'split';\n    var LENGTH = 'length';\n    var LAST_INDEX = 'lastIndex';\n    if (\n      'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n      'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n      'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n      '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n      '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n      ''[$SPLIT](/.?/)[LENGTH]\n    ) {\n      var NPCG = /()??/.exec('')[1] === undefined; // nonparticipating capturing group\n      // based on es5-shim implementation, need to rework it\n      $split = function (separator, limit) {\n        var string = String(this);\n        if (separator === undefined && limit === 0) return [];\n        // If `separator` is not a regex, use native split\n        if (!isRegExp(separator)) return _split.call(string, separator, limit);\n        var output = [];\n        var flags = (separator.ignoreCase ? 'i' : '') +\n                    (separator.multiline ? 'm' : '') +\n                    (separator.unicode ? 'u' : '') +\n                    (separator.sticky ? 'y' : '');\n        var lastLastIndex = 0;\n        var splitLimit = limit === undefined ? 4294967295 : limit >>> 0;\n        // Make `global` and avoid `lastIndex` issues by working with a copy\n        var separatorCopy = new RegExp(separator.source, flags + 'g');\n        var separator2, match, lastIndex, lastLength, i;\n        // Doesn't need flags gy, but they don't hurt\n        if (!NPCG) separator2 = new RegExp('^' + separatorCopy.source + '$(?!\\\\s)', flags);\n        while (match = separatorCopy.exec(string)) {\n          // `separatorCopy.lastIndex` is not reliable cross-browser\n          lastIndex = match.index + match[0][LENGTH];\n          if (lastIndex > lastLastIndex) {\n            output.push(string.slice(lastLastIndex, match.index));\n            // Fix browsers whose `exec` methods don't consistently return `undefined` for NPCG\n            // eslint-disable-next-line no-loop-func\n            if (!NPCG && match[LENGTH] > 1) match[0].replace(separator2, function () {\n              for (i = 1; i < arguments[LENGTH] - 2; i++) if (arguments[i] === undefined) match[i] = undefined;\n            });\n            if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));\n            lastLength = match[0][LENGTH];\n            lastLastIndex = lastIndex;\n            if (output[LENGTH] >= splitLimit) break;\n          }\n          if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n        }\n        if (lastLastIndex === string[LENGTH]) {\n          if (lastLength || !separatorCopy.test('')) output.push('');\n        } else output.push(string.slice(lastLastIndex));\n        return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n      };\n    // Chakra, V8\n    } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {\n      $split = function (separator, limit) {\n        return separator === undefined && limit === 0 ? [] : _split.call(this, separator, limit);\n      };\n    }\n    // 21.1.3.17 String.prototype.split(separator, limit)\n    return [function split(separator, limit) {\n      var O = defined(this);\n      var fn = separator == undefined ? undefined : separator[SPLIT];\n      return fn !== undefined ? fn.call(separator, O, limit) : $split.call(String(O), separator, limit);\n    }, $split];\n  });\n\n  function _typeof(obj) {\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  var _aFunction = function (it) {\n    if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n    return it;\n  };\n\n  // optional / simple context binding\n\n  var _ctx = function (fn, that, length) {\n    _aFunction(fn);\n    if (that === undefined) return fn;\n    switch (length) {\n      case 1: return function (a) {\n        return fn.call(that, a);\n      };\n      case 2: return function (a, b) {\n        return fn.call(that, a, b);\n      };\n      case 3: return function (a, b, c) {\n        return fn.call(that, a, b, c);\n      };\n    }\n    return function (/* ...args */) {\n      return fn.apply(that, arguments);\n    };\n  };\n\n  var PROTOTYPE = 'prototype';\n\n  var $export = function (type, name, source) {\n    var IS_FORCED = type & $export.F;\n    var IS_GLOBAL = type & $export.G;\n    var IS_STATIC = type & $export.S;\n    var IS_PROTO = type & $export.P;\n    var IS_BIND = type & $export.B;\n    var target = IS_GLOBAL ? _global : IS_STATIC ? _global[name] || (_global[name] = {}) : (_global[name] || {})[PROTOTYPE];\n    var exports = IS_GLOBAL ? _core : _core[name] || (_core[name] = {});\n    var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n    var key, own, out, exp;\n    if (IS_GLOBAL) source = name;\n    for (key in source) {\n      // contains in native\n      own = !IS_FORCED && target && target[key] !== undefined;\n      // export native or passed\n      out = (own ? target : source)[key];\n      // bind timers to global for call from export context\n      exp = IS_BIND && own ? _ctx(out, _global) : IS_PROTO && typeof out == 'function' ? _ctx(Function.call, out) : out;\n      // extend global\n      if (target) _redefine(target, key, out, type & $export.U);\n      // export\n      if (exports[key] != out) _hide(exports, key, exp);\n      if (IS_PROTO && expProto[key] != out) expProto[key] = out;\n    }\n  };\n  _global.core = _core;\n  // type bitmap\n  $export.F = 1;   // forced\n  $export.G = 2;   // global\n  $export.S = 4;   // static\n  $export.P = 8;   // proto\n  $export.B = 16;  // bind\n  $export.W = 32;  // wrap\n  $export.U = 64;  // safe\n  $export.R = 128; // real proto method for `library`\n  var _export = $export;\n\n  // 7.1.13 ToObject(argument)\n\n  var _toObject = function (it) {\n    return Object(_defined(it));\n  };\n\n  var _strictMethod = function (method, arg) {\n    return !!method && _fails(function () {\n      // eslint-disable-next-line no-useless-call\n      arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n    });\n  };\n\n  var $sort = [].sort;\n  var test = [1, 2, 3];\n\n  _export(_export.P + _export.F * (_fails(function () {\n    // IE8-\n    test.sort(undefined);\n  }) || !_fails(function () {\n    // V8 bug\n    test.sort(null);\n    // Old WebKit\n  }) || !_strictMethod($sort)), 'Array', {\n    // 22.1.3.25 Array.prototype.sort(comparefn)\n    sort: function sort(comparefn) {\n      return comparefn === undefined\n        ? $sort.call(_toObject(this))\n        : $sort.call(_toObject(this), _aFunction(comparefn));\n    }\n  });\n\n  // fallback for non-array-like ES3 and non-enumerable old V8 strings\n\n  // eslint-disable-next-line no-prototype-builtins\n  var _iobject = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n    return _cof(it) == 'String' ? it.split('') : Object(it);\n  };\n\n  // to indexed object, toObject with fallback for non-array-like ES3 strings\n\n\n  var _toIobject = function (it) {\n    return _iobject(_defined(it));\n  };\n\n  // 7.1.4 ToInteger\n  var ceil = Math.ceil;\n  var floor = Math.floor;\n  var _toInteger = function (it) {\n    return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n  };\n\n  // 7.1.15 ToLength\n\n  var min = Math.min;\n  var _toLength = function (it) {\n    return it > 0 ? min(_toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n  };\n\n  var max = Math.max;\n  var min$1 = Math.min;\n  var _toAbsoluteIndex = function (index, length) {\n    index = _toInteger(index);\n    return index < 0 ? max(index + length, 0) : min$1(index, length);\n  };\n\n  // false -> Array#indexOf\n  // true  -> Array#includes\n\n\n\n  var _arrayIncludes = function (IS_INCLUDES) {\n    return function ($this, el, fromIndex) {\n      var O = _toIobject($this);\n      var length = _toLength(O.length);\n      var index = _toAbsoluteIndex(fromIndex, length);\n      var value;\n      // Array#includes uses SameValueZero equality algorithm\n      // eslint-disable-next-line no-self-compare\n      if (IS_INCLUDES && el != el) while (length > index) {\n        value = O[index++];\n        // eslint-disable-next-line no-self-compare\n        if (value != value) return true;\n      // Array#indexOf ignores holes, Array#includes - not\n      } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n        if (O[index] === el) return IS_INCLUDES || index || 0;\n      } return !IS_INCLUDES && -1;\n    };\n  };\n\n  var shared = _shared('keys');\n\n  var _sharedKey = function (key) {\n    return shared[key] || (shared[key] = _uid(key));\n  };\n\n  var arrayIndexOf = _arrayIncludes(false);\n  var IE_PROTO = _sharedKey('IE_PROTO');\n\n  var _objectKeysInternal = function (object, names) {\n    var O = _toIobject(object);\n    var i = 0;\n    var result = [];\n    var key;\n    for (key in O) if (key != IE_PROTO) _has(O, key) && result.push(key);\n    // Don't enum bug & hidden keys\n    while (names.length > i) if (_has(O, key = names[i++])) {\n      ~arrayIndexOf(result, key) || result.push(key);\n    }\n    return result;\n  };\n\n  // IE 8- don't enum bug keys\n  var _enumBugKeys = (\n    'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n  ).split(',');\n\n  // 19.1.2.14 / 15.2.3.14 Object.keys(O)\n\n\n\n  var _objectKeys = Object.keys || function keys(O) {\n    return _objectKeysInternal(O, _enumBugKeys);\n  };\n\n  var f$1 = Object.getOwnPropertySymbols;\n\n  var _objectGops = {\n  \tf: f$1\n  };\n\n  var f$2 = {}.propertyIsEnumerable;\n\n  var _objectPie = {\n  \tf: f$2\n  };\n\n  // 19.1.2.1 Object.assign(target, source, ...)\n\n\n\n\n\n  var $assign = Object.assign;\n\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var _objectAssign = !$assign || _fails(function () {\n    var A = {};\n    var B = {};\n    // eslint-disable-next-line no-undef\n    var S = Symbol();\n    var K = 'abcdefghijklmnopqrst';\n    A[S] = 7;\n    K.split('').forEach(function (k) { B[k] = k; });\n    return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n  }) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n    var T = _toObject(target);\n    var aLen = arguments.length;\n    var index = 1;\n    var getSymbols = _objectGops.f;\n    var isEnum = _objectPie.f;\n    while (aLen > index) {\n      var S = _iobject(arguments[index++]);\n      var keys = getSymbols ? _objectKeys(S).concat(getSymbols(S)) : _objectKeys(S);\n      var length = keys.length;\n      var j = 0;\n      var key;\n      while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n    } return T;\n  } : $assign;\n\n  // 19.1.3.1 Object.assign(target, source)\n\n\n  _export(_export.S + _export.F, 'Object', { assign: _objectAssign });\n\n  // @@replace logic\n  _fixReWks('replace', 2, function (defined, REPLACE, $replace) {\n    // 21.1.3.14 String.prototype.replace(searchValue, replaceValue)\n    return [function replace(searchValue, replaceValue) {\n      var O = defined(this);\n      var fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return fn !== undefined\n        ? fn.call(searchValue, O, replaceValue)\n        : $replace.call(String(O), searchValue, replaceValue);\n    }, $replace];\n  });\n\n  /*! Hammer.JS - v2.0.7 - 2016-04-22\n   * http://hammerjs.github.io/\n   *\n   * Copyright (c) 2016 Jorik Tangelder;\n   * Licensed under the MIT license */\n  var VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\n\n  var TEST_ELEMENT = function TEST_ELEMENT() {\n    return document.createElement('div');\n  };\n\n  var TYPE_FUNCTION = 'function';\n  var round = Math.round;\n  var abs = Math.abs;\n  var now = Date.now;\n  /**\n   * set a timeout with a given scope\n   * @param {Function} fn\n   * @param {Number} timeout\n   * @param {Object} context\n   * @returns {number}\n   */\n\n  function setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n  }\n  /**\n   * if the argument is an array, we want to execute the fn on each entry\n   * if it aint an array we don't want to do a thing.\n   * this is used by all the methods that accept a single and array argument.\n   * @param {*|Array} arg\n   * @param {String} fn\n   * @param {Object} [context]\n   * @returns {Boolean}\n   */\n\n\n  function invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n      each(arg, context[fn], context);\n      return true;\n    }\n\n    return false;\n  }\n  /**\n   * walk objects and arrays\n   * @param {Object} obj\n   * @param {Function} iterator\n   * @param {Object} context\n   */\n\n\n  function each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n      return;\n    }\n\n    if (obj.forEach) {\n      obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n      i = 0;\n\n      while (i < obj.length) {\n        iterator.call(context, obj[i], i, obj);\n        i++;\n      }\n    } else {\n      for (i in obj) {\n        obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n      }\n    }\n  }\n  /**\n   * wrap a method with a deprecation warning and stack trace\n   * @param {Function} method\n   * @param {String} name\n   * @param {String} message\n   * @returns {Function} A new function wrapping the supplied method.\n   */\n\n\n  function deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function () {\n      var e = new Error('get-stack-trace');\n      var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '').replace(/^\\s+at\\s+/gm, '').replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n      var log = window.console && (window.console.warn || window.console.log);\n\n      if (log) {\n        log.call(window.console, deprecationMessage, stack);\n      }\n\n      return method.apply(this, arguments);\n    };\n  }\n  /**\n   * extend object.\n   * means that properties in dest will be overwritten by the ones in src.\n   * @param {Object} target\n   * @param {...Object} objects_to_assign\n   * @returns {Object} target\n   */\n\n\n  var assign;\n\n  if (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n      if (target === undefined || target === null) {\n        throw new TypeError('Cannot convert undefined or null to object');\n      }\n\n      var output = Object(target);\n\n      for (var index = 1; index < arguments.length; index++) {\n        var source = arguments[index];\n\n        if (source !== undefined && source !== null) {\n          for (var nextKey in source) {\n            if (source.hasOwnProperty(nextKey)) {\n              output[nextKey] = source[nextKey];\n            }\n          }\n        }\n      }\n\n      return output;\n    };\n  } else {\n    assign = Object.assign;\n  }\n  /**\n   * extend object.\n   * means that properties in dest will be overwritten by the ones in src.\n   * @param {Object} dest\n   * @param {Object} src\n   * @param {Boolean} [merge=false]\n   * @returns {Object} dest\n   */\n\n\n  var extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n\n    while (i < keys.length) {\n      if (!merge || merge && dest[keys[i]] === undefined) {\n        dest[keys[i]] = src[keys[i]];\n      }\n\n      i++;\n    }\n\n    return dest;\n  }, 'extend', 'Use `assign`.');\n  /**\n   * merge the values from src in the dest.\n   * means that properties that exist in dest will not be overwritten by src\n   * @param {Object} dest\n   * @param {Object} src\n   * @returns {Object} dest\n   */\n\n  var merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n  }, 'merge', 'Use `assign`.');\n  /**\n   * simple class inheritance\n   * @param {Function} child\n   * @param {Function} base\n   * @param {Object} [properties]\n   */\n\n  function inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n      assign(childP, properties);\n    }\n  }\n  /**\n   * simple function bind\n   * @param {Function} fn\n   * @param {Object} context\n   * @returns {Function}\n   */\n\n\n  function bindFn(fn, context) {\n    return function boundFn() {\n      return fn.apply(context, arguments);\n    };\n  }\n  /**\n   * let a boolean value also be a function that must return a boolean\n   * this first item in args will be used as the context\n   * @param {Boolean|Function} val\n   * @param {Array} [args]\n   * @returns {Boolean}\n   */\n\n\n  function boolOrFn(val, args) {\n    if (_typeof(val) == TYPE_FUNCTION) {\n      return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n\n    return val;\n  }\n  /**\n   * use the val2 when val1 is undefined\n   * @param {*} val1\n   * @param {*} val2\n   * @returns {*}\n   */\n\n\n  function ifUndefined(val1, val2) {\n    return val1 === undefined ? val2 : val1;\n  }\n  /**\n   * addEventListener with multiple events at once\n   * @param {EventTarget} target\n   * @param {String} types\n   * @param {Function} handler\n   */\n\n\n  function addEventListeners(target, types, handler) {\n    each(splitStr(types), function (type) {\n      target.addEventListener(type, handler, false);\n    });\n  }\n  /**\n   * removeEventListener with multiple events at once\n   * @param {EventTarget} target\n   * @param {String} types\n   * @param {Function} handler\n   */\n\n\n  function removeEventListeners(target, types, handler) {\n    each(splitStr(types), function (type) {\n      target.removeEventListener(type, handler, false);\n    });\n  }\n  /**\n   * find if a node is in the given parent\n   * @method hasParent\n   * @param {HTMLElement} node\n   * @param {HTMLElement} parent\n   * @return {Boolean} found\n   */\n\n\n  function hasParent(node, parent) {\n    while (node) {\n      if (node == parent) {\n        return true;\n      }\n\n      node = node.parentNode;\n    }\n\n    return false;\n  }\n  /**\n   * small indexOf wrapper\n   * @param {String} str\n   * @param {String} find\n   * @returns {Boolean} found\n   */\n\n\n  function inStr(str, find) {\n    return str.indexOf(find) > -1;\n  }\n  /**\n   * split string on whitespace\n   * @param {String} str\n   * @returns {Array} words\n   */\n\n\n  function splitStr(str) {\n    return str.trim().split(/\\s+/g);\n  }\n  /**\n   * find if a array contains the object using indexOf or a simple polyFill\n   * @param {Array} src\n   * @param {String} find\n   * @param {String} [findByKey]\n   * @return {Boolean|Number} false when not found, or the index\n   */\n\n\n  function inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n      return src.indexOf(find);\n    } else {\n      var i = 0;\n\n      while (i < src.length) {\n        if (findByKey && src[i][findByKey] == find || !findByKey && src[i] === find) {\n          return i;\n        }\n\n        i++;\n      }\n\n      return -1;\n    }\n  }\n  /**\n   * convert array-like objects to real arrays\n   * @param {Object} obj\n   * @returns {Array}\n   */\n\n\n  function toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n  }\n  /**\n   * unique array with objects based on a key (like 'id') or just by the array's value\n   * @param {Array} src [{id:1},{id:2},{id:1}]\n   * @param {String} [key]\n   * @param {Boolean} [sort=False]\n   * @returns {Array} [{id:1},{id:2}]\n   */\n\n\n  function uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n      var val = key ? src[i][key] : src[i];\n\n      if (inArray(values, val) < 0) {\n        results.push(src[i]);\n      }\n\n      values[i] = val;\n      i++;\n    }\n\n    if (sort) {\n      if (!key) {\n        results = results.sort();\n      } else {\n        results = results.sort(function sortUniqueArray(a, b) {\n          return a[key] > b[key];\n        });\n      }\n    }\n\n    return results;\n  }\n  /**\n   * get the prefixed property\n   * @param {Object} obj\n   * @param {String} property\n   * @returns {String|Undefined} prefixed\n   */\n\n\n  function prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n    var i = 0;\n\n    while (i < VENDOR_PREFIXES.length) {\n      prefix = VENDOR_PREFIXES[i];\n      prop = prefix ? prefix + camelProp : property;\n\n      if (prop in obj) {\n        return prop;\n      }\n\n      i++;\n    }\n\n    return undefined;\n  }\n  /**\n   * get a unique id\n   * @returns {number} uniqueId\n   */\n\n\n  var _uniqueId = 1;\n\n  function uniqueId() {\n    return _uniqueId++;\n  }\n  /**\n   * get the window object of an element\n   * @param {HTMLElement} element\n   * @returns {DocumentView|Window}\n   */\n\n\n  function getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return doc.defaultView || doc.parentWindow || window;\n  }\n\n  var MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\n  var SUPPORT_TOUCH = function SUPPORT_TOUCH() {\n    return 'ontouchstart' in window;\n  };\n\n  var SUPPORT_POINTER_EVENTS = function SUPPORT_POINTER_EVENTS() {\n    return prefixed(window, 'PointerEvent') !== undefined;\n  };\n\n  var SUPPORT_ONLY_TOUCH = function SUPPORT_ONLY_TOUCH() {\n    return SUPPORT_TOUCH() && MOBILE_REGEX.test(navigator.userAgent);\n  };\n\n  var INPUT_TYPE_TOUCH = 'touch';\n  var INPUT_TYPE_PEN = 'pen';\n  var INPUT_TYPE_MOUSE = 'mouse';\n  var INPUT_TYPE_KINECT = 'kinect';\n  var COMPUTE_INTERVAL = 25;\n  var INPUT_START = 1;\n  var INPUT_MOVE = 2;\n  var INPUT_END = 4;\n  var INPUT_CANCEL = 8;\n  var DIRECTION_NONE = 1;\n  var DIRECTION_LEFT = 2;\n  var DIRECTION_RIGHT = 4;\n  var DIRECTION_UP = 8;\n  var DIRECTION_DOWN = 16;\n  var DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\n  var DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\n  var DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n  var PROPS_XY = ['x', 'y'];\n  var PROPS_CLIENT_XY = ['clientX', 'clientY'];\n  /**\n   * create new input type manager\n   * @param {Manager} manager\n   * @param {Function} callback\n   * @returns {Input}\n   * @constructor\n   */\n\n  function Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget; // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n\n    this.domHandler = function (ev) {\n      if (boolOrFn(manager.options.enable, [manager])) {\n        self.handler(ev);\n      }\n    };\n\n    this.init();\n  }\n\n  Input.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function handler() {},\n\n    /**\n     * bind the events\n     */\n    init: function init() {\n      this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n      this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n      this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function destroy() {\n      this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n      this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n      this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n  };\n  /**\n   * create new input type manager\n   * called by the Manager constructor\n   * @param {Hammer} manager\n   * @returns {Input}\n   */\n\n  function createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n      Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS()) {\n      Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH()) {\n      Type = TouchInput;\n    } else if (!SUPPORT_TOUCH()) {\n      Type = MouseInput;\n    } else {\n      Type = TouchMouseInput;\n    }\n\n    return new Type(manager, inputHandler);\n  }\n  /**\n   * handle input events\n   * @param {Manager} manager\n   * @param {String} eventType\n   * @param {Object} input\n   */\n\n\n  function inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = eventType & INPUT_START && pointersLen - changedPointersLen === 0;\n    var isFinal = eventType & (INPUT_END | INPUT_CANCEL) && pointersLen - changedPointersLen === 0;\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n      manager.session = {};\n    } // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n\n\n    input.eventType = eventType; // compute scale, rotation etc\n\n    computeInputData(manager, input); // emit secret event\n\n    manager.emit('hammer.input', input);\n    manager.recognize(input);\n    manager.session.prevInput = input;\n  }\n  /**\n   * extend the data with some usable properties like scale, rotate, velocity etc\n   * @param {Object} manager\n   * @param {Object} input\n   */\n\n\n  function computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length; // store the first input to calculate the distance and direction\n\n    if (!session.firstInput) {\n      session.firstInput = simpleCloneInputData(input);\n    } // to compute scale and rotation we need to store the multiple touches\n\n\n    if (pointersLength > 1 && !session.firstMultiple) {\n      session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n      session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = abs(overallVelocity.x) > abs(overallVelocity.y) ? overallVelocity.x : overallVelocity.y;\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n    input.maxPointers = !session.prevInput ? input.pointers.length : input.pointers.length > session.prevInput.maxPointers ? input.pointers.length : session.prevInput.maxPointers;\n    computeIntervalInputData(session, input); // find the correct target\n\n    var target = manager.element;\n\n    if (hasParent(input.srcEvent.target, target)) {\n      target = input.srcEvent.target;\n    }\n\n    input.target = target;\n  }\n\n  function computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n      prevDelta = session.prevDelta = {\n        x: prevInput.deltaX || 0,\n        y: prevInput.deltaY || 0\n      };\n      offset = session.offsetDelta = {\n        x: center.x,\n        y: center.y\n      };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n  }\n  /**\n   * velocity is calculated every x ms\n   * @param {Object} session\n   * @param {Object} input\n   */\n\n\n  function computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity,\n        velocityX,\n        velocityY,\n        direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n      var deltaX = input.deltaX - last.deltaX;\n      var deltaY = input.deltaY - last.deltaY;\n      var v = getVelocity(deltaTime, deltaX, deltaY);\n      velocityX = v.x;\n      velocityY = v.y;\n      velocity = abs(v.x) > abs(v.y) ? v.x : v.y;\n      direction = getDirection(deltaX, deltaY);\n      session.lastInterval = input;\n    } else {\n      // use latest velocity info if it doesn't overtake a minimum period\n      velocity = last.velocity;\n      velocityX = last.velocityX;\n      velocityY = last.velocityY;\n      direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n  }\n  /**\n   * create a simple clone from the input used for storage of firstInput and firstMultiple\n   * @param {Object} input\n   * @returns {Object} clonedInputData\n   */\n\n\n  function simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n\n    while (i < input.pointers.length) {\n      pointers[i] = {\n        clientX: round(input.pointers[i].clientX),\n        clientY: round(input.pointers[i].clientY)\n      };\n      i++;\n    }\n\n    return {\n      timeStamp: now(),\n      pointers: pointers,\n      center: getCenter(pointers),\n      deltaX: input.deltaX,\n      deltaY: input.deltaY\n    };\n  }\n  /**\n   * get the center of all the pointers\n   * @param {Array} pointers\n   * @return {Object} center contains `x` and `y` properties\n   */\n\n\n  function getCenter(pointers) {\n    var pointersLength = pointers.length; // no need to loop when only one touch\n\n    if (pointersLength === 1) {\n      return {\n        x: round(pointers[0].clientX),\n        y: round(pointers[0].clientY)\n      };\n    }\n\n    var x = 0,\n        y = 0,\n        i = 0;\n\n    while (i < pointersLength) {\n      x += pointers[i].clientX;\n      y += pointers[i].clientY;\n      i++;\n    }\n\n    return {\n      x: round(x / pointersLength),\n      y: round(y / pointersLength)\n    };\n  }\n  /**\n   * calculate the velocity between two points. unit is in px per ms.\n   * @param {Number} deltaTime\n   * @param {Number} x\n   * @param {Number} y\n   * @return {Object} velocity `x` and `y`\n   */\n\n\n  function getVelocity(deltaTime, x, y) {\n    return {\n      x: x / deltaTime || 0,\n      y: y / deltaTime || 0\n    };\n  }\n  /**\n   * get the direction between two points\n   * @param {Number} x\n   * @param {Number} y\n   * @return {Number} direction\n   */\n\n\n  function getDirection(x, y) {\n    if (x === y) {\n      return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n      return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n  }\n  /**\n   * calculate the absolute distance between two points\n   * @param {Object} p1 {x, y}\n   * @param {Object} p2 {x, y}\n   * @param {Array} [props] containing x and y keys\n   * @return {Number} distance\n   */\n\n\n  function getDistance(p1, p2, props) {\n    if (!props) {\n      props = PROPS_XY;\n    }\n\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.sqrt(x * x + y * y);\n  }\n  /**\n   * calculate the angle between two coordinates\n   * @param {Object} p1\n   * @param {Object} p2\n   * @param {Array} [props] containing x and y keys\n   * @return {Number} angle\n   */\n\n\n  function getAngle(p1, p2, props) {\n    if (!props) {\n      props = PROPS_XY;\n    }\n\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n  }\n  /**\n   * calculate the rotation degrees between two pointersets\n   * @param {Array} start array of pointers\n   * @param {Array} end array of pointers\n   * @return {Number} rotation\n   */\n\n\n  function getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n  }\n  /**\n   * calculate the scale factor between two pointersets\n   * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n   * @param {Array} start array of pointers\n   * @param {Array} end array of pointers\n   * @return {Number} scale\n   */\n\n\n  function getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n  }\n\n  var MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n  };\n  var MOUSE_ELEMENT_EVENTS = 'mousedown';\n  var MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n  /**\n   * Mouse events input\n   * @constructor\n   * @extends Input\n   */\n\n  function MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n  }\n\n  inherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n      var eventType = MOUSE_INPUT_MAP[ev.type]; // on start we want to have the left mouse button down\n\n      if (eventType & INPUT_START && ev.button === 0) {\n        this.pressed = true;\n      }\n\n      if (eventType & INPUT_MOVE && ev.which !== 1) {\n        eventType = INPUT_END;\n      } // mouse must be down\n\n\n      if (!this.pressed) {\n        return;\n      }\n\n      if (eventType & INPUT_END) {\n        this.pressed = false;\n      }\n\n      this.callback(this.manager, eventType, {\n        pointers: [ev],\n        changedPointers: [ev],\n        pointerType: INPUT_TYPE_MOUSE,\n        srcEvent: ev\n      });\n    }\n  });\n  var POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n  }; // in IE10 the pointer types is defined as an enum\n\n  var IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n\n  };\n  var POINTER_ELEMENT_EVENTS = 'pointerdown';\n  var POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel'; // IE10 has prefixed support, and case-sensitive\n\n  if (typeof window !== 'undefined' && window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n  }\n  /**\n   * Pointer events input\n   * @constructor\n   * @extends Input\n   */\n\n\n  function PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n    Input.apply(this, arguments);\n    this.store = this.manager.session.pointerEvents = [];\n  }\n\n  inherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n      var store = this.store;\n      var removePointer = false;\n      var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n      var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n      var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n      var isTouch = pointerType == INPUT_TYPE_TOUCH; // get index of the event in the store\n\n      var storeIndex = inArray(store, ev.pointerId, 'pointerId'); // start and mouse must be down\n\n      if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n        if (storeIndex < 0) {\n          store.push(ev);\n          storeIndex = store.length - 1;\n        }\n      } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        removePointer = true;\n      } // it not found, so the pointer hasn't been down (so it's probably a hover)\n\n\n      if (storeIndex < 0) {\n        return;\n      } // update the event in the store\n\n\n      store[storeIndex] = ev;\n      this.callback(this.manager, eventType, {\n        pointers: store,\n        changedPointers: [ev],\n        pointerType: pointerType,\n        srcEvent: ev\n      });\n\n      if (removePointer) {\n        // remove from the store\n        store.splice(storeIndex, 1);\n      }\n    }\n  });\n  var SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n  };\n  var SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\n  var SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n  /**\n   * Touch events input\n   * @constructor\n   * @extends Input\n   */\n\n  function SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n    Input.apply(this, arguments);\n  }\n\n  inherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n      var type = SINGLE_TOUCH_INPUT_MAP[ev.type]; // should we handle the touch events?\n\n      if (type === INPUT_START) {\n        this.started = true;\n      }\n\n      if (!this.started) {\n        return;\n      }\n\n      var touches = normalizeSingleTouches.call(this, ev, type); // when done, reset the started state\n\n      if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n        this.started = false;\n      }\n\n      this.callback(this.manager, type, {\n        pointers: touches[0],\n        changedPointers: touches[1],\n        pointerType: INPUT_TYPE_TOUCH,\n        srcEvent: ev\n      });\n    }\n  });\n  /**\n   * @this {TouchInput}\n   * @param {Object} ev\n   * @param {Number} type flag\n   * @returns {undefined|Array} [all, changed]\n   */\n\n  function normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n      all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n  }\n\n  var TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n  };\n  var TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n  /**\n   * Multi-user touch events input\n   * @constructor\n   * @extends Input\n   */\n\n  function TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n    Input.apply(this, arguments);\n  }\n\n  inherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n      var type = TOUCH_INPUT_MAP[ev.type];\n      var touches = getTouches.call(this, ev, type);\n\n      if (!touches) {\n        return;\n      }\n\n      this.callback(this.manager, type, {\n        pointers: touches[0],\n        changedPointers: touches[1],\n        pointerType: INPUT_TYPE_TOUCH,\n        srcEvent: ev\n      });\n    }\n  });\n  /**\n   * @this {TouchInput}\n   * @param {Object} ev\n   * @param {Number} type flag\n   * @returns {undefined|Array} [all, changed]\n   */\n\n  function getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds; // when there is only one touch, the process can be simplified\n\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n      targetIds[allTouches[0].identifier] = true;\n      return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target; // get target touches from touches\n\n    targetTouches = allTouches.filter(function (touch) {\n      return hasParent(touch.target, target);\n    }); // collect touches\n\n    if (type === INPUT_START) {\n      i = 0;\n\n      while (i < targetTouches.length) {\n        targetIds[targetTouches[i].identifier] = true;\n        i++;\n      }\n    } // filter changed touches to only contain touches that exist in the collected target ids\n\n\n    i = 0;\n\n    while (i < changedTouches.length) {\n      if (targetIds[changedTouches[i].identifier]) {\n        changedTargetTouches.push(changedTouches[i]);\n      } // cleanup removed touches\n\n\n      if (type & (INPUT_END | INPUT_CANCEL)) {\n        delete targetIds[changedTouches[i].identifier];\n      }\n\n      i++;\n    }\n\n    if (!changedTargetTouches.length) {\n      return;\n    }\n\n    return [// merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n    uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true), changedTargetTouches];\n  }\n  /**\n   * Combined touch and mouse input\n   *\n   * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n   * This because touch devices also emit mouse events while doing a touch.\n   *\n   * @constructor\n   * @extends Input\n   */\n\n\n  var DEDUP_TIMEOUT = 2500;\n  var DEDUP_DISTANCE = 25;\n\n  function TouchMouseInput() {\n    Input.apply(this, arguments);\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n    this.primaryTouch = null;\n    this.lastTouches = [];\n  }\n\n  inherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n      var isTouch = inputData.pointerType == INPUT_TYPE_TOUCH,\n          isMouse = inputData.pointerType == INPUT_TYPE_MOUSE;\n\n      if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n        return;\n      } // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n\n\n      if (isTouch) {\n        recordTouches.call(this, inputEvent, inputData);\n      } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n        return;\n      }\n\n      this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n      this.touch.destroy();\n      this.mouse.destroy();\n    }\n  });\n\n  function recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n      this.primaryTouch = eventData.changedPointers[0].identifier;\n      setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n      setLastTouch.call(this, eventData);\n    }\n  }\n\n  function setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n      var lastTouch = {\n        x: touch.clientX,\n        y: touch.clientY\n      };\n      this.lastTouches.push(lastTouch);\n      var lts = this.lastTouches;\n\n      var removeLastTouch = function removeLastTouch() {\n        var i = lts.indexOf(lastTouch);\n\n        if (i > -1) {\n          lts.splice(i, 1);\n        }\n      };\n\n      setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n  }\n\n  function isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX,\n        y = eventData.srcEvent.clientY;\n\n    for (var i = 0; i < this.lastTouches.length; i++) {\n      var t = this.lastTouches[i];\n      var dx = Math.abs(x - t.x),\n          dy = Math.abs(y - t.y);\n\n      if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  var PREFIXED_TOUCH_ACTION = function PREFIXED_TOUCH_ACTION() {\n    return prefixed(TEST_ELEMENT().style, 'touchAction');\n  };\n\n  var NATIVE_TOUCH_ACTION = function NATIVE_TOUCH_ACTION() {\n    return PREFIXED_TOUCH_ACTION() !== undefined;\n  }; // magical touchAction value\n\n\n  var TOUCH_ACTION_COMPUTE = 'compute';\n  var TOUCH_ACTION_AUTO = 'auto';\n  var TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\n\n  var TOUCH_ACTION_NONE = 'none';\n  var TOUCH_ACTION_PAN_X = 'pan-x';\n  var TOUCH_ACTION_PAN_Y = 'pan-y';\n  /**\n   * Touch Action\n   * sets the touchAction property or uses the js alternative\n   * @param {Manager} manager\n   * @param {String} value\n   * @constructor\n   */\n\n  function TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n  }\n\n  TouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function set(value) {\n      // find out the touch-action by the event handlers\n      if (value == TOUCH_ACTION_COMPUTE) {\n        value = this.compute();\n      }\n\n      var TOUCH_ACTION_MAP = getTouchActionProps();\n\n      if (NATIVE_TOUCH_ACTION() && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n        this.manager.element.style[PREFIXED_TOUCH_ACTION()] = value;\n      }\n\n      this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function update() {\n      this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function compute() {\n      var actions = [];\n      each(this.manager.recognizers, function (recognizer) {\n        if (boolOrFn(recognizer.options.enable, [recognizer])) {\n          actions = actions.concat(recognizer.getTouchAction());\n        }\n      });\n      return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function preventDefaults(input) {\n      var srcEvent = input.srcEvent;\n      var direction = input.offsetDirection; // if the touch action did prevented once this session\n\n      if (this.manager.session.prevented) {\n        srcEvent.preventDefault();\n        return;\n      }\n\n      var actions = this.actions;\n      var TOUCH_ACTION_MAP = getTouchActionProps();\n      var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n      var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n      var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n      if (hasNone) {\n        //do not prevent defaults if this is a tap gesture\n        var isTapPointer = input.pointers.length === 1;\n        var isTapMovement = input.distance < 2;\n        var isTapTouchTime = input.deltaTime < 250;\n\n        if (isTapPointer && isTapMovement && isTapTouchTime) {\n          return;\n        }\n      }\n\n      if (hasPanX && hasPanY) {\n        // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n        return;\n      }\n\n      if (hasNone || hasPanY && direction & DIRECTION_HORIZONTAL || hasPanX && direction & DIRECTION_VERTICAL) {\n        return this.preventSrc(srcEvent);\n      }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function preventSrc(srcEvent) {\n      this.manager.session.prevented = true;\n      srcEvent.preventDefault();\n    }\n  };\n  /**\n   * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n   * @param {String} actions\n   * @returns {*}\n   */\n\n  function cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n      return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y); // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n\n    if (hasPanX && hasPanY) {\n      return TOUCH_ACTION_NONE;\n    } // pan-x OR pan-y\n\n\n    if (hasPanX || hasPanY) {\n      return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    } // manipulation\n\n\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n      return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n  }\n\n  function getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION()) {\n      return false;\n    }\n\n    var touchMap = {};\n\n    var cssSupports = function cssSupports() {\n      return window.CSS && window.CSS.supports;\n    };\n\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function (val) {\n      // If css.supports is not supported but there is native touch-action assume it supports\n      // all values. This is the case for IE 10 and 11.\n      touchMap[val] = cssSupports() ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n  }\n  /**\n   * Recognizer flow explained; *\n   * All recognizers have the initial state of POSSIBLE when a input session starts.\n   * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n   * Example session for mouse-input: mousedown -> mousemove -> mouseup\n   *\n   * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n   * which determines with state it should be.\n   *\n   * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n   * POSSIBLE to give it another change on the next cycle.\n   *\n   *               Possible\n   *                  |\n   *            +-----+---------------+\n   *            |                     |\n   *      +-----+-----+               |\n   *      |           |               |\n   *   Failed      Cancelled          |\n   *                          +-------+------+\n   *                          |              |\n   *                      Recognized       Began\n   *                                         |\n   *                                      Changed\n   *                                         |\n   *                                  Ended/Recognized\n   */\n\n\n  var STATE_POSSIBLE = 1;\n  var STATE_BEGAN = 2;\n  var STATE_CHANGED = 4;\n  var STATE_ENDED = 8;\n  var STATE_RECOGNIZED = STATE_ENDED;\n  var STATE_CANCELLED = 16;\n  var STATE_FAILED = 32;\n  /**\n   * Recognizer\n   * Every recognizer needs to extend from this class.\n   * @constructor\n   * @param {Object} options\n   */\n\n  function Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n    this.id = uniqueId();\n    this.manager = null; // default is enable true\n\n    this.options.enable = ifUndefined(this.options.enable, true);\n    this.state = STATE_POSSIBLE;\n    this.simultaneous = {};\n    this.requireFail = [];\n  }\n\n  Recognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function set(options) {\n      assign(this.options, options); // also update the touchAction, in case something changed about the directions/enabled state\n\n      this.manager && this.manager.touchAction.update();\n      return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function recognizeWith(otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n        return this;\n      }\n\n      var simultaneous = this.simultaneous;\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n\n      if (!simultaneous[otherRecognizer.id]) {\n        simultaneous[otherRecognizer.id] = otherRecognizer;\n        otherRecognizer.recognizeWith(this);\n      }\n\n      return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function dropRecognizeWith(otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n        return this;\n      }\n\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n      delete this.simultaneous[otherRecognizer.id];\n      return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function requireFailure(otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n        return this;\n      }\n\n      var requireFail = this.requireFail;\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n\n      if (inArray(requireFail, otherRecognizer) === -1) {\n        requireFail.push(otherRecognizer);\n        otherRecognizer.requireFailure(this);\n      }\n\n      return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function dropRequireFailure(otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n        return this;\n      }\n\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n      var index = inArray(this.requireFail, otherRecognizer);\n\n      if (index > -1) {\n        this.requireFail.splice(index, 1);\n      }\n\n      return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function hasRequireFailures() {\n      return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function canRecognizeWith(otherRecognizer) {\n      return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function emit(input) {\n      var self = this;\n      var state = this.state;\n\n      function emit(event) {\n        self.manager.emit(event, input);\n      } // 'panstart' and 'panmove'\n\n\n      if (state < STATE_ENDED) {\n        emit(self.options.event + stateStr(state));\n      }\n\n      emit(self.options.event); // simple 'eventName' events\n\n      if (input.additionalEvent) {\n        // additional event(panleft, panright, pinchin, pinchout...)\n        emit(input.additionalEvent);\n      } // panend and pancancel\n\n\n      if (state >= STATE_ENDED) {\n        emit(self.options.event + stateStr(state));\n      }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function tryEmit(input) {\n      if (this.canEmit()) {\n        return this.emit(input);\n      } // it's failing anyway\n\n\n      this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function canEmit() {\n      var i = 0;\n\n      while (i < this.requireFail.length) {\n        if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n          return false;\n        }\n\n        i++;\n      }\n\n      return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function recognize(inputData) {\n      // make a new copy of the inputData\n      // so we can change the inputData without messing up the other recognizers\n      var inputDataClone = assign({}, inputData); // is is enabled and allow recognizing?\n\n      if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n        this.reset();\n        this.state = STATE_FAILED;\n        return;\n      } // reset when we've reached the end\n\n\n      if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n        this.state = STATE_POSSIBLE;\n      }\n\n      this.state = this.process(inputDataClone); // the recognizer has recognized a gesture\n      // so trigger an event\n\n      if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n        this.tryEmit(inputDataClone);\n      }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function process(inputData) {},\n    // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function getTouchAction() {},\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function reset() {}\n  };\n  /**\n   * get a usable string, used as event postfix\n   * @param {Const} state\n   * @returns {String} state\n   */\n\n  function stateStr(state) {\n    if (state & STATE_CANCELLED) {\n      return 'cancel';\n    } else if (state & STATE_ENDED) {\n      return 'end';\n    } else if (state & STATE_CHANGED) {\n      return 'move';\n    } else if (state & STATE_BEGAN) {\n      return 'start';\n    }\n\n    return '';\n  }\n  /**\n   * direction cons to string\n   * @param {Const} direction\n   * @returns {String}\n   */\n\n\n  function directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n      return 'down';\n    } else if (direction == DIRECTION_UP) {\n      return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n      return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n      return 'right';\n    }\n\n    return '';\n  }\n  /**\n   * get a recognizer by name if it is bound to a manager\n   * @param {Recognizer|String} otherRecognizer\n   * @param {Recognizer} recognizer\n   * @returns {Recognizer}\n   */\n\n\n  function getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n\n    if (manager) {\n      return manager.get(otherRecognizer);\n    }\n\n    return otherRecognizer;\n  }\n  /**\n   * This recognizer is just used as a base for the simple attribute recognizers.\n   * @constructor\n   * @extends Recognizer\n   */\n\n\n  function AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n  }\n\n  inherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n      /**\n       * @type {Number}\n       * @default 1\n       */\n      pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function attrTest(input) {\n      var optionPointers = this.options.pointers;\n      return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function process(input) {\n      var state = this.state;\n      var eventType = input.eventType;\n      var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n      var isValid = this.attrTest(input); // on cancel input and we've recognized before, return STATE_CANCELLED\n\n      if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n        return state | STATE_CANCELLED;\n      } else if (isRecognized || isValid) {\n        if (eventType & INPUT_END) {\n          return state | STATE_ENDED;\n        } else if (!(state & STATE_BEGAN)) {\n          return STATE_BEGAN;\n        }\n\n        return state | STATE_CHANGED;\n      }\n\n      return STATE_FAILED;\n    }\n  });\n  /**\n   * Pan\n   * Recognized when the pointer is down and moved in the allowed direction.\n   * @constructor\n   * @extends AttrRecognizer\n   */\n\n  function PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n    this.pX = null;\n    this.pY = null;\n  }\n\n  inherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n      event: 'pan',\n      threshold: 10,\n      pointers: 1,\n      direction: DIRECTION_ALL\n    },\n    getTouchAction: function getTouchAction() {\n      var direction = this.options.direction;\n      var actions = [];\n\n      if (direction & DIRECTION_HORIZONTAL) {\n        actions.push(TOUCH_ACTION_PAN_Y);\n      }\n\n      if (direction & DIRECTION_VERTICAL) {\n        actions.push(TOUCH_ACTION_PAN_X);\n      }\n\n      return actions;\n    },\n    directionTest: function directionTest(input) {\n      var options = this.options;\n      var hasMoved = true;\n      var distance = input.distance;\n      var direction = input.direction;\n      var x = input.deltaX;\n      var y = input.deltaY; // lock to axis?\n\n      if (!(direction & options.direction)) {\n        if (options.direction & DIRECTION_HORIZONTAL) {\n          direction = x === 0 ? DIRECTION_NONE : x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n          hasMoved = x != this.pX;\n          distance = Math.abs(input.deltaX);\n        } else {\n          direction = y === 0 ? DIRECTION_NONE : y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n          hasMoved = y != this.pY;\n          distance = Math.abs(input.deltaY);\n        }\n      }\n\n      input.direction = direction;\n      return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n    attrTest: function attrTest(input) {\n      return AttrRecognizer.prototype.attrTest.call(this, input) && (this.state & STATE_BEGAN || !(this.state & STATE_BEGAN) && this.directionTest(input));\n    },\n    emit: function emit(input) {\n      this.pX = input.deltaX;\n      this.pY = input.deltaY;\n      var direction = directionStr(input.direction);\n\n      if (direction) {\n        input.additionalEvent = this.options.event + direction;\n      }\n\n      this._super.emit.call(this, input);\n    }\n  });\n  /**\n   * Pinch\n   * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n   * @constructor\n   * @extends AttrRecognizer\n   */\n\n  function PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n  }\n\n  inherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n      event: 'pinch',\n      threshold: 0,\n      pointers: 2\n    },\n    getTouchAction: function getTouchAction() {\n      return [TOUCH_ACTION_NONE];\n    },\n    attrTest: function attrTest(input) {\n      return this._super.attrTest.call(this, input) && (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n    emit: function emit(input) {\n      if (input.scale !== 1) {\n        var inOut = input.scale < 1 ? 'in' : 'out';\n        input.additionalEvent = this.options.event + inOut;\n      }\n\n      this._super.emit.call(this, input);\n    }\n  });\n  /**\n   * Press\n   * Recognized when the pointer is down for x ms without any movement.\n   * @constructor\n   * @extends Recognizer\n   */\n\n  function PressRecognizer() {\n    Recognizer.apply(this, arguments);\n    this._timer = null;\n    this._input = null;\n  }\n\n  inherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n      event: 'press',\n      pointers: 1,\n      time: 251,\n      // minimal time of the pointer to be pressed\n      threshold: 9 // a minimal movement is ok, but keep it low\n\n    },\n    getTouchAction: function getTouchAction() {\n      return [TOUCH_ACTION_AUTO];\n    },\n    process: function process(input) {\n      var options = this.options;\n      var validPointers = input.pointers.length === options.pointers;\n      var validMovement = input.distance < options.threshold;\n      var validTime = input.deltaTime > options.time;\n      this._input = input; // we only allow little movement\n      // and we've reached an end event, so a tap is possible\n\n      if (!validMovement || !validPointers || input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime) {\n        this.reset();\n      } else if (input.eventType & INPUT_START) {\n        this.reset();\n        this._timer = setTimeoutContext(function () {\n          this.state = STATE_RECOGNIZED;\n          this.tryEmit();\n        }, options.time, this);\n      } else if (input.eventType & INPUT_END) {\n        return STATE_RECOGNIZED;\n      }\n\n      return STATE_FAILED;\n    },\n    reset: function reset() {\n      clearTimeout(this._timer);\n    },\n    emit: function emit(input) {\n      if (this.state !== STATE_RECOGNIZED) {\n        return;\n      }\n\n      if (input && input.eventType & INPUT_END) {\n        this.manager.emit(this.options.event + 'up', input);\n      } else {\n        this._input.timeStamp = now();\n        this.manager.emit(this.options.event, this._input);\n      }\n    }\n  });\n  /**\n   * Rotate\n   * Recognized when two or more pointer are moving in a circular motion.\n   * @constructor\n   * @extends AttrRecognizer\n   */\n\n  function RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n  }\n\n  inherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n      event: 'rotate',\n      threshold: 0,\n      pointers: 2\n    },\n    getTouchAction: function getTouchAction() {\n      return [TOUCH_ACTION_NONE];\n    },\n    attrTest: function attrTest(input) {\n      return this._super.attrTest.call(this, input) && (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n  });\n  /**\n   * Swipe\n   * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n   * @constructor\n   * @extends AttrRecognizer\n   */\n\n  function SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n  }\n\n  inherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n      event: 'swipe',\n      threshold: 10,\n      velocity: 0.3,\n      direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n      pointers: 1\n    },\n    getTouchAction: function getTouchAction() {\n      return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n    attrTest: function attrTest(input) {\n      var direction = this.options.direction;\n      var velocity;\n\n      if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n        velocity = input.overallVelocity;\n      } else if (direction & DIRECTION_HORIZONTAL) {\n        velocity = input.overallVelocityX;\n      } else if (direction & DIRECTION_VERTICAL) {\n        velocity = input.overallVelocityY;\n      }\n\n      return this._super.attrTest.call(this, input) && direction & input.offsetDirection && input.distance > this.options.threshold && input.maxPointers == this.options.pointers && abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n    emit: function emit(input) {\n      var direction = directionStr(input.offsetDirection);\n\n      if (direction) {\n        this.manager.emit(this.options.event + direction, input);\n      }\n\n      this.manager.emit(this.options.event, input);\n    }\n  });\n  /**\n   * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n   * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n   * a single tap.\n   *\n   * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n   * multi-taps being recognized.\n   * @constructor\n   * @extends Recognizer\n   */\n\n  function TapRecognizer() {\n    Recognizer.apply(this, arguments); // previous time and center,\n    // used for tap counting\n\n    this.pTime = false;\n    this.pCenter = false;\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n  }\n\n  inherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n      event: 'tap',\n      pointers: 1,\n      taps: 1,\n      interval: 300,\n      // max time between the multi-tap taps\n      time: 250,\n      // max time of the pointer to be down (like finger on the screen)\n      threshold: 9,\n      // a minimal movement is ok, but keep it low\n      posThreshold: 10 // a multi-tap can be a bit off the initial position\n\n    },\n    getTouchAction: function getTouchAction() {\n      return [TOUCH_ACTION_MANIPULATION];\n    },\n    process: function process(input) {\n      var options = this.options;\n      var validPointers = input.pointers.length === options.pointers;\n      var validMovement = input.distance < options.threshold;\n      var validTouchTime = input.deltaTime < options.time;\n      this.reset();\n\n      if (input.eventType & INPUT_START && this.count === 0) {\n        return this.failTimeout();\n      } // we only allow little movement\n      // and we've reached an end event, so a tap is possible\n\n\n      if (validMovement && validTouchTime && validPointers) {\n        if (input.eventType != INPUT_END) {\n          return this.failTimeout();\n        }\n\n        var validInterval = this.pTime ? input.timeStamp - this.pTime < options.interval : true;\n        var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n        this.pTime = input.timeStamp;\n        this.pCenter = input.center;\n\n        if (!validMultiTap || !validInterval) {\n          this.count = 1;\n        } else {\n          this.count += 1;\n        }\n\n        this._input = input; // if tap count matches we have recognized it,\n        // else it has began recognizing...\n\n        var tapCount = this.count % options.taps;\n\n        if (tapCount === 0) {\n          // no failing requirements, immediately trigger the tap event\n          // or wait as long as the multitap interval to trigger\n          if (!this.hasRequireFailures()) {\n            return STATE_RECOGNIZED;\n          } else {\n            this._timer = setTimeoutContext(function () {\n              this.state = STATE_RECOGNIZED;\n              this.tryEmit();\n            }, options.interval, this);\n            return STATE_BEGAN;\n          }\n        }\n      }\n\n      return STATE_FAILED;\n    },\n    failTimeout: function failTimeout() {\n      this._timer = setTimeoutContext(function () {\n        this.state = STATE_FAILED;\n      }, this.options.interval, this);\n      return STATE_FAILED;\n    },\n    reset: function reset() {\n      clearTimeout(this._timer);\n    },\n    emit: function emit() {\n      if (this.state == STATE_RECOGNIZED) {\n        this._input.tapCount = this.count;\n        this.manager.emit(this.options.event, this._input);\n      }\n    }\n  });\n  /**\n   * Simple way to create a manager with a default set of recognizers.\n   * @param {HTMLElement} element\n   * @param {Object} [options]\n   * @constructor\n   */\n\n  function Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n  }\n  /**\n   * @const {string}\n   */\n\n\n  Hammer.VERSION = '2.0.7';\n  /**\n   * default settings\n   * @namespace\n   */\n\n  Hammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [// RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n    [RotateRecognizer, {\n      enable: false\n    }], [PinchRecognizer, {\n      enable: false\n    }, ['rotate']], [SwipeRecognizer, {\n      direction: DIRECTION_HORIZONTAL\n    }], [PanRecognizer, {\n      direction: DIRECTION_HORIZONTAL\n    }, ['swipe']], [TapRecognizer], [TapRecognizer, {\n      event: 'doubletap',\n      taps: 2\n    }, ['tap']], [PressRecognizer]],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n      /**\n       * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n       * @type {String}\n       * @default 'none'\n       */\n      userSelect: 'none',\n\n      /**\n       * Disable the Windows Phone grippers when pressing an element.\n       * @type {String}\n       * @default 'none'\n       */\n      touchSelect: 'none',\n\n      /**\n       * Disables the default callout shown when you touch and hold a touch target.\n       * On iOS, when you touch and hold a touch target such as a link, Safari displays\n       * a callout containing information about the link. This property allows you to disable that callout.\n       * @type {String}\n       * @default 'none'\n       */\n      touchCallout: 'none',\n\n      /**\n       * Specifies whether zooming is enabled. Used by IE10>\n       * @type {String}\n       * @default 'none'\n       */\n      contentZooming: 'none',\n\n      /**\n       * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n       * @type {String}\n       * @default 'none'\n       */\n      userDrag: 'none',\n\n      /**\n       * Overrides the highlight color shown when the user taps a link or a JavaScript\n       * clickable element in iOS. This property obeys the alpha value, if specified.\n       * @type {String}\n       * @default 'rgba(0,0,0,0)'\n       */\n      tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n  };\n  var STOP = 1;\n  var FORCED_STOP = 2;\n  /**\n   * Manager\n   * @param {HTMLElement} element\n   * @param {Object} [options]\n   * @constructor\n   */\n\n  function Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n    this.options.inputTarget = this.options.inputTarget || element;\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n    toggleCssProps(this, true);\n    each(this.options.recognizers, function (item) {\n      var recognizer = this.add(new item[0](item[1]));\n      item[2] && recognizer.recognizeWith(item[2]);\n      item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n  }\n\n  Manager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function set(options) {\n      assign(this.options, options); // Options that need a little more setup\n\n      if (options.touchAction) {\n        this.touchAction.update();\n      }\n\n      if (options.inputTarget) {\n        // Clean up existing event listeners and reinitialize\n        this.input.destroy();\n        this.input.target = options.inputTarget;\n        this.input.init();\n      }\n\n      return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function stop(force) {\n      this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function recognize(inputData) {\n      var session = this.session;\n\n      if (session.stopped) {\n        return;\n      } // run the touch-action polyfill\n\n\n      this.touchAction.preventDefaults(inputData);\n      var recognizer;\n      var recognizers = this.recognizers; // this holds the recognizer that is being recognized.\n      // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n      // if no recognizer is detecting a thing, it is set to `null`\n\n      var curRecognizer = session.curRecognizer; // reset when the last recognizer is recognized\n      // or when we're in a new session\n\n      if (!curRecognizer || curRecognizer && curRecognizer.state & STATE_RECOGNIZED) {\n        curRecognizer = session.curRecognizer = null;\n      }\n\n      var i = 0;\n\n      while (i < recognizers.length) {\n        recognizer = recognizers[i]; // find out if we are allowed try to recognize the input for this one.\n        // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n        // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n        //      that is being recognized.\n        // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n        //      this can be setup with the `recognizeWith()` method on the recognizer.\n\n        if (session.stopped !== FORCED_STOP && ( // 1\n        !curRecognizer || recognizer == curRecognizer || // 2\n        recognizer.canRecognizeWith(curRecognizer))) {\n          // 3\n          recognizer.recognize(inputData);\n        } else {\n          recognizer.reset();\n        } // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n        // current active recognizer. but only if we don't already have an active recognizer\n\n\n        if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n          curRecognizer = session.curRecognizer = recognizer;\n        }\n\n        i++;\n      }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function get(recognizer) {\n      if (recognizer instanceof Recognizer) {\n        return recognizer;\n      }\n\n      var recognizers = this.recognizers;\n\n      for (var i = 0; i < recognizers.length; i++) {\n        if (recognizers[i].options.event == recognizer) {\n          return recognizers[i];\n        }\n      }\n\n      return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function add(recognizer) {\n      if (invokeArrayArg(recognizer, 'add', this)) {\n        return this;\n      } // remove existing\n\n\n      var existing = this.get(recognizer.options.event);\n\n      if (existing) {\n        this.remove(existing);\n      }\n\n      this.recognizers.push(recognizer);\n      recognizer.manager = this;\n      this.touchAction.update();\n      return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function remove(recognizer) {\n      if (invokeArrayArg(recognizer, 'remove', this)) {\n        return this;\n      }\n\n      recognizer = this.get(recognizer); // let's make sure this recognizer exists\n\n      if (recognizer) {\n        var recognizers = this.recognizers;\n        var index = inArray(recognizers, recognizer);\n\n        if (index !== -1) {\n          recognizers.splice(index, 1);\n          this.touchAction.update();\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function on(events, handler) {\n      if (events === undefined) {\n        return;\n      }\n\n      if (handler === undefined) {\n        return;\n      }\n\n      var handlers = this.handlers;\n      each(splitStr(events), function (event) {\n        handlers[event] = handlers[event] || [];\n        handlers[event].push(handler);\n      });\n      return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function off(events, handler) {\n      if (events === undefined) {\n        return;\n      }\n\n      var handlers = this.handlers;\n      each(splitStr(events), function (event) {\n        if (!handler) {\n          delete handlers[event];\n        } else {\n          handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n        }\n      });\n      return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function emit(event, data) {\n      // we also want to trigger dom events\n      if (this.options.domEvents) {\n        triggerDomEvent(event, data);\n      } // no handlers, so skip it all\n\n\n      var handlers = this.handlers[event] && this.handlers[event].slice();\n\n      if (!handlers || !handlers.length) {\n        return;\n      }\n\n      data.type = event;\n\n      data.preventDefault = function () {\n        data.srcEvent.preventDefault();\n      };\n\n      var i = 0;\n\n      while (i < handlers.length) {\n        handlers[i](data);\n        i++;\n      }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function destroy() {\n      this.element && toggleCssProps(this, false);\n      this.handlers = {};\n      this.session = {};\n      this.input.destroy();\n      this.element = null;\n    }\n  };\n  /**\n   * add/remove the css properties as defined in manager.options.cssProps\n   * @param {Manager} manager\n   * @param {Boolean} add\n   */\n\n  function toggleCssProps(manager, add) {\n    var element = manager.element;\n\n    if (!element.style) {\n      return;\n    }\n\n    var prop;\n    each(manager.options.cssProps, function (value, name) {\n      prop = prefixed(element.style, name);\n\n      if (add) {\n        manager.oldCssProps[prop] = element.style[prop];\n        element.style[prop] = value;\n      } else {\n        element.style[prop] = manager.oldCssProps[prop] || '';\n      }\n    });\n\n    if (!add) {\n      manager.oldCssProps = {};\n    }\n  }\n  /**\n   * trigger dom event\n   * @param {String} event\n   * @param {Object} data\n   */\n\n\n  function triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n  }\n\n  assign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n  });\n  var hammer = Hammer;\n\n  var microevent = createCommonjsModule(function (module) {\n  /**\n   * MicroEvent - to make any js object an event emitter (server or browser)\n   * \n   * - pure javascript - server compatible, browser compatible\n   * - dont rely on the browser doms\n   * - super simple - you get it immediatly, no mistery, no magic involved\n   *\n   * - create a MicroEventDebug with goodies to debug\n   *   - make it safer to use\n  */\n\n  var MicroEvent\t= function(){};\n  MicroEvent.prototype\t= {\n  \tbind\t: function(event, fct){\n  \t\tthis._events = this._events || {};\n  \t\tthis._events[event] = this._events[event]\t|| [];\n  \t\tthis._events[event].push(fct);\n  \t},\n  \tunbind\t: function(event, fct){\n  \t\tthis._events = this._events || {};\n  \t\tif( event in this._events === false  )\treturn;\n  \t\tthis._events[event].splice(this._events[event].indexOf(fct), 1);\n  \t},\n  \ttrigger\t: function(event /* , args... */){\n  \t\tthis._events = this._events || {};\n  \t\tif( event in this._events === false  )\treturn;\n  \t\tfor(var i = 0; i < this._events[event].length; i++){\n  \t\t\tthis._events[event][i].apply(this, Array.prototype.slice.call(arguments, 1));\n  \t\t}\n  \t}\n  };\n\n  /**\n   * mixin will delegate all MicroEvent.js function in the destination object\n   *\n   * - require('MicroEvent').mixin(Foobar) will make Foobar able to use MicroEvent\n   *\n   * @param {Object} the object which will support MicroEvent\n  */\n  MicroEvent.mixin\t= function(destObject){\n  \tvar props\t= ['bind', 'unbind', 'trigger'];\n  \tfor(var i = 0; i < props.length; i ++){\n  \t\tdestObject.prototype[props[i]]\t= MicroEvent.prototype[props[i]];\n  \t}\n  };\n\n  // export in common js\n  if( 'object' !== \"undefined\" && ('exports' in module)){\n  \tmodule.exports\t= MicroEvent;\n  }\n  });\n\n  var PageSpread;\n\n  var page_spread = PageSpread =\n  /*#__PURE__*/\n  function () {\n    function PageSpread(el) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      _classCallCheck(this, PageSpread);\n\n      this.el = el;\n      this.options = options;\n      this.visibility = 'gone';\n      this.positioned = false;\n      this.active = false;\n      this.id = this.options.id;\n      this.type = this.options.type;\n      this.pageIds = this.options.pageIds;\n      this.width = this.options.width;\n      this.left = this.options.left;\n      this.maxZoomScale = this.options.maxZoomScale;\n      return;\n    }\n\n    _createClass(PageSpread, [{\n      key: \"isZoomable\",\n      value: function isZoomable() {\n        return this.getMaxZoomScale() > 1 && this.getEl().getAttribute('data-zoomable') !== 'false';\n      }\n    }, {\n      key: \"isScrollable\",\n      value: function isScrollable() {\n        return this.getEl().classList.contains('verso--scrollable');\n      }\n    }, {\n      key: \"getEl\",\n      value: function getEl() {\n        return this.el;\n      }\n    }, {\n      key: \"getOverlayEls\",\n      value: function getOverlayEls() {\n        return this.getEl().querySelectorAll('.verso__overlay');\n      }\n    }, {\n      key: \"getPageEls\",\n      value: function getPageEls() {\n        return this.getEl().querySelectorAll('.verso__page');\n      }\n    }, {\n      key: \"getRect\",\n      value: function getRect() {\n        return this.getEl().getBoundingClientRect();\n      }\n    }, {\n      key: \"getContentRect\",\n      value: function getContentRect() {\n        var i, len, pageEl, pageRect, rect, ref, ref1, ref2, ref3, ref4;\n        rect = {\n          top: null,\n          left: null,\n          right: null,\n          bottom: null,\n          width: null,\n          height: null\n        };\n        ref = this.getPageEls();\n\n        for (i = 0, len = ref.length; i < len; i++) {\n          pageEl = ref[i];\n          pageRect = pageEl.getBoundingClientRect();\n\n          if (pageRect.top < rect.top || rect.top == null) {\n            rect.top = pageRect.top;\n          }\n\n          if (pageRect.left < rect.left || rect.left == null) {\n            rect.left = pageRect.left;\n          }\n\n          if (pageRect.right > rect.right || rect.right == null) {\n            rect.right = pageRect.right;\n          }\n\n          if (pageRect.bottom > rect.bottom || rect.bottom == null) {\n            rect.bottom = pageRect.bottom;\n          }\n        }\n\n        rect.top = (ref1 = rect.top) != null ? ref1 : 0;\n        rect.left = (ref2 = rect.left) != null ? ref2 : 0;\n        rect.right = (ref3 = rect.right) != null ? ref3 : 0;\n        rect.bottom = (ref4 = rect.bottom) != null ? ref4 : 0;\n        rect.width = rect.right - rect.left;\n        rect.height = rect.bottom - rect.top;\n        return rect;\n      }\n    }, {\n      key: \"getId\",\n      value: function getId() {\n        return this.id;\n      }\n    }, {\n      key: \"getType\",\n      value: function getType() {\n        return this.type;\n      }\n    }, {\n      key: \"getPageIds\",\n      value: function getPageIds() {\n        return this.pageIds;\n      }\n    }, {\n      key: \"getWidth\",\n      value: function getWidth() {\n        return this.width;\n      }\n    }, {\n      key: \"getLeft\",\n      value: function getLeft() {\n        return this.left;\n      }\n    }, {\n      key: \"getMaxZoomScale\",\n      value: function getMaxZoomScale() {\n        return this.maxZoomScale;\n      }\n    }, {\n      key: \"getVisibility\",\n      value: function getVisibility() {\n        return this.visibility;\n      }\n    }, {\n      key: \"setVisibility\",\n      value: function setVisibility(visibility) {\n        if (this.visibility !== visibility) {\n          this.getEl().style.display = visibility === 'visible' ? 'block' : 'none';\n          this.visibility = visibility;\n        }\n\n        return this;\n      }\n    }, {\n      key: \"position\",\n      value: function position() {\n        if (this.positioned === false) {\n          this.getEl().style.left = \"\".concat(this.getLeft(), \"%\");\n          this.positioned = true;\n        }\n\n        return this;\n      }\n    }, {\n      key: \"activate\",\n      value: function activate() {\n        this.active = true;\n        this.getEl().setAttribute('data-active', this.active);\n      }\n    }, {\n      key: \"deactivate\",\n      value: function deactivate() {\n        this.active = false;\n        this.getEl().setAttribute('data-active', this.active);\n      }\n    }]);\n\n    return PageSpread;\n  }();\n\n  var Animation;\n\n  var animation = Animation =\n  /*#__PURE__*/\n  function () {\n    function Animation(el) {\n      _classCallCheck(this, Animation);\n\n      this.el = el;\n      this.run = 0;\n      return;\n    }\n\n    _createClass(Animation, [{\n      key: \"animate\",\n      value: function animate() {\n        var _this = this;\n\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n\n        var duration, easing, ref, ref1, ref2, ref3, ref4, run, scale, transform, _transitionEnd, x, y;\n\n        x = (ref = options.x) != null ? ref : 0;\n        y = (ref1 = options.y) != null ? ref1 : 0;\n        scale = (ref2 = options.scale) != null ? ref2 : 1;\n        easing = (ref3 = options.easing) != null ? ref3 : 'ease-out';\n        duration = (ref4 = options.duration) != null ? ref4 : 0;\n        run = ++this.run;\n        transform = \"translateX(\".concat(x, \") translateY(\").concat(y, \") scale(\").concat(scale, \")\");\n\n        if (this.el.style.transform === transform) {\n          callback();\n        } else if (duration > 0) {\n          _transitionEnd = function transitionEnd() {\n            if (run !== _this.run) {\n              return;\n            }\n\n            _this.el.removeEventListener('transitionend', _transitionEnd);\n\n            _this.el.style.transition = 'none';\n            callback();\n          };\n\n          this.el.addEventListener('transitionend', _transitionEnd, false);\n          this.el.style.transition = \"transform \".concat(easing, \" \").concat(duration, \"ms\");\n          this.el.style.transform = transform;\n        } else {\n          this.el.style.transition = 'none';\n          this.el.style.transform = transform;\n          callback();\n        }\n\n        return this;\n      }\n    }]);\n\n    return Animation;\n  }();\n\n  var Animation$1, Hammer$1, MicroEvent, PageSpread$1, Verso;\n  Hammer$1 = hammer;\n  MicroEvent = microevent;\n  PageSpread$1 = page_spread;\n  Animation$1 = animation;\n\n  Verso =\n  /*#__PURE__*/\n  function () {\n    function Verso(el1) {\n      var options1 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      _classCallCheck(this, Verso);\n\n      var ref, ref1, ref2, ref3, ref4, ref5;\n      this.el = el1;\n      this.options = options1;\n      this.swipeVelocity = (ref = this.options.swipeVelocity) != null ? ref : 0.3;\n      this.swipeThreshold = (ref1 = this.options.swipeThreshold) != null ? ref1 : 10;\n      this.navigationDuration = (ref2 = this.options.navigationDuration) != null ? ref2 : 240;\n      this.navigationPanDuration = (ref3 = this.options.navigationPanDuration) != null ? ref3 : 200;\n      this.zoomDuration = (ref4 = this.options.zoomDuration) != null ? ref4 : 200;\n      this.doubleTapDelay = (ref5 = this.options.doubleTapDelay) != null ? ref5 : 300;\n      this.position = -1;\n      this.pinching = false;\n      this.panning = false;\n      this.transform = {\n        left: 0,\n        top: 0,\n        scale: 1\n      };\n      this.startTransform = {\n        left: 0,\n        top: 0,\n        scale: 1\n      };\n      this.tap = {\n        count: 0,\n        delay: this.doubleTapDelay\n      };\n      this.scrollerEl = this.el.querySelector('.verso__scroller');\n      this.pageSpreadEls = this.el.querySelectorAll('.verso__page-spread');\n      this.pageSpreads = this.traversePageSpreads(this.pageSpreadEls);\n      this.pageIds = this.buildPageIds(this.pageSpreads);\n      this.animation = new Animation$1(this.scrollerEl);\n      this.hammer = new Hammer$1.Manager(this.scrollerEl, {\n        touchAction: 'none',\n        enable: false,\n        inputClass: this.getHammerInputClass()\n      });\n      this.hammer.add(new Hammer$1.Pan({\n        threshold: 5,\n        direction: Hammer$1.DIRECTION_ALL\n      }));\n      this.hammer.add(new Hammer$1.Tap({\n        event: 'singletap',\n        interval: 0\n      }));\n      this.hammer.add(new Hammer$1.Pinch());\n      this.hammer.add(new Hammer$1.Press({\n        time: 500\n      }));\n      this.hammer.on('panstart', this.onPanStart.bind(this));\n      this.hammer.on('panmove', this.onPanMove.bind(this));\n      this.hammer.on('panend', this.onPanEnd.bind(this));\n      this.hammer.on('pancancel', this.onPanEnd.bind(this));\n      this.hammer.on('singletap', this.onSingletap.bind(this));\n      this.hammer.on('pinchstart', this.onPinchStart.bind(this));\n      this.hammer.on('pinchmove', this.onPinchMove.bind(this));\n      this.hammer.on('pinchend', this.onPinchEnd.bind(this));\n      this.hammer.on('pinchcancel', this.onPinchEnd.bind(this));\n      this.hammer.on('press', this.onPress.bind(this));\n      this.scrollerEl.addEventListener('contextmenu', this.onContextmenu.bind(this), false);\n      this.scrollerEl.addEventListener('wheel', this.onWheel.bind(this), false);\n      return;\n    }\n\n    _createClass(Verso, [{\n      key: \"start\",\n      value: function start() {\n        var pageId, ref;\n        pageId = (ref = this.getPageSpreadPositionFromPageId(this.options.pageId)) != null ? ref : 0;\n        this.hammer.set({\n          enable: true\n        });\n        this.navigateTo(pageId, {\n          duration: 0\n        });\n        this.resizeListener = this.onResize.bind(this);\n        this.touchStartListener = this.onTouchStart.bind(this);\n        this.touchEndListener = this.onTouchEnd.bind(this);\n        this.el.addEventListener('touchstart', this.touchStartListener, false);\n        this.el.addEventListener('touchend', this.touchEndListener, false);\n        window.addEventListener('resize', this.resizeListener, false);\n        return this;\n      }\n    }, {\n      key: \"destroy\",\n      value: function destroy() {\n        this.hammer.destroy();\n        this.el.removeEventListener('touchstart', this.touchStartListener);\n        this.el.removeEventListener('touchend', this.touchEndListener);\n        window.removeEventListener('resize', this.resizeListener);\n        return this;\n      }\n    }, {\n      key: \"first\",\n      value: function first(options) {\n        return this.navigateTo(0, options);\n      }\n    }, {\n      key: \"prev\",\n      value: function prev(options) {\n        return this.navigateTo(this.getPosition() - 1, options);\n      }\n    }, {\n      key: \"next\",\n      value: function next(options) {\n        return this.navigateTo(this.getPosition() + 1, options);\n      }\n    }, {\n      key: \"last\",\n      value: function last(options) {\n        return this.navigateTo(this.getPageSpreadCount() - 1, options);\n      }\n    }, {\n      key: \"navigateTo\",\n      value: function navigateTo(position) {\n        var _this = this;\n\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var activePageSpread, carousel, currentPageSpread, currentPosition, duration, ref, ref1, touchAction, velocity;\n\n        if (position < 0 || position > this.getPageSpreadCount() - 1) {\n          return;\n        }\n\n        currentPosition = this.getPosition();\n        currentPageSpread = this.getPageSpreadFromPosition(currentPosition);\n        activePageSpread = this.getPageSpreadFromPosition(position);\n        carousel = this.getCarouselFromPageSpread(activePageSpread);\n        velocity = (ref = options.velocity) != null ? ref : 1;\n        duration = (ref1 = options.duration) != null ? ref1 : this.navigationDuration;\n        duration = duration / Math.abs(velocity);\n        touchAction = activePageSpread.isScrollable() ? 'pan-y' : 'none';\n\n        if (currentPageSpread != null) {\n          currentPageSpread.deactivate();\n        }\n\n        activePageSpread.activate();\n        carousel.visible.forEach(function (pageSpread) {\n          return pageSpread.position().setVisibility('visible');\n        });\n        this.hammer.set({\n          touchAction: touchAction\n        });\n        this.transform.left = this.getLeftTransformFromPageSpread(position, activePageSpread);\n        this.setPosition(position);\n\n        if (this.transform.scale > 1) {\n          this.transform.top = 0;\n          this.transform.scale = 1;\n          this.trigger('zoomedOut', {\n            position: currentPosition\n          });\n        }\n\n        this.trigger('beforeNavigation', {\n          currentPosition: currentPosition,\n          newPosition: position\n        });\n        this.animation.animate({\n          x: \"\".concat(this.transform.left, \"%\"),\n          duration: duration\n        }, function () {\n          carousel = _this.getCarouselFromPageSpread(_this.getActivePageSpread());\n          carousel.gone.forEach(function (pageSpread) {\n            return pageSpread.setVisibility('gone');\n          });\n\n          _this.trigger('afterNavigation', {\n            newPosition: _this.getPosition(),\n            previousPosition: currentPosition\n          });\n        });\n      }\n    }, {\n      key: \"getPosition\",\n      value: function getPosition() {\n        return this.position;\n      }\n    }, {\n      key: \"setPosition\",\n      value: function setPosition(position) {\n        this.position = position;\n        return this;\n      }\n    }, {\n      key: \"getLeftTransformFromPageSpread\",\n      value: function getLeftTransformFromPageSpread(position, pageSpread) {\n        var left;\n        left = 0;\n\n        if (position === this.getPageSpreadCount() - 1) {\n          left = 100 - pageSpread.getWidth() - pageSpread.getLeft();\n        } else if (position > 0) {\n          left = (100 - pageSpread.getWidth()) / 2 - pageSpread.getLeft();\n        }\n\n        return left;\n      }\n    }, {\n      key: \"getCarouselFromPageSpread\",\n      value: function getCarouselFromPageSpread(pageSpreadSubject) {\n        var carousel;\n        carousel = {\n          visible: [],\n          gone: []\n        }; // Identify the page spreads that should be a part of the carousel.\n\n        this.pageSpreads.forEach(function (pageSpread) {\n          var visible;\n          visible = false;\n\n          if (pageSpread.getLeft() <= pageSpreadSubject.getLeft()) {\n            if (pageSpread.getLeft() + pageSpread.getWidth() > pageSpreadSubject.getLeft() - 100) {\n              visible = true;\n            }\n          } else {\n            if (pageSpread.getLeft() - pageSpread.getWidth() < pageSpreadSubject.getLeft() + 100) {\n              visible = true;\n            }\n          }\n\n          if (visible === true) {\n            carousel.visible.push(pageSpread);\n          } else {\n            carousel.gone.push(pageSpread);\n          }\n        });\n        return carousel;\n      }\n    }, {\n      key: \"traversePageSpreads\",\n      value: function traversePageSpreads(els) {\n        var el, id, j, left, len, maxZoomScale, pageIds, pageSpread, pageSpreads, type, width;\n        pageSpreads = [];\n        left = 0;\n\n        for (j = 0, len = els.length; j < len; j++) {\n          el = els[j];\n          id = el.getAttribute('data-id');\n          type = el.getAttribute('data-type');\n          pageIds = el.getAttribute('data-page-ids');\n          pageIds = pageIds != null ? pageIds.split(',').map(function (i) {\n            return i;\n          }) : [];\n          maxZoomScale = el.getAttribute('data-max-zoom-scale');\n          maxZoomScale = maxZoomScale != null ? +maxZoomScale : 1;\n          width = el.getAttribute('data-width');\n          width = width != null ? +width : 100;\n          pageSpread = new PageSpread$1(el, {\n            id: id,\n            type: type,\n            pageIds: pageIds,\n            maxZoomScale: maxZoomScale,\n            width: width,\n            left: left\n          });\n          left += width;\n          pageSpreads.push(pageSpread);\n        }\n\n        return pageSpreads;\n      }\n    }, {\n      key: \"buildPageIds\",\n      value: function buildPageIds(pageSpreads) {\n        var pageIds;\n        pageIds = {};\n        pageSpreads.forEach(function (pageSpread, i) {\n          pageSpread.options.pageIds.forEach(function (pageId) {\n            pageIds[pageId] = pageSpread;\n          });\n        });\n        return pageIds;\n      }\n    }, {\n      key: \"isCoordinateInsideElement\",\n      value: function isCoordinateInsideElement(x, y, el) {\n        var rect;\n        rect = el.getBoundingClientRect();\n        return x >= rect.left && x <= rect.right && y >= rect.top && y <= rect.bottom;\n      }\n    }, {\n      key: \"getCoordinateInfo\",\n      value: function getCoordinateInfo(x, y, pageSpread) {\n        var contentRect, info, j, k, len, len1, overlayEl, overlayEls, pageEl, pageEls;\n        x -= this.el.offsetLeft;\n        y -= this.el.offsetTop;\n        info = {\n          x: x,\n          y: y,\n          contentX: 0,\n          contentY: 0,\n          pageX: 0,\n          pageY: 0,\n          overlayEls: [],\n          pageEl: null,\n          isInsideContentX: false,\n          isInsideContentY: false,\n          isInsideContent: false\n        };\n        contentRect = pageSpread.getContentRect();\n        overlayEls = pageSpread.getOverlayEls();\n        pageEls = pageSpread.getPageEls();\n\n        for (j = 0, len = overlayEls.length; j < len; j++) {\n          overlayEl = overlayEls[j];\n\n          if (this.isCoordinateInsideElement(x, y, overlayEl)) {\n            info.overlayEls.push(overlayEl);\n          }\n        }\n\n        for (k = 0, len1 = pageEls.length; k < len1; k++) {\n          pageEl = pageEls[k];\n\n          if (this.isCoordinateInsideElement(x, y, pageEl)) {\n            info.pageEl = pageEl;\n            break;\n          }\n        }\n\n        info.contentX = (x - contentRect.left) / Math.max(1, contentRect.width);\n        info.contentY = (y - contentRect.top) / Math.max(1, contentRect.height);\n\n        if (info.pageEl != null) {\n          info.isInsideContentX = info.contentX >= 0 && info.contentX <= 1;\n          info.isInsideContentY = info.contentY >= 0 && info.contentY <= 1;\n          info.isInsideContent = info.isInsideContentX && info.isInsideContentY;\n        }\n\n        return info;\n      }\n    }, {\n      key: \"getPageSpreadCount\",\n      value: function getPageSpreadCount() {\n        return this.pageSpreads.length;\n      }\n    }, {\n      key: \"getActivePageSpread\",\n      value: function getActivePageSpread() {\n        return this.getPageSpreadFromPosition(this.getPosition());\n      }\n    }, {\n      key: \"getPageSpreadFromPosition\",\n      value: function getPageSpreadFromPosition(position) {\n        return this.pageSpreads[position];\n      }\n    }, {\n      key: \"getPageSpreadPositionFromPageId\",\n      value: function getPageSpreadPositionFromPageId(pageId) {\n        var idx, j, len, pageSpread, ref;\n        ref = this.pageSpreads;\n\n        for (idx = j = 0, len = ref.length; j < len; idx = ++j) {\n          pageSpread = ref[idx];\n\n          if (pageSpread.options.pageIds.indexOf(pageId) > -1) {\n            return idx;\n          }\n        }\n      }\n    }, {\n      key: \"getPageSpreadBounds\",\n      value: function getPageSpreadBounds(pageSpread) {\n        var pageSpreadContentRect, pageSpreadRect;\n        pageSpreadRect = pageSpread.getRect();\n        pageSpreadContentRect = pageSpread.getContentRect();\n        return {\n          left: (pageSpreadContentRect.left - pageSpreadRect.left) / pageSpreadRect.width * 100,\n          top: (pageSpreadContentRect.top - pageSpreadRect.top) / pageSpreadRect.height * 100,\n          width: pageSpreadContentRect.width / pageSpreadRect.width * 100,\n          height: pageSpreadContentRect.height / pageSpreadRect.height * 100,\n          pageSpreadRect: pageSpreadRect,\n          pageSpreadContentRect: pageSpreadContentRect\n        };\n      }\n    }, {\n      key: \"clipCoordinate\",\n      value: function clipCoordinate(coordinate, scale, size, offset) {\n        if (size * scale < 100) {\n          coordinate = offset * -scale + 50 - size * scale / 2;\n        } else {\n          coordinate = Math.min(coordinate, offset * -scale);\n          coordinate = Math.max(coordinate, offset * -scale - size * scale + 100);\n        }\n\n        return coordinate;\n      }\n    }, {\n      key: \"zoomTo\",\n      value: function zoomTo() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var callback = arguments.length > 1 ? arguments[1] : undefined;\n        var activePageSpread, carouselOffset, carouselScaledOffset, curScale, pageSpreadBounds, ref, ref1, scale, x, y;\n        scale = options.scale;\n        curScale = this.transform.scale;\n        activePageSpread = this.getActivePageSpread();\n        pageSpreadBounds = this.getPageSpreadBounds(activePageSpread);\n        carouselOffset = activePageSpread.getLeft();\n        carouselScaledOffset = carouselOffset * curScale;\n        x = (ref = options.x) != null ? ref : 0;\n        y = (ref1 = options.y) != null ? ref1 : 0;\n\n        if (scale !== 1) {\n          x -= pageSpreadBounds.pageSpreadRect.left;\n          y -= pageSpreadBounds.pageSpreadRect.top;\n          x = x / (pageSpreadBounds.pageSpreadRect.width / curScale) * 100;\n          y = y / (pageSpreadBounds.pageSpreadRect.height / curScale) * 100;\n          x = this.transform.left + carouselScaledOffset + x - x * scale / curScale;\n          y = this.transform.top + y - y * scale / curScale; // Make sure the animation doesn't exceed the content bounds.\n\n          if (options.bounds !== false && scale > 1) {\n            x = this.clipCoordinate(x, scale, pageSpreadBounds.width, pageSpreadBounds.left);\n            y = this.clipCoordinate(y, scale, pageSpreadBounds.height, pageSpreadBounds.top);\n          }\n        } else {\n          x = 0;\n          y = 0;\n        } // Account for the page spreads left of the active one.\n\n\n        x -= carouselOffset * scale;\n        this.transform.left = x;\n        this.transform.top = y;\n        this.transform.scale = scale;\n        this.animation.animate({\n          x: \"\".concat(x, \"%\"),\n          y: \"\".concat(y, \"%\"),\n          scale: scale,\n          easing: options.easing,\n          duration: options.duration\n        }, callback);\n      }\n    }, {\n      key: \"refresh\",\n      value: function refresh() {\n        this.pageSpreadEls = this.el.querySelectorAll('.verso__page-spread');\n        this.pageSpreads = this.traversePageSpreads(this.pageSpreadEls);\n        this.pageIds = this.buildPageIds(this.pageSpreads);\n        return this;\n      }\n    }, {\n      key: \"getHammerInputClass\",\n      value: function getHammerInputClass() {\n        var mobileRegex, supportTouch;\n        mobileRegex = /mobile|tablet|ip(ad|hone|od)|android/i;\n        supportTouch = 'ontouchstart' in window;\n\n        if (supportTouch && mobileRegex.test(navigator.userAgent)) {\n          return Hammer$1.TouchInput;\n        } else {\n          return null;\n        }\n      } //#############\n\n      /* Events */\n      //#############\n\n    }, {\n      key: \"onPanStart\",\n      value: function onPanStart(e) {\n        var edgeThreshold, width, x; // Only allow panning if zoomed in or doing a horizontal pan.\n        // This ensures vertical scrolling works for scrollable page spreads.\n\n        if (this.transform.scale > 1 || e.direction === Hammer$1.DIRECTION_LEFT || e.direction === Hammer$1.DIRECTION_RIGHT) {\n          x = e.center.x;\n          edgeThreshold = 30;\n          width = this.scrollerEl.offsetWidth; // Prevent panning when edge-swiping on iOS.\n\n          if (x > edgeThreshold && x < width - edgeThreshold) {\n            this.startTransform.left = this.transform.left;\n            this.startTransform.top = this.transform.top;\n            this.panning = true;\n            this.trigger('panStart');\n          }\n        }\n      }\n    }, {\n      key: \"onPanMove\",\n      value: function onPanMove(e) {\n        var activePageSpread, carouselOffset, carouselScaledOffset, pageSpreadBounds, scale, x, y;\n\n        if (this.pinching === true || this.panning === false) {\n          return;\n        }\n\n        if (this.transform.scale > 1) {\n          activePageSpread = this.getActivePageSpread();\n          carouselOffset = activePageSpread.getLeft();\n          carouselScaledOffset = carouselOffset * this.transform.scale;\n          pageSpreadBounds = this.getPageSpreadBounds(activePageSpread);\n          scale = this.transform.scale;\n          x = this.startTransform.left + carouselScaledOffset + e.deltaX / this.scrollerEl.offsetWidth * 100;\n          y = this.startTransform.top + e.deltaY / this.scrollerEl.offsetHeight * 100;\n          x = this.clipCoordinate(x, scale, pageSpreadBounds.width, pageSpreadBounds.left);\n          y = this.clipCoordinate(y, scale, pageSpreadBounds.height, pageSpreadBounds.top);\n          x -= carouselScaledOffset;\n          this.transform.left = x;\n          this.transform.top = y;\n          this.animation.animate({\n            x: \"\".concat(x, \"%\"),\n            y: \"\".concat(y, \"%\"),\n            scale: scale,\n            easing: 'linear'\n          });\n        } else {\n          x = this.transform.left + e.deltaX / this.scrollerEl.offsetWidth * 100;\n          this.animation.animate({\n            x: \"\".concat(x, \"%\"),\n            easing: 'linear'\n          });\n        }\n      }\n    }, {\n      key: \"onPanEnd\",\n      value: function onPanEnd(e) {\n        var position, velocity;\n\n        if (this.panning === false) {\n          return;\n        }\n\n        this.panning = false;\n        this.trigger('panEnd');\n\n        if (this.transform.scale === 1 && this.pinching === false) {\n          position = this.getPosition();\n          velocity = e.overallVelocityX;\n\n          if (Math.abs(velocity) >= this.swipeVelocity) {\n            if (Math.abs(e.deltaX) >= this.swipeThreshold) {\n              if (e.offsetDirection === Hammer$1.DIRECTION_LEFT) {\n                this.next({\n                  velocity: velocity,\n                  duration: this.navigationPanDuration\n                });\n              } else if (e.offsetDirection === Hammer$1.DIRECTION_RIGHT) {\n                this.prev({\n                  velocity: velocity,\n                  duration: this.navigationPanDuration\n                });\n              }\n            }\n          }\n\n          if (position === this.getPosition()) {\n            this.animation.animate({\n              x: \"\".concat(this.transform.left, \"%\"),\n              duration: this.navigationPanDuration\n            });\n            this.trigger('attemptedNavigation', {\n              position: this.getPosition()\n            });\n          }\n        }\n      }\n    }, {\n      key: \"onPinchStart\",\n      value: function onPinchStart(e) {\n        if (!this.getActivePageSpread().isZoomable()) {\n          return;\n        }\n\n        this.pinching = true;\n        this.el.setAttribute('data-pinching', true);\n        this.startTransform.scale = this.transform.scale;\n      }\n    }, {\n      key: \"onPinchMove\",\n      value: function onPinchMove(e) {\n        if (this.pinching === false) {\n          return;\n        }\n\n        this.zoomTo({\n          x: e.center.x,\n          y: e.center.y,\n          scale: this.startTransform.scale * e.scale,\n          bounds: false,\n          easing: 'linear'\n        });\n      }\n    }, {\n      key: \"onPinchEnd\",\n      value: function onPinchEnd(e) {\n        var _this2 = this;\n\n        var activePageSpread, maxZoomScale, position, scale;\n\n        if (this.pinching === false) {\n          return;\n        }\n\n        activePageSpread = this.getActivePageSpread();\n        maxZoomScale = activePageSpread.getMaxZoomScale();\n        scale = Math.max(1, Math.min(this.transform.scale, maxZoomScale));\n        position = this.getPosition();\n\n        if (this.startTransform.scale === 1 && scale > 1) {\n          this.trigger('zoomedIn', {\n            position: position\n          });\n        } else if (this.startTransform.scale > 1 && scale === 1) {\n          this.trigger('zoomedOut', {\n            position: position\n          });\n        }\n\n        this.zoomTo({\n          x: e.center.x,\n          y: e.center.y,\n          scale: scale,\n          duration: this.zoomDuration\n        }, function () {\n          _this2.pinching = false;\n\n          _this2.el.setAttribute('data-pinching', false);\n        });\n      }\n    }, {\n      key: \"onPress\",\n      value: function onPress(e) {\n        this.trigger('pressed', this.getCoordinateInfo(e.center.x, e.center.y, this.getActivePageSpread()));\n      }\n    }, {\n      key: \"onContextmenu\",\n      value: function onContextmenu(e) {\n        e.preventDefault();\n        this.trigger('contextmenu', this.getCoordinateInfo(e.clientX, e.clientY, this.getActivePageSpread()));\n        return false;\n      }\n    }, {\n      key: \"onWheel\",\n      value: function onWheel(e) {\n        var _this3 = this;\n\n        var activePageSpread, position, scale;\n        activePageSpread = this.getActivePageSpread();\n\n        if (activePageSpread.isZoomable() === false) {\n          return;\n        }\n\n        if (e.deltaY > 0 && this.transform.scale === 1) {\n          scale = activePageSpread.getMaxZoomScale();\n          position = this.getPosition();\n          this.zoomTo({\n            x: e.clientX,\n            y: e.clientY,\n            scale: scale,\n            duration: this.zoomDuration\n          }, function () {\n            _this3.trigger('zoomedIn', {\n              position: position\n            });\n          });\n        } else if (e.deltaY < 0 && this.transform.scale > 1) {\n          position = this.getPosition();\n          this.zoomTo({\n            x: e.clientX,\n            y: e.clientY,\n            scale: 1,\n            duration: this.zoomDuration\n          }, function () {\n            _this3.trigger('zoomedOut', {\n              position: position\n            });\n          });\n        }\n      }\n    }, {\n      key: \"onSingletap\",\n      value: function onSingletap(e) {\n        var _this4 = this;\n\n        var activePageSpread, coordinateInfo, maxZoomScale, position, scale, zoomEvent, zoomedIn;\n        activePageSpread = this.getActivePageSpread();\n        coordinateInfo = this.getCoordinateInfo(e.center.x, e.center.y, activePageSpread);\n        clearTimeout(this.tap.timeout);\n\n        if (this.tap.count === 1) {\n          this.tap.count = 0;\n          this.trigger('doubleClicked', coordinateInfo);\n\n          if (activePageSpread.isZoomable()) {\n            maxZoomScale = activePageSpread.getMaxZoomScale();\n            zoomedIn = this.transform.scale > 1;\n            scale = zoomedIn ? 1 : maxZoomScale;\n            zoomEvent = zoomedIn ? 'zoomedOut' : 'zoomedIn';\n            position = this.getPosition();\n            this.zoomTo({\n              x: e.center.x,\n              y: e.center.y,\n              scale: scale,\n              duration: this.zoomDuration\n            }, function () {\n              _this4.trigger(zoomEvent, {\n                position: position\n              });\n            });\n          }\n        } else {\n          this.tap.count++;\n          this.tap.timeout = setTimeout(function () {\n            _this4.tap.count = 0;\n\n            _this4.trigger('clicked', coordinateInfo);\n          }, this.tap.delay);\n        }\n      }\n    }, {\n      key: \"onTouchStart\",\n      value: function onTouchStart(e) {\n        if (!this.getActivePageSpread().isScrollable()) {\n          e.preventDefault();\n        }\n      }\n    }, {\n      key: \"onTouchEnd\",\n      value: function onTouchEnd(e) {\n        if (!this.getActivePageSpread().isScrollable()) {\n          e.preventDefault();\n        }\n      }\n    }, {\n      key: \"onResize\",\n      value: function onResize() {\n        var activePageSpread, position;\n\n        if (this.transform.scale > 1) {\n          position = this.getPosition();\n          activePageSpread = this.getActivePageSpread();\n          this.transform.left = this.getLeftTransformFromPageSpread(position, activePageSpread);\n          this.transform.top = 0;\n          this.transform.scale = 1;\n          this.zoomTo({\n            x: this.transform.left,\n            y: this.transform.top,\n            scale: this.transform.scale,\n            duration: 0\n          });\n          this.trigger('zoomedOut', {\n            position: position\n          });\n        }\n      }\n    }]);\n\n    return Verso;\n  }();\n\n  MicroEvent.mixin(Verso);\n  var verso = Verso;\n\n  return verso;\n\n})));\n//# sourceMappingURL=verso.js.map\n","MicroEvent = require 'microevent'\nMustache = require 'mustache'\n\nclass PagedPublicationHotspots\n    constructor: ->\n        @currentPageSpreadId = null\n        @pageSpreadsLoaded = {}\n        @cache = {}\n\n        @bind 'hotspotsReceived', @hotspotsReceived.bind(@)\n        @bind 'afterNavigation', @afterNavigation.bind(@)\n        @bind 'pagesLoaded', @pagesLoaded.bind(@)\n        @bind 'resized', @resized.bind(@)\n\n        return\n\n    renderHotspots: (data) ->\n        frag = document.createDocumentFragment()\n        contentRect = data.versoPageSpread.getContentRect()\n        pageSpreadEl = data.pageSpread.getEl()\n        hotspotEls = pageSpreadEl.querySelectorAll '.sgn-pp__hotspot'\n        boundingRect = pageSpreadEl.getBoundingClientRect()\n\n        hotspotEl.parentNode.removeChild hotspotEl for hotspotEl in hotspotEls\n\n        for id, hotspot of data.hotspots\n            position = @getPosition data.pages, data.ratio, hotspot\n            el = @renderHotspot hotspot, position, contentRect, boundingRect\n            \n            frag.appendChild el\n\n        pageSpreadEl.appendChild frag\n\n        @\n\n    renderHotspot: (hotspot, position, contentRect, boundingRect) ->\n        el = document.createElement 'div'\n        top = Math.round contentRect.height / 100 * position.top\n        left = Math.round contentRect.width / 100 * position.left\n        width = Math.round contentRect.width / 100 * position.width\n        height = Math.round contentRect.height / 100 * position.height\n\n        top += Math.round contentRect.top\n        left += Math.round contentRect.left\n        top -= boundingRect.top\n        left -= boundingRect.left\n\n        el.className = 'sgn-pp__hotspot verso__overlay'\n        el.setAttribute 'data-id', hotspot.id if hotspot.id?\n        el.setAttribute 'data-type', hotspot.type if hotspot.type?\n        el.innerHTML = Mustache.render '', hotspot\n\n        el.style.top = \"#{top}px\"\n        el.style.left = \"#{left}px\"\n        el.style.width = \"#{width}px\"\n        el.style.height = \"#{height}px\"\n\n        el\n\n    getPosition: (pages, ratio, hotspot) ->\n        minX = null\n        minY = null\n        maxX = null\n        maxY = null\n        pageNumbers = pages.map (page) -> page.pageNumber\n\n        for pageNumber of hotspot.locations\n            continue if pageNumbers.indexOf(+pageNumber) is -1\n\n            hotspot.locations[pageNumber].forEach (coords) ->\n                x = coords[0]\n                y = coords[1]\n\n                x +=1 if pages[1] and pageNumbers[1] is +pageNumber\n                x /= pages.length\n\n                if not minX?\n                    minX = maxX = x\n                    minY = maxY = y\n\n                minX = x if x < minX\n                maxX = x if x > maxX\n                minY = y if y < minY\n                maxY = y if y > maxY\n\n        width = maxX - minX\n        height = maxY - minY\n\n        top: minY / ratio * 100\n        left: minX * 100\n        width: width * 100\n        height: height / ratio * 100\n\n    requestHotspots: (pageSpreadId, pages) ->\n        @trigger 'hotspotsRequested',\n            id: pageSpreadId\n            pages: pages\n\n        return\n\n    hotspotsReceived: (e) ->\n        pageSpreadId = e.pageSpread.getId()\n\n        @setCache pageSpreadId, e\n        @renderHotspots e\n\n        return\n\n    getCache: (pageSpreadId) ->\n        @cache[pageSpreadId]\n\n    setCache: (pageSpreadId, data) ->\n        @cache[pageSpreadId] = data\n\n        @\n\n    afterNavigation: (e) ->\n        return if not e.pageSpread?\n\n        id = e.pageSpread.getId()\n\n        @currentPageSpreadId = id\n        @requestHotspots id, e.pageSpread.getPages() if @pageSpreadsLoaded[id]\n\n        return\n\n    pagesLoaded: (e) ->\n        @pageSpreadsLoaded[e.pageSpreadId] = true\n        @requestHotspots e.pageSpreadId, e.pages if @currentPageSpreadId is e.pageSpreadId\n\n        return\n\n    resized: (e) ->\n        data = @getCache @currentPageSpreadId\n\n        @renderHotspots data if data?\n\n        return\n\nMicroEvent.mixin PagedPublicationHotspots\n\nmodule.exports = PagedPublicationHotspots\n\n\n","MicroEvent = require 'microevent'\nSGN = require '../../sgn'\nkeyCodes = require '../../key-codes'\n\nclass PagedPublicationControls\n    constructor: (el, @options = {}) ->\n        @els =\n            root: el\n            progress: el.querySelector '.sgn-pp__progress'\n            progressBar: el.querySelector '.sgn-pp-progress__bar'\n            progressLabel: el.querySelector '.sgn-pp__progress-label'\n            prevControl: el.querySelector '.sgn-pp__control[data-direction=prev]'\n            nextControl: el.querySelector '.sgn-pp__control[data-direction=next]'\n            close: el.querySelector '.sgn-pp--close'\n\n        @keyDownListener = SGN.util.throttle @keyDown, 150, @\n\n        @els.root.addEventListener 'keydown', @keyDownListener, false if @options.keyboard is true\n        @els.prevControl.addEventListener 'mousedown', @prevClicked.bind(@), false if @els.prevControl?\n        @els.nextControl.addEventListener 'mousedown', @nextClicked.bind(@), false if @els.nextControl?\n        @els.close.addEventListener 'mousedown', @closeClicked.bind(@), false if @els.close?\n\n        @bind 'beforeNavigation', @beforeNavigation.bind(@)\n\n        return\n\n    destroy: ->\n        @els.root.removeEventListener 'keydown', @keyDownListener\n\n        return\n\n    beforeNavigation: (e) ->\n        showProgress = typeof e.progressLabel is 'string' and e.progressLabel.length > 0\n        visibilityClassName = 'sgn-pp--hidden'\n\n        if @els.progress? and @els.progressBar?\n            @els.progressBar.style.width = \"#{e.progress}%\"\n\n            if showProgress is true\n                @els.progress.classList.remove visibilityClassName\n            else\n                @els.progress.classList.add visibilityClassName\n\n        if @els.progressLabel?\n            if showProgress is true\n                @els.progressLabel.textContent = e.progressLabel\n                @els.progressLabel.classList.remove visibilityClassName\n            else\n                @els.progressLabel.classList.add visibilityClassName\n\n        if @els.prevControl?\n            if e.verso.newPosition is 0\n                @els.prevControl.classList.add visibilityClassName\n            else\n                @els.prevControl.classList.remove visibilityClassName\n\n        if @els.nextControl?\n            if e.verso.newPosition is e.pageSpreadCount - 1\n                @els.nextControl.classList.add visibilityClassName\n            else\n                @els.nextControl.classList.remove visibilityClassName\n\n        return\n\n    prevClicked: (e) ->\n        e.preventDefault()\n\n        @trigger 'prev'\n\n        return\n\n    nextClicked: (e) ->\n        e.preventDefault()\n\n        @trigger 'next'\n\n        return\n    \n    closeClicked: (e) ->\n        e.preventDefault()\n\n        @trigger 'close'\n\n        return\n\n    keyDown: (e) ->\n        keyCode = e.keyCode\n\n        if keyCodes.ARROW_LEFT is keyCode\n            @trigger 'prev', duration: 0\n        else if keyCodes.ARROW_RIGHT is keyCode or keyCodes.SPACE is keyCode\n            @trigger 'next', duration: 0\n        else if keyCodes.NUMBER_ONE is keyCode\n            @trigger 'first', duration: 0\n\n        return\n\nMicroEvent.mixin PagedPublicationControls\n\nmodule.exports = PagedPublicationControls\n","module.exports =\n    ESC: 27\n    ARROW_RIGHT: 39\n    ARROW_LEFT: 37\n    SPACE: 32\n    NUMBER_ONE: 49\n","MicroEvent = require 'microevent'\n\nclass PagedPublicationEventTracking\n    constructor: (@eventTracker, @id) ->\n        @hidden = true\n        @pageSpread = null\n\n        @bind 'appeared', @appeared.bind(@)\n        @bind 'disappeared', @disappeared.bind(@)\n        @bind 'beforeNavigation', @beforeNavigation.bind(@)\n        @bind 'afterNavigation', @afterNavigation.bind(@)\n        @bind 'attemptedNavigation', @attemptedNavigation.bind(@)\n        @bind 'panStart', @panStart.bind(@)\n        @bind 'destroyed', @destroy.bind(@)\n\n        return\n\n    destroy: ->\n        @pageSpreadDisappeared()\n\n        return\n\n    trackOpened: (properties) ->\n        return @ if not @eventTracker?\n\n        @eventTracker.trackPagedPublicationOpened\n            'pp.id': @id\n            'vt': @eventTracker.createViewToken(@id)\n\n        @\n\n    trackPageSpreadDisappeared: (pageNumbers) ->\n        return @ if not @eventTracker?\n        \n        pageNumbers.forEach (pageNumber) =>\n            @eventTracker.trackPagedPublicationPageDisappeared\n                'pp.id': @id\n                'ppp.n': pageNumber\n                'vt': @eventTracker.createViewToken(@id, pageNumber)\n            \n            return\n\n        @\n\n    appeared: (e) ->\n        @pageSpreadAppeared e.pageSpread\n\n        return\n\n    disappeared: ->\n        @pageSpreadDisappeared()\n\n        return\n\n    beforeNavigation: ->\n        @pageSpreadDisappeared()\n\n        return\n\n    afterNavigation: (e) ->\n        @pageSpreadAppeared e.pageSpread\n\n        return\n\n    attemptedNavigation: (e) ->\n        @pageSpreadAppeared e.pageSpread\n\n        return\n\n    panStart: (e) ->\n        @pageSpreadDisappeared() if e.scale is 1\n\n        return\n\n    pageSpreadAppeared: (pageSpread) ->\n        if pageSpread? and @hidden is true\n            @pageSpread = pageSpread\n            @hidden = false\n\n        return\n\n    pageSpreadDisappeared: ->\n        if @pageSpread? and @hidden is false\n            @trackPageSpreadDisappeared @pageSpread.getPages().map (page) -> page.pageNumber\n\n            @hidden = true\n            @pageSpread = null\n\n        return\n\nMicroEvent.mixin PagedPublicationEventTracking\n\nmodule.exports = PagedPublicationEventTracking","MicroEvent = require 'microevent'\nSGN = require '../../sgn'\nCore = require './core'\nHotspots = require './hotspots'\nControls = require './controls'\nEventTracking = require './event-tracking'\n\nclass Viewer\n    constructor: (@el, @options = {}) ->\n        @_core = new Core @el,\n            id: @options.id\n            pages: @options.pages\n            pageSpreadWidth: @options.pageSpreadWidth\n            pageSpreadMaxZoomScale: @options.pageSpreadMaxZoomScale\n            pageId: @options.pageId\n            idleDelay: @options.idleDelay\n            resizeDelay: @options.resizeDelay\n            color: @options.color\n        @_hotspots = new Hotspots()\n        @_controls = new Controls @el, keyboard: @options.keyboard\n        @_eventTracking = new EventTracking @options.eventTracker, @options.id\n        @viewSession = SGN.util.uuid()\n        @hotspots = null\n        @hotspotQueue = []\n        @popover = null\n\n        @_setupEventListeners()\n\n        return\n\n    start: ->\n        @_eventTracking.trackOpened()\n        @_core.trigger 'started'\n\n        @\n\n    destroy: ->\n        @_core.trigger 'destroyed'\n        @_hotspots.trigger 'destroyed'\n        @_controls.trigger 'destroyed'\n        @_eventTracking.trigger 'destroyed'\n\n        @trigger 'destroyed'\n\n        @\n\n    navigateTo: (position, options) ->\n        @navigateToIndex position, options\n\n        @\n\n    navigateToIndex: (position, options) ->\n        @_core.getVerso().navigateTo position, options\n\n        @\n    \n    navigateToPageId: (pageId, options) ->\n        position = @_core.getVerso().getPageSpreadPositionFromPageId pageId\n        \n        @_core.getVerso().navigateTo position, options\n\n    first: (options) ->\n        @_core.getVerso().first options\n\n        @\n\n    prev: (options) ->\n        @_core.getVerso().prev options\n\n        @\n\n    next: (options) ->\n        @_core.getVerso().next options\n\n        @\n\n    last: (options) ->\n        @_core.getVerso().last options\n\n        @\n\n    _setupEventListeners: ->\n        @_controls.bind 'prev', (e) =>\n            @prev e\n            \n            return\n        @_controls.bind 'next', (e) =>\n            @next e\n            \n            return\n        @_controls.bind 'first', (e) =>\n            @first e\n            \n            return\n        @_controls.bind 'last', (e) =>\n            @last e\n            \n            return\n        @_controls.bind 'close', (e) =>\n            @destroy e\n\n            return\n        @_hotspots.bind 'hotspotsRequested', (e) =>\n            @trigger 'hotspotsRequested', e\n\n            return\n\n        @_core.bind 'appeared', (e) =>\n            @_eventTracking.trigger 'appeared', e\n            @trigger 'appeared', e\n\n            return\n        @_core.bind 'disappeared', (e) =>\n            @_eventTracking.trigger 'disappeared', e\n            @trigger 'disappeared', e\n\n            return\n        @_core.bind 'beforeNavigation', (e) =>\n            @_eventTracking.trigger 'beforeNavigation', e\n            @_controls.trigger 'beforeNavigation', e\n            @trigger 'beforeNavigation', e\n\n            return\n        @_core.bind 'afterNavigation', (e) =>\n            @_eventTracking.trigger 'afterNavigation', e\n            @_hotspots.trigger 'afterNavigation', e\n            @trigger 'afterNavigation', e\n\n            return\n        @_core.bind 'attemptedNavigation', (e) =>\n            @_eventTracking.trigger 'attemptedNavigation', e\n            @trigger 'attemptedNavigation', e\n\n            return\n        @_core.bind 'clicked', (e) =>\n            @_eventTracking.trigger 'clicked', e\n            @trigger 'clicked', e\n\n            return\n        @_core.bind 'doubleClicked', (e) =>\n            @_eventTracking.trigger 'doubleClicked', e\n            @trigger 'doubleClicked', e\n\n            return\n        @_core.bind 'contextmenu', (e) =>\n            @trigger 'contextmenu', e\n\n            return\n        @_core.bind 'pressed', (e) =>\n            @_eventTracking.trigger 'pressed', e\n            @trigger 'pressed', e\n\n            return\n        @_core.bind 'panStart', (e) =>\n            @_eventTracking.trigger 'panStart', e\n            @trigger 'panStart', e\n\n            return\n        @_core.bind 'zoomedIn', (e) =>\n            @_eventTracking.trigger 'zoomedIn', e\n            @trigger 'zoomedIn', e\n\n            return\n        @_core.bind 'zoomedOut', (e) =>\n            @_eventTracking.trigger 'zoomedOut', e\n            @trigger 'zoomedOut', e\n\n            return\n        @_core.bind 'pageLoaded', (e) =>\n            @_eventTracking.trigger 'pageLoaded', e\n            @trigger 'pageLoaded', e\n\n            return\n        @_core.bind 'pagesLoaded', (e) =>\n            @_hotspots.trigger 'pagesLoaded', e\n            @trigger 'pagesLoaded', e\n\n            return\n        @_core.bind 'resized', (e) =>\n            @_hotspots.trigger 'resized'\n            @trigger 'resized', e\n\n            return\n\n        @bind 'hotspotsRequested', @hotspotsRequested.bind(@)\n        @bind 'beforeNavigation', @beforeNavigation.bind(@)\n        @bind 'clicked', @clicked.bind(@)\n        @bind 'contextmenu', @contextmenu.bind(@)\n        @bind 'pressed', @pressed.bind(@)\n\n        return\n\n    pickHotspot: (e, callback) ->\n        return if not @hotspots?\n\n        if @popover?\n            @popover.destroy()\n            @popover = null\n        \n        hotspots = e.verso.overlayEls.map (overlayEl) =>\n            @hotspots[overlayEl.getAttribute('data-id')]\n\n        if hotspots.length is 1\n            callback hotspots[0]\n        else if hotspots.length > 1\n            @popover = SGN.CoreUIKit.singleChoicePopover\n                el: @el\n                header: SGN.translations.t 'paged_publication.hotspot_picker.header'\n                x: e.verso.x\n                y: e.verso.y\n                items: hotspots\n                    .filter (hotspot) -> hotspot.type is 'offer'\n                    .map (hotspot) ->\n                        id: hotspot.id\n                        title: hotspot.offer.heading\n                        subtitle: hotspot.offer.pricing.currency + '' + hotspot.offer.pricing.price\n            , (e) =>\n                callback @hotspots[e.id]\n\n                return\n        \n        return\n\n    processHotspotQueue: ->\n        return if not @hotspots?\n\n        @hotspotQueue = @hotspotQueue.filter (hotspotRequest) =>\n            hotspots = {}\n            versoPageSpread = @_core.getVerso().pageSpreads.find (pageSpread) ->\n                pageSpread.getId() is hotspotRequest.id\n\n            for id, hotspot of @hotspots\n                continue if hotspots[id]?\n\n                for page in hotspotRequest.pages\n                    if hotspot.locations[page.pageNumber]?\n                        hotspots[id] =\n                            type: hotspot.type\n                            id: hotspot.id\n                            locations: hotspot.locations\n                        \n                        break\n\n            @_hotspots.trigger 'hotspotsReceived',\n                pageSpread: @_core.pageSpreads.get hotspotRequest.id\n                versoPageSpread: versoPageSpread\n                ratio: @options.hotspotRatio\n                pages: hotspotRequest.pages\n                hotspots: hotspots\n\n            false\n\n        return\n\n    hotspotsRequested: (e) ->\n        @hotspotQueue.push e\n        @processHotspotQueue()\n\n        return\n    \n    applyHotspots: (hotspots = {}) ->\n        @hotspots = hotspots\n\n        @processHotspotQueue()\n\n        return\n    \n    beforeNavigation: ->\n        @popover.destroy() if @popover?\n\n        return\n    \n    clicked: (e) ->\n        @pickHotspot e, (hotspot) =>\n            @trigger 'hotspotClicked', hotspot\n\n            return\n            \n        return\n    \n    contextmenu: (e) ->\n        @pickHotspot e, (hotspot) =>\n            @trigger 'hotspotContextmenu', hotspot\n\n            return\n        \n        return\n    \n    pressed: (e) ->\n        @pickHotspot e, (hotspot) =>\n            @trigger 'hotspotPressed', hotspot\n\n            return\n            \n        return\n\nMicroEvent.mixin Viewer\n\nmodule.exports = Viewer\n","MicroEvent = require 'microevent'\nSGN = require '../../core'\n\nmodule.exports = class Bootstrapper\n    constructor: (@options = {}) ->\n        return\n\n    createViewer: (data) ->\n        new SGN.PagedPublicationKit.Viewer @options.el,\n            id: @options.id\n            ownedBy: data.details.dealer_id\n            color: '#' + data.details.branding.pageflip.color\n            hotspotRatio: data.details.dimensions.height\n            keyboard: true\n            pageId: @options.pageId\n            eventTracker: @options.eventTracker\n            pages: @transformPages data.pages\n\n    transformPages: (pages) ->\n        pages.map (page, i) ->\n            pageNumber = i + 1\n\n            id: 'page' + pageNumber\n            label: pageNumber + ''\n            pageNumber: pageNumber\n            images:\n                medium: page.view\n                large: page.zoom\n\n    applyHotspots: (viewer, hotspots) ->\n        obj = {}\n\n        hotspots.forEach (hotspot) -> obj[hotspot.id] = hotspot\n        \n        viewer.applyHotspots obj\n\n        return\n    \n    fetch: (callback) ->\n        callback = callback.bind @\n        SGN.util.async.parallel [@fetchDetails.bind(@), @fetchPages.bind(@)], (result) ->\n            data =\n                details: result[0][1]\n                pages: result[1][1]\n\n            if result[0][0]?\n                callback result[0][0]\n            else if result[1][0]?\n                callback result[1][0]\n            else if data.details? and data.pages?\n                callback null, data\n            else\n                callback new Error()\n\n            return\n        \n        return\n\n    fetchDetails: (callback) ->\n        SGN.CoreKit.request\n            url: \"/v2/catalogs/#{@options.id}\"\n        , callback\n\n        return\n\n    fetchPages: (callback) ->\n        SGN.CoreKit.request\n            url: \"/v2/catalogs/#{@options.id}/pages\"\n        , callback\n\n        return\n\n    fetchHotspots: (callback) ->\n        SGN.CoreKit.request\n            url: \"/v2/catalogs/#{@options.id}/hotspots\"\n        , callback\n\n        return","Incito = require 'incito-browser'\nMicroEvent = require 'microevent'\n\nclass Viewer\n    constructor: (@el, @options = {}) ->\n        @incito = new Incito @el,\n            incito: @options.incito\n            \n        return\n    \n    start: ->\n        @incito.start()\n\n        @el.classList.add 'sgn-incito--started'\n\n        @\n    \n    destroy: ->\n        @incito.destroy()\n\n        return\n\nMicroEvent.mixin Viewer\n\nmodule.exports = Viewer","module.exports =\n    Viewer: require './viewer'\n\n    Bootstrapper: require './bootstrapper'\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.Incito = factory());\n}(this, (function () { 'use strict';\n\n  function _typeof(obj) {\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) _setPrototypeOf(subClass, superClass);\n  }\n\n  function _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _getPrototypeOf(o);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _assertThisInitialized(self);\n  }\n\n  var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n  function createCommonjsModule(fn, module) {\n  \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n  }\n\n  var _core = createCommonjsModule(function (module) {\n  var core = module.exports = { version: '2.5.7' };\n  if (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n  });\n  var _core_1 = _core.version;\n\n  var _global = createCommonjsModule(function (module) {\n  // https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n  var global = module.exports = typeof window != 'undefined' && window.Math == Math\n    ? window : typeof self != 'undefined' && self.Math == Math ? self\n    // eslint-disable-next-line no-new-func\n    : Function('return this')();\n  if (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n  });\n\n  var _library = false;\n\n  var _shared = createCommonjsModule(function (module) {\n  var SHARED = '__core-js_shared__';\n  var store = _global[SHARED] || (_global[SHARED] = {});\n\n  (module.exports = function (key, value) {\n    return store[key] || (store[key] = value !== undefined ? value : {});\n  })('versions', []).push({\n    version: _core.version,\n    mode: 'global',\n    copyright: 'Â© 2018 Denis Pushkarev (zloirock.ru)'\n  });\n  });\n\n  var id$1 = 0;\n  var px = Math.random();\n  var _uid = function (key) {\n    return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id$1 + px).toString(36));\n  };\n\n  var _wks = createCommonjsModule(function (module) {\n  var store = _shared('wks');\n\n  var Symbol = _global.Symbol;\n  var USE_SYMBOL = typeof Symbol == 'function';\n\n  var $exports = module.exports = function (name) {\n    return store[name] || (store[name] =\n      USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : _uid)('Symbol.' + name));\n  };\n\n  $exports.store = store;\n  });\n\n  var _isObject = function (it) {\n    return typeof it === 'object' ? it !== null : typeof it === 'function';\n  };\n\n  var _anObject = function (it) {\n    if (!_isObject(it)) throw TypeError(it + ' is not an object!');\n    return it;\n  };\n\n  var _fails = function (exec) {\n    try {\n      return !!exec();\n    } catch (e) {\n      return true;\n    }\n  };\n\n  // Thank's IE8 for his funny defineProperty\n  var _descriptors = !_fails(function () {\n    return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n  });\n\n  var document$1 = _global.document;\n  // typeof document.createElement is 'object' in old IE\n  var is = _isObject(document$1) && _isObject(document$1.createElement);\n  var _domCreate = function (it) {\n    return is ? document$1.createElement(it) : {};\n  };\n\n  var _ie8DomDefine = !_descriptors && !_fails(function () {\n    return Object.defineProperty(_domCreate('div'), 'a', { get: function () { return 7; } }).a != 7;\n  });\n\n  // 7.1.1 ToPrimitive(input [, PreferredType])\n\n  // instead of the ES6 spec version, we didn't implement @@toPrimitive case\n  // and the second argument - flag - preferred type is a string\n  var _toPrimitive = function (it, S) {\n    if (!_isObject(it)) return it;\n    var fn, val;\n    if (S && typeof (fn = it.toString) == 'function' && !_isObject(val = fn.call(it))) return val;\n    if (typeof (fn = it.valueOf) == 'function' && !_isObject(val = fn.call(it))) return val;\n    if (!S && typeof (fn = it.toString) == 'function' && !_isObject(val = fn.call(it))) return val;\n    throw TypeError(\"Can't convert object to primitive value\");\n  };\n\n  var dP = Object.defineProperty;\n\n  var f = _descriptors ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n    _anObject(O);\n    P = _toPrimitive(P, true);\n    _anObject(Attributes);\n    if (_ie8DomDefine) try {\n      return dP(O, P, Attributes);\n    } catch (e) { /* empty */ }\n    if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n    if ('value' in Attributes) O[P] = Attributes.value;\n    return O;\n  };\n\n  var _objectDp = {\n  \tf: f\n  };\n\n  var _propertyDesc = function (bitmap, value) {\n    return {\n      enumerable: !(bitmap & 1),\n      configurable: !(bitmap & 2),\n      writable: !(bitmap & 4),\n      value: value\n    };\n  };\n\n  var _hide = _descriptors ? function (object, key, value) {\n    return _objectDp.f(object, key, _propertyDesc(1, value));\n  } : function (object, key, value) {\n    object[key] = value;\n    return object;\n  };\n\n  // 22.1.3.31 Array.prototype[@@unscopables]\n  var UNSCOPABLES = _wks('unscopables');\n  var ArrayProto = Array.prototype;\n  if (ArrayProto[UNSCOPABLES] == undefined) _hide(ArrayProto, UNSCOPABLES, {});\n  var _addToUnscopables = function (key) {\n    ArrayProto[UNSCOPABLES][key] = true;\n  };\n\n  var _iterStep = function (done, value) {\n    return { value: value, done: !!done };\n  };\n\n  var _iterators = {};\n\n  var toString = {}.toString;\n\n  var _cof = function (it) {\n    return toString.call(it).slice(8, -1);\n  };\n\n  // fallback for non-array-like ES3 and non-enumerable old V8 strings\n\n  // eslint-disable-next-line no-prototype-builtins\n  var _iobject = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n    return _cof(it) == 'String' ? it.split('') : Object(it);\n  };\n\n  // 7.2.1 RequireObjectCoercible(argument)\n  var _defined = function (it) {\n    if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n    return it;\n  };\n\n  // to indexed object, toObject with fallback for non-array-like ES3 strings\n\n\n  var _toIobject = function (it) {\n    return _iobject(_defined(it));\n  };\n\n  var hasOwnProperty = {}.hasOwnProperty;\n  var _has = function (it, key) {\n    return hasOwnProperty.call(it, key);\n  };\n\n  var _redefine = createCommonjsModule(function (module) {\n  var SRC = _uid('src');\n  var TO_STRING = 'toString';\n  var $toString = Function[TO_STRING];\n  var TPL = ('' + $toString).split(TO_STRING);\n\n  _core.inspectSource = function (it) {\n    return $toString.call(it);\n  };\n\n  (module.exports = function (O, key, val, safe) {\n    var isFunction = typeof val == 'function';\n    if (isFunction) _has(val, 'name') || _hide(val, 'name', key);\n    if (O[key] === val) return;\n    if (isFunction) _has(val, SRC) || _hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n    if (O === _global) {\n      O[key] = val;\n    } else if (!safe) {\n      delete O[key];\n      _hide(O, key, val);\n    } else if (O[key]) {\n      O[key] = val;\n    } else {\n      _hide(O, key, val);\n    }\n  // add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n  })(Function.prototype, TO_STRING, function toString() {\n    return typeof this == 'function' && this[SRC] || $toString.call(this);\n  });\n  });\n\n  var _aFunction = function (it) {\n    if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n    return it;\n  };\n\n  // optional / simple context binding\n\n  var _ctx = function (fn, that, length) {\n    _aFunction(fn);\n    if (that === undefined) return fn;\n    switch (length) {\n      case 1: return function (a) {\n        return fn.call(that, a);\n      };\n      case 2: return function (a, b) {\n        return fn.call(that, a, b);\n      };\n      case 3: return function (a, b, c) {\n        return fn.call(that, a, b, c);\n      };\n    }\n    return function (/* ...args */) {\n      return fn.apply(that, arguments);\n    };\n  };\n\n  var PROTOTYPE = 'prototype';\n\n  var $export = function (type, name, source) {\n    var IS_FORCED = type & $export.F;\n    var IS_GLOBAL = type & $export.G;\n    var IS_STATIC = type & $export.S;\n    var IS_PROTO = type & $export.P;\n    var IS_BIND = type & $export.B;\n    var target = IS_GLOBAL ? _global : IS_STATIC ? _global[name] || (_global[name] = {}) : (_global[name] || {})[PROTOTYPE];\n    var exports = IS_GLOBAL ? _core : _core[name] || (_core[name] = {});\n    var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n    var key, own, out, exp;\n    if (IS_GLOBAL) source = name;\n    for (key in source) {\n      // contains in native\n      own = !IS_FORCED && target && target[key] !== undefined;\n      // export native or passed\n      out = (own ? target : source)[key];\n      // bind timers to global for call from export context\n      exp = IS_BIND && own ? _ctx(out, _global) : IS_PROTO && typeof out == 'function' ? _ctx(Function.call, out) : out;\n      // extend global\n      if (target) _redefine(target, key, out, type & $export.U);\n      // export\n      if (exports[key] != out) _hide(exports, key, exp);\n      if (IS_PROTO && expProto[key] != out) expProto[key] = out;\n    }\n  };\n  _global.core = _core;\n  // type bitmap\n  $export.F = 1;   // forced\n  $export.G = 2;   // global\n  $export.S = 4;   // static\n  $export.P = 8;   // proto\n  $export.B = 16;  // bind\n  $export.W = 32;  // wrap\n  $export.U = 64;  // safe\n  $export.R = 128; // real proto method for `library`\n  var _export = $export;\n\n  // 7.1.4 ToInteger\n  var ceil = Math.ceil;\n  var floor = Math.floor;\n  var _toInteger = function (it) {\n    return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n  };\n\n  // 7.1.15 ToLength\n\n  var min = Math.min;\n  var _toLength = function (it) {\n    return it > 0 ? min(_toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n  };\n\n  var max = Math.max;\n  var min$1 = Math.min;\n  var _toAbsoluteIndex = function (index, length) {\n    index = _toInteger(index);\n    return index < 0 ? max(index + length, 0) : min$1(index, length);\n  };\n\n  // false -> Array#indexOf\n  // true  -> Array#includes\n\n\n\n  var _arrayIncludes = function (IS_INCLUDES) {\n    return function ($this, el, fromIndex) {\n      var O = _toIobject($this);\n      var length = _toLength(O.length);\n      var index = _toAbsoluteIndex(fromIndex, length);\n      var value;\n      // Array#includes uses SameValueZero equality algorithm\n      // eslint-disable-next-line no-self-compare\n      if (IS_INCLUDES && el != el) while (length > index) {\n        value = O[index++];\n        // eslint-disable-next-line no-self-compare\n        if (value != value) return true;\n      // Array#indexOf ignores holes, Array#includes - not\n      } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n        if (O[index] === el) return IS_INCLUDES || index || 0;\n      } return !IS_INCLUDES && -1;\n    };\n  };\n\n  var shared = _shared('keys');\n\n  var _sharedKey = function (key) {\n    return shared[key] || (shared[key] = _uid(key));\n  };\n\n  var arrayIndexOf = _arrayIncludes(false);\n  var IE_PROTO = _sharedKey('IE_PROTO');\n\n  var _objectKeysInternal = function (object, names) {\n    var O = _toIobject(object);\n    var i = 0;\n    var result = [];\n    var key;\n    for (key in O) if (key != IE_PROTO) _has(O, key) && result.push(key);\n    // Don't enum bug & hidden keys\n    while (names.length > i) if (_has(O, key = names[i++])) {\n      ~arrayIndexOf(result, key) || result.push(key);\n    }\n    return result;\n  };\n\n  // IE 8- don't enum bug keys\n  var _enumBugKeys = (\n    'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n  ).split(',');\n\n  // 19.1.2.14 / 15.2.3.14 Object.keys(O)\n\n\n\n  var _objectKeys = Object.keys || function keys(O) {\n    return _objectKeysInternal(O, _enumBugKeys);\n  };\n\n  var _objectDps = _descriptors ? Object.defineProperties : function defineProperties(O, Properties) {\n    _anObject(O);\n    var keys = _objectKeys(Properties);\n    var length = keys.length;\n    var i = 0;\n    var P;\n    while (length > i) _objectDp.f(O, P = keys[i++], Properties[P]);\n    return O;\n  };\n\n  var document$2 = _global.document;\n  var _html = document$2 && document$2.documentElement;\n\n  // 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n\n\n\n  var IE_PROTO$1 = _sharedKey('IE_PROTO');\n  var Empty = function () { /* empty */ };\n  var PROTOTYPE$1 = 'prototype';\n\n  // Create object with fake `null` prototype: use iframe Object with cleared prototype\n  var createDict = function () {\n    // Thrash, waste and sodomy: IE GC bug\n    var iframe = _domCreate('iframe');\n    var i = _enumBugKeys.length;\n    var lt = '<';\n    var gt = '>';\n    var iframeDocument;\n    iframe.style.display = 'none';\n    _html.appendChild(iframe);\n    iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n    // createDict = iframe.contentWindow.Object;\n    // html.removeChild(iframe);\n    iframeDocument = iframe.contentWindow.document;\n    iframeDocument.open();\n    iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n    iframeDocument.close();\n    createDict = iframeDocument.F;\n    while (i--) delete createDict[PROTOTYPE$1][_enumBugKeys[i]];\n    return createDict();\n  };\n\n  var _objectCreate = Object.create || function create(O, Properties) {\n    var result;\n    if (O !== null) {\n      Empty[PROTOTYPE$1] = _anObject(O);\n      result = new Empty();\n      Empty[PROTOTYPE$1] = null;\n      // add \"__proto__\" for Object.getPrototypeOf polyfill\n      result[IE_PROTO$1] = O;\n    } else result = createDict();\n    return Properties === undefined ? result : _objectDps(result, Properties);\n  };\n\n  var def = _objectDp.f;\n\n  var TAG = _wks('toStringTag');\n\n  var _setToStringTag = function (it, tag, stat) {\n    if (it && !_has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n  };\n\n  var IteratorPrototype = {};\n\n  // 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\n  _hide(IteratorPrototype, _wks('iterator'), function () { return this; });\n\n  var _iterCreate = function (Constructor, NAME, next) {\n    Constructor.prototype = _objectCreate(IteratorPrototype, { next: _propertyDesc(1, next) });\n    _setToStringTag(Constructor, NAME + ' Iterator');\n  };\n\n  // 7.1.13 ToObject(argument)\n\n  var _toObject = function (it) {\n    return Object(_defined(it));\n  };\n\n  // 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\n\n\n  var IE_PROTO$2 = _sharedKey('IE_PROTO');\n  var ObjectProto = Object.prototype;\n\n  var _objectGpo = Object.getPrototypeOf || function (O) {\n    O = _toObject(O);\n    if (_has(O, IE_PROTO$2)) return O[IE_PROTO$2];\n    if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n      return O.constructor.prototype;\n    } return O instanceof Object ? ObjectProto : null;\n  };\n\n  var ITERATOR = _wks('iterator');\n  var BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\n  var FF_ITERATOR = '@@iterator';\n  var KEYS = 'keys';\n  var VALUES = 'values';\n\n  var returnThis = function () { return this; };\n\n  var _iterDefine = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n    _iterCreate(Constructor, NAME, next);\n    var getMethod = function (kind) {\n      if (!BUGGY && kind in proto) return proto[kind];\n      switch (kind) {\n        case KEYS: return function keys() { return new Constructor(this, kind); };\n        case VALUES: return function values() { return new Constructor(this, kind); };\n      } return function entries() { return new Constructor(this, kind); };\n    };\n    var TAG = NAME + ' Iterator';\n    var DEF_VALUES = DEFAULT == VALUES;\n    var VALUES_BUG = false;\n    var proto = Base.prototype;\n    var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n    var $default = $native || getMethod(DEFAULT);\n    var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n    var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n    var methods, key, IteratorPrototype;\n    // Fix native\n    if ($anyNative) {\n      IteratorPrototype = _objectGpo($anyNative.call(new Base()));\n      if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n        // Set @@toStringTag to native iterators\n        _setToStringTag(IteratorPrototype, TAG, true);\n        // fix for some old engines\n        if (!_library && typeof IteratorPrototype[ITERATOR] != 'function') _hide(IteratorPrototype, ITERATOR, returnThis);\n      }\n    }\n    // fix Array#{values, @@iterator}.name in V8 / FF\n    if (DEF_VALUES && $native && $native.name !== VALUES) {\n      VALUES_BUG = true;\n      $default = function values() { return $native.call(this); };\n    }\n    // Define iterator\n    if ((!_library || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n      _hide(proto, ITERATOR, $default);\n    }\n    // Plug for library\n    _iterators[NAME] = $default;\n    _iterators[TAG] = returnThis;\n    if (DEFAULT) {\n      methods = {\n        values: DEF_VALUES ? $default : getMethod(VALUES),\n        keys: IS_SET ? $default : getMethod(KEYS),\n        entries: $entries\n      };\n      if (FORCED) for (key in methods) {\n        if (!(key in proto)) _redefine(proto, key, methods[key]);\n      } else _export(_export.P + _export.F * (BUGGY || VALUES_BUG), NAME, methods);\n    }\n    return methods;\n  };\n\n  // 22.1.3.4 Array.prototype.entries()\n  // 22.1.3.13 Array.prototype.keys()\n  // 22.1.3.29 Array.prototype.values()\n  // 22.1.3.30 Array.prototype[@@iterator]()\n  var es6_array_iterator = _iterDefine(Array, 'Array', function (iterated, kind) {\n    this._t = _toIobject(iterated); // target\n    this._i = 0;                   // next index\n    this._k = kind;                // kind\n  // 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n  }, function () {\n    var O = this._t;\n    var kind = this._k;\n    var index = this._i++;\n    if (!O || index >= O.length) {\n      this._t = undefined;\n      return _iterStep(1);\n    }\n    if (kind == 'keys') return _iterStep(0, index);\n    if (kind == 'values') return _iterStep(0, O[index]);\n    return _iterStep(0, [index, O[index]]);\n  }, 'values');\n\n  // argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\n  _iterators.Arguments = _iterators.Array;\n\n  _addToUnscopables('keys');\n  _addToUnscopables('values');\n  _addToUnscopables('entries');\n\n  var ITERATOR$1 = _wks('iterator');\n  var TO_STRING_TAG = _wks('toStringTag');\n  var ArrayValues = _iterators.Array;\n\n  var DOMIterables = {\n    CSSRuleList: true, // TODO: Not spec compliant, should be false.\n    CSSStyleDeclaration: false,\n    CSSValueList: false,\n    ClientRectList: false,\n    DOMRectList: false,\n    DOMStringList: false,\n    DOMTokenList: true,\n    DataTransferItemList: false,\n    FileList: false,\n    HTMLAllCollection: false,\n    HTMLCollection: false,\n    HTMLFormElement: false,\n    HTMLSelectElement: false,\n    MediaList: true, // TODO: Not spec compliant, should be false.\n    MimeTypeArray: false,\n    NamedNodeMap: false,\n    NodeList: true,\n    PaintRequestList: false,\n    Plugin: false,\n    PluginArray: false,\n    SVGLengthList: false,\n    SVGNumberList: false,\n    SVGPathSegList: false,\n    SVGPointList: false,\n    SVGStringList: false,\n    SVGTransformList: false,\n    SourceBufferList: false,\n    StyleSheetList: true, // TODO: Not spec compliant, should be false.\n    TextTrackCueList: false,\n    TextTrackList: false,\n    TouchList: false\n  };\n\n  for (var collections = _objectKeys(DOMIterables), i = 0; i < collections.length; i++) {\n    var NAME = collections[i];\n    var explicit = DOMIterables[NAME];\n    var Collection = _global[NAME];\n    var proto = Collection && Collection.prototype;\n    var key;\n    if (proto) {\n      if (!proto[ITERATOR$1]) _hide(proto, ITERATOR$1, ArrayValues);\n      if (!proto[TO_STRING_TAG]) _hide(proto, TO_STRING_TAG, NAME);\n      _iterators[NAME] = ArrayValues;\n      if (explicit) for (key in es6_array_iterator) if (!proto[key]) _redefine(proto, key, es6_array_iterator[key], true);\n    }\n  }\n\n  var microevent = createCommonjsModule(function (module) {\n  /**\n   * MicroEvent - to make any js object an event emitter (server or browser)\n   * \n   * - pure javascript - server compatible, browser compatible\n   * - dont rely on the browser doms\n   * - super simple - you get it immediatly, no mistery, no magic involved\n   *\n   * - create a MicroEventDebug with goodies to debug\n   *   - make it safer to use\n  */\n\n  var MicroEvent\t= function(){};\n  MicroEvent.prototype\t= {\n  \tbind\t: function(event, fct){\n  \t\tthis._events = this._events || {};\n  \t\tthis._events[event] = this._events[event]\t|| [];\n  \t\tthis._events[event].push(fct);\n  \t},\n  \tunbind\t: function(event, fct){\n  \t\tthis._events = this._events || {};\n  \t\tif( event in this._events === false  )\treturn;\n  \t\tthis._events[event].splice(this._events[event].indexOf(fct), 1);\n  \t},\n  \ttrigger\t: function(event /* , args... */){\n  \t\tthis._events = this._events || {};\n  \t\tif( event in this._events === false  )\treturn;\n  \t\tfor(var i = 0; i < this._events[event].length; i++){\n  \t\t\tthis._events[event][i].apply(this, Array.prototype.slice.call(arguments, 1));\n  \t\t}\n  \t}\n  };\n\n  /**\n   * mixin will delegate all MicroEvent.js function in the destination object\n   *\n   * - require('MicroEvent').mixin(Foobar) will make Foobar able to use MicroEvent\n   *\n   * @param {Object} the object which will support MicroEvent\n  */\n  MicroEvent.mixin\t= function(destObject){\n  \tvar props\t= ['bind', 'unbind', 'trigger'];\n  \tfor(var i = 0; i < props.length; i ++){\n  \t\tdestObject.prototype[props[i]]\t= MicroEvent.prototype[props[i]];\n  \t}\n  };\n\n  // export in common js\n  if( 'exports' in module){\n  \tmodule.exports\t= MicroEvent;\n  }\n  });\n\n  var _fixReWks = function (KEY, length, exec) {\n    var SYMBOL = _wks(KEY);\n    var fns = exec(_defined, SYMBOL, ''[KEY]);\n    var strfn = fns[0];\n    var rxfn = fns[1];\n    if (_fails(function () {\n      var O = {};\n      O[SYMBOL] = function () { return 7; };\n      return ''[KEY](O) != 7;\n    })) {\n      _redefine(String.prototype, KEY, strfn);\n      _hide(RegExp.prototype, SYMBOL, length == 2\n        // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n        // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n        ? function (string, arg) { return rxfn.call(string, this, arg); }\n        // 21.2.5.6 RegExp.prototype[@@match](string)\n        // 21.2.5.9 RegExp.prototype[@@search](string)\n        : function (string) { return rxfn.call(string, this); }\n      );\n    }\n  };\n\n  // @@replace logic\n  _fixReWks('replace', 2, function (defined, REPLACE, $replace) {\n    // 21.1.3.14 String.prototype.replace(searchValue, replaceValue)\n    return [function replace(searchValue, replaceValue) {\n      var O = defined(this);\n      var fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return fn !== undefined\n        ? fn.call(searchValue, O, replaceValue)\n        : $replace.call(String(O), searchValue, replaceValue);\n    }, $replace];\n  });\n\n  var utils;\n  utils = {\n    formatUnit: function formatUnit(unit) {\n      if (unit == null) {\n        return 0;\n      } else if (typeof unit === 'number') {\n        return \"\".concat(unit, \"px\");\n      } else if (typeof unit === 'string') {\n        return unit.replace('dp', 'px');\n      } else {\n        return 0;\n      }\n    },\n    isDefinedStr: function isDefinedStr(value) {\n      return typeof value === 'string' && value.length > 0;\n    },\n    escapeHTML: function escapeHTML() {\n      var unsafe = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      return unsafe.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;').replace(/'/g, '&#039;');\n    },\n    throttle: function throttle(fn, delay) {\n      var timer;\n\n      if (delay === 0) {\n        return fn;\n      }\n\n      timer = false;\n      return function () {\n        if (timer) {\n          return;\n        }\n\n        timer = true;\n        return setTimeout(function () {\n          timer = false;\n          fn.apply(void 0, arguments);\n        }, delay);\n      };\n    }\n  };\n  var utils_1 = utils;\n\n  var quot = /\"/g;\n  // B.2.3.2.1 CreateHTML(string, tag, attribute, value)\n  var createHTML = function (string, tag, attribute, value) {\n    var S = String(_defined(string));\n    var p1 = '<' + tag;\n    if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n    return p1 + '>' + S + '</' + tag + '>';\n  };\n  var _stringHtml = function (NAME, exec) {\n    var O = {};\n    O[NAME] = exec(createHTML);\n    _export(_export.P + _export.F * _fails(function () {\n      var test = ''[NAME]('\"');\n      return test !== test.toLowerCase() || test.split('\"').length > 3;\n    }), 'String', O);\n  };\n\n  // B.2.3.10 String.prototype.link(url)\n  _stringHtml('link', function (createHTML) {\n    return function link(url) {\n      return createHTML(this, 'a', 'href', url);\n    };\n  });\n\n  var View,\n      utils$1,\n      indexOf = [].indexOf;\n  utils$1 = utils_1;\n\n  var view = View = function () {\n    var View =\n    /*#__PURE__*/\n    function () {\n      function View() {\n        var attrs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        _classCallCheck(this, View);\n\n        this.attrs = attrs;\n        this.el = this.createElement();\n        this.setAttributes();\n        return;\n      }\n\n      _createClass(View, [{\n        key: \"render\",\n        value: function render() {\n          return this;\n        }\n      }, {\n        key: \"createElement\",\n        value: function createElement() {\n          var className, el, ref;\n          el = document.createElement(this.tagName);\n          className = (ref = this.className) != null ? ref : '';\n          el.className = 'incito__view ' + className;\n          return el;\n        }\n      }, {\n        key: \"setAttributes\",\n        value: function setAttributes() {\n          var _this = this;\n\n          var ref, ref1, shadow, strokeStyles, transforms; // Identifier.\n\n          if (utils$1.isDefinedStr(this.attrs.id)) {\n            this.el.setAttribute('data-id', this.attrs.id);\n          } // Role.\n\n\n          if (utils$1.isDefinedStr(this.attrs.role)) {\n            this.el.setAttribute('data-role', this.attrs.role);\n          } // Accessibility label.\n\n\n          if (utils$1.isDefinedStr(this.attrs.accessibility_label)) {\n            this.el.setAttribute('aria-label', this.attrs.accessibility_label);\n          } // Accessibility visibility.\n\n\n          if (this.attrs.accessibility_hidden === true) {\n            this.el.setAttribute('aria-hidden', true);\n          } // Title.\n\n\n          if (utils$1.isDefinedStr(this.attrs.title)) {\n            this.el.setAttribute('title', this.attrs.title);\n          } // Gravity.\n\n\n          if (utils$1.isDefinedStr(this.attrs.gravity)) {\n            this.el.setAttribute('data-gravity', this.attrs.gravity);\n          } // Link.\n\n\n          if (utils$1.isDefinedStr(this.attrs.link)) {\n            this.el.setAttribute('data-link', '');\n            this.el.addEventListener('click', function () {\n              window.open(_this.attrs.link, '_blank');\n            }, false);\n          } // Width.\n\n\n          if (this.attrs.layout_width === 'match_parent') {\n            this.el.style.width = '100%';\n          } else if (this.attrs.layout_width === 'wrap_content') {\n            this.el.style.display = 'inline-block';\n          } else if (this.attrs.layout_width != null) {\n            this.el.style.width = utils$1.formatUnit(this.attrs.layout_width);\n          } // Height.\n\n\n          if (this.attrs.layout_height === 'match_parent') {\n            this.el.style.height = '100%';\n          } else if (this.attrs.layout_height === 'wrap_content') {\n            this.el.style.height = 'auto';\n          } else if (this.attrs.layout_height != null) {\n            this.el.style.height = utils$1.formatUnit(this.attrs.layout_height);\n          } // Min width.\n\n\n          if (this.attrs.min_width != null) {\n            this.el.style.minWidth = utils$1.formatUnit(this.attrs.min_width);\n          } // Max width.\n\n\n          if (this.attrs.max_width != null) {\n            this.el.style.maxWidth = utils$1.formatUnit(this.attrs.max_width);\n          } // Min height.\n\n\n          if (this.attrs.min_height != null) {\n            this.el.style.minHeight = utils$1.formatUnit(this.attrs.min_height);\n          } // Max height.\n\n\n          if (this.attrs.max_height != null) {\n            this.el.style.maxHeight = utils$1.formatUnit(this.attrs.max_height);\n          } // Position in relation to parent.\n\n\n          if (this.attrs.layout_top != null) {\n            this.el.style.top = utils$1.formatUnit(this.attrs.layout_top);\n          }\n\n          if (this.attrs.layout_left != null) {\n            this.el.style.left = utils$1.formatUnit(this.attrs.layout_left);\n          }\n\n          if (this.attrs.layout_right != null) {\n            this.el.style.right = utils$1.formatUnit(this.attrs.layout_right);\n          }\n\n          if (this.attrs.layout_bottom != null) {\n            this.el.style.bottom = utils$1.formatUnit(this.attrs.layout_bottom);\n          } // Background.\n\n\n          if (utils$1.isDefinedStr(this.attrs.background_color)) {\n            this.el.style.backgroundColor = this.attrs.background_color;\n          }\n\n          if (utils$1.isDefinedStr(this.attrs.background_image)) {\n            this.el.setAttribute('data-src', this.attrs.background_image);\n            this.lazyload = true;\n          }\n\n          if ((ref = this.attrs.background_tile_mode) === 'repeat_x' || ref === 'repeat_y' || ref === 'repeat') {\n            this.el.style.backgroundRepeat = this.attrs.background_tile_mode.replace('_', '-');\n          }\n\n          if (utils$1.isDefinedStr(this.attrs.background_image_position)) {\n            this.el.style.backgroundPosition = this.attrs.background_image_position.replace('_', ' ');\n          }\n\n          if (this.attrs.background_image_scale_type === 'center_crop') {\n            this.el.style.backgroundSize = 'cover';\n          } else if (this.attrs.background_image_scale_type === 'center_inside') {\n            this.el.style.backgroundSize = 'contain';\n          } // Margin.\n\n\n          if (this.attrs.layout_margin != null) {\n            this.el.style.margin = utils$1.formatUnit(this.attrs.layout_margin);\n          } else {\n            if (this.attrs.layout_margin_top != null) {\n              this.el.style.marginTop = utils$1.formatUnit(this.attrs.layout_margin_top);\n            }\n\n            if (this.attrs.layout_margin_left != null) {\n              this.el.style.marginLeft = utils$1.formatUnit(this.attrs.layout_margin_left);\n            }\n\n            if (this.attrs.layout_margin_right != null) {\n              this.el.style.marginRight = utils$1.formatUnit(this.attrs.layout_margin_right);\n            }\n\n            if (this.attrs.layout_margin_bottom != null) {\n              this.el.style.marginBottom = utils$1.formatUnit(this.attrs.layout_margin_bottom);\n            }\n          } // Padding.\n\n\n          if (this.attrs.padding != null) {\n            this.el.style.padding = utils$1.formatUnit(this.attrs.padding);\n          } else {\n            if (this.attrs.padding_top != null) {\n              this.el.style.paddingTop = utils$1.formatUnit(this.attrs.padding_top);\n            }\n\n            if (this.attrs.padding_left != null) {\n              this.el.style.paddingLeft = utils$1.formatUnit(this.attrs.padding_left);\n            }\n\n            if (this.attrs.padding_right != null) {\n              this.el.style.paddingRight = utils$1.formatUnit(this.attrs.padding_right);\n            }\n\n            if (this.attrs.padding_bottom != null) {\n              this.el.style.paddingBottom = utils$1.formatUnit(this.attrs.padding_bottom);\n            }\n          } // Corner radius.\n\n\n          if (this.attrs.corner_radius != null) {\n            this.el.style.borderRadius = utils$1.formatUnit(this.attrs.corner_radius);\n          } else {\n            if (this.attrs.corner_top_left_radius != null) {\n              this.el.style.borderTopLeftRadius = utils$1.formatUnit(this.attrs.corner_top_left_radius);\n            }\n\n            if (this.attrs.corner_top_right_radius != null) {\n              this.el.style.borderTopRightRadius = utils$1.formatUnit(this.attrs.corner_top_right_radius);\n            }\n\n            if (this.attrs.corner_bottom_left_radius != null) {\n              this.el.style.borderBottomLeftRadius = utils$1.formatUnit(this.attrs.corner_bottom_left_radius);\n            }\n\n            if (this.attrs.corner_bottom_right_radius != null) {\n              this.el.style.borderBottomRightRadius = utils$1.formatUnit(this.attrs.corner_bottom_right_radius);\n            }\n          } // Clip children.\n\n\n          if (this.attrs.clip_children === false) {\n            this.el.style.overflow = 'visible';\n          } // Shadow.\n\n\n          shadow = this.getShadow();\n\n          if (shadow != null) {\n            this.el.style.boxShadow = \"\".concat(shadow.dx, \"px \").concat(shadow.dy, \"px \").concat(shadow.radius, \"px \").concat(shadow.color);\n          } // Stroke.\n\n\n          strokeStyles = ['solid', 'dotted', 'dashed'];\n\n          if (this.attrs.stroke_width != null) {\n            this.el.style.borderWidth = utils$1.formatUnit(this.attrs.stroke_width);\n          }\n\n          if (this.attrs.stroke_color != null) {\n            this.el.style.borderColor = this.attrs.stroke_color;\n          }\n\n          if (ref1 = this.attrs.stroke_style, indexOf.call(strokeStyles, ref1) >= 0) {\n            this.el.style.borderStyle = this.attrs.stroke_style;\n          }\n\n          if (this.attrs.stroke_top_width != null) {\n            this.el.style.borderTopWidth = utils$1.formatUnit(this.attrs.stroke_top_width);\n          }\n\n          if (this.attrs.stroke_top_color != null) {\n            this.el.style.borderTopColor = this.attrs.stroke_top_color;\n          }\n\n          if (this.attrs.stroke_left_width != null) {\n            this.el.style.borderLeftWidth = utils$1.formatUnit(this.attrs.stroke_left_width);\n          }\n\n          if (this.attrs.stroke_left_color != null) {\n            this.el.style.borderLeftColor = this.attrs.stroke_left_color;\n          }\n\n          if (this.attrs.stroke_right_width != null) {\n            this.el.style.borderRightWidth = utils$1.formatUnit(this.attrs.stroke_right_width);\n          }\n\n          if (this.attrs.stroke_right_color != null) {\n            this.el.style.borderRightColor = this.attrs.stroke_right_color;\n          }\n\n          if (this.attrs.stroke_bottom_width != null) {\n            this.el.style.borderBottomWidth = utils$1.formatUnit(this.attrs.stroke_bottom_width);\n          }\n\n          if (this.attrs.stroke_bottom_color != null) {\n            this.el.style.borderBottomColor = this.attrs.stroke_bottom_color;\n          } // Transforms.\n\n\n          transforms = this.getTransforms();\n\n          if (transforms.length > 0) {\n            this.el.style.transform = transforms.join(' ');\n          } // Transform origin.\n\n\n          if (Array.isArray(this.attrs.transform_origin) && this.attrs.transform_origin.length === 2) {\n            this.el.style.transformOrigin = [utils$1.formatUnit(this.attrs.transform_origin[0]), utils$1.formatUnit(this.attrs.transform_origin[1])].join(' ');\n          }\n        }\n      }, {\n        key: \"getTransforms\",\n        value: function getTransforms() {\n          var transforms, translateX, translateY;\n          transforms = [];\n          translateX = utils$1.formatUnit(this.attrs.transform_translate_x);\n          translateY = utils$1.formatUnit(this.attrs.transform_translate_y);\n\n          if (translateX !== 0) {\n            transforms.push(\"translateX(\".concat(translateX, \")\"));\n          }\n\n          if (translateY !== 0) {\n            transforms.push(\"translateY(\".concat(translateY, \")\"));\n          }\n\n          if (typeof this.attrs.transform_rotate === 'number' && this.attrs.transform_rotate !== 0) {\n            transforms.push(\"rotate(\".concat(this.attrs.transform_rotate, \"deg)\"));\n          }\n\n          if (typeof this.attrs.transform_scale === 'number' && this.attrs.transform_scale !== 1) {\n            transforms.push(\"scale(\".concat(this.attrs.transform_scale, \")\"));\n          }\n\n          return transforms;\n        }\n      }, {\n        key: \"getShadow\",\n        value: function getShadow() {\n          var color, dx, dy, radius;\n\n          if (utils$1.isDefinedStr(this.attrs.shadow_color)) {\n            dx = typeof this.attrs.shadow_dx === 'number' ? this.attrs.shadow_dx : 0;\n            dy = typeof this.attrs.shadow_dy === 'number' ? this.attrs.shadow_dy : 0;\n            radius = typeof this.attrs.shadow_radius === 'number' ? this.attrs.shadow_radius : 0;\n            color = this.attrs.shadow_color;\n            return {\n              dx: dx,\n              dy: dy,\n              radius: radius,\n              color: color\n            };\n          }\n        }\n      }]);\n\n      return View;\n    }();\n    View.prototype.tagName = 'div';\n    View.prototype.className = null;\n    return View;\n  }.call(commonjsGlobal);\n\n  var FragView;\n\n  var frag = FragView =\n  /*#__PURE__*/\n  function () {\n    function FragView() {\n      _classCallCheck(this, FragView);\n    }\n\n    _createClass(FragView, [{\n      key: \"render\",\n      value: function render() {\n        this.el = document.createDocumentFragment();\n        return this;\n      }\n    }]);\n\n    return FragView;\n  }();\n\n  var Image, View$1, utils$2;\n  View$1 = view;\n  utils$2 = utils_1;\n\n  var image = Image = function () {\n    var Image =\n    /*#__PURE__*/\n    function (_View) {\n      _inherits(Image, _View);\n\n      function Image() {\n        _classCallCheck(this, Image);\n\n        return _possibleConstructorReturn(this, _getPrototypeOf(Image).apply(this, arguments));\n      }\n\n      _createClass(Image, [{\n        key: \"render\",\n        value: function render() {\n          if (utils$2.isDefinedStr(this.attrs.src)) {\n            this.el.setAttribute('data-src', this.attrs.src);\n          }\n\n          if (utils$2.isDefinedStr(this.attrs.label)) {\n            this.el.setAttribute('alt', this.attrs.label);\n          } else {\n            this.el.setAttribute('alt', '');\n          }\n\n          return this;\n        }\n      }]);\n\n      return Image;\n    }(View$1);\n    Image.prototype.tagName = 'img';\n    Image.prototype.className = 'incito__image-view';\n    Image.prototype.lazyload = true;\n    return Image;\n  }.call(commonjsGlobal);\n\n  var dP$1 = _objectDp.f;\n  var FProto = Function.prototype;\n  var nameRE = /^\\s*function ([^ (]*)/;\n  var NAME$1 = 'name';\n\n  // 19.2.4.2 name\n  NAME$1 in FProto || _descriptors && dP$1(FProto, NAME$1, {\n    configurable: true,\n    get: function () {\n      try {\n        return ('' + this).match(nameRE)[1];\n      } catch (e) {\n        return '';\n      }\n    }\n  });\n\n  // 7.2.8 IsRegExp(argument)\n\n\n  var MATCH = _wks('match');\n  var _isRegexp = function (it) {\n    var isRegExp;\n    return _isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : _cof(it) == 'RegExp');\n  };\n\n  // @@split logic\n  _fixReWks('split', 2, function (defined, SPLIT, $split) {\n    var isRegExp = _isRegexp;\n    var _split = $split;\n    var $push = [].push;\n    var $SPLIT = 'split';\n    var LENGTH = 'length';\n    var LAST_INDEX = 'lastIndex';\n    if (\n      'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n      'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n      'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n      '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n      '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n      ''[$SPLIT](/.?/)[LENGTH]\n    ) {\n      var NPCG = /()??/.exec('')[1] === undefined; // nonparticipating capturing group\n      // based on es5-shim implementation, need to rework it\n      $split = function (separator, limit) {\n        var string = String(this);\n        if (separator === undefined && limit === 0) return [];\n        // If `separator` is not a regex, use native split\n        if (!isRegExp(separator)) return _split.call(string, separator, limit);\n        var output = [];\n        var flags = (separator.ignoreCase ? 'i' : '') +\n                    (separator.multiline ? 'm' : '') +\n                    (separator.unicode ? 'u' : '') +\n                    (separator.sticky ? 'y' : '');\n        var lastLastIndex = 0;\n        var splitLimit = limit === undefined ? 4294967295 : limit >>> 0;\n        // Make `global` and avoid `lastIndex` issues by working with a copy\n        var separatorCopy = new RegExp(separator.source, flags + 'g');\n        var separator2, match, lastIndex, lastLength, i;\n        // Doesn't need flags gy, but they don't hurt\n        if (!NPCG) separator2 = new RegExp('^' + separatorCopy.source + '$(?!\\\\s)', flags);\n        while (match = separatorCopy.exec(string)) {\n          // `separatorCopy.lastIndex` is not reliable cross-browser\n          lastIndex = match.index + match[0][LENGTH];\n          if (lastIndex > lastLastIndex) {\n            output.push(string.slice(lastLastIndex, match.index));\n            // Fix browsers whose `exec` methods don't consistently return `undefined` for NPCG\n            // eslint-disable-next-line no-loop-func\n            if (!NPCG && match[LENGTH] > 1) match[0].replace(separator2, function () {\n              for (i = 1; i < arguments[LENGTH] - 2; i++) if (arguments[i] === undefined) match[i] = undefined;\n            });\n            if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));\n            lastLength = match[0][LENGTH];\n            lastLastIndex = lastIndex;\n            if (output[LENGTH] >= splitLimit) break;\n          }\n          if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n        }\n        if (lastLastIndex === string[LENGTH]) {\n          if (lastLength || !separatorCopy.test('')) output.push('');\n        } else output.push(string.slice(lastLastIndex));\n        return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n      };\n    // Chakra, V8\n    } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {\n      $split = function (separator, limit) {\n        return separator === undefined && limit === 0 ? [] : _split.call(this, separator, limit);\n      };\n    }\n    // 21.1.3.17 String.prototype.split(separator, limit)\n    return [function split(separator, limit) {\n      var O = defined(this);\n      var fn = separator == undefined ? undefined : separator[SPLIT];\n      return fn !== undefined ? fn.call(separator, O, limit) : $split.call(String(O), separator, limit);\n    }, $split];\n  });\n\n  var TextView,\n      View$2,\n      utils$3,\n      indexOf$1 = [].indexOf;\n  View$2 = view;\n  utils$3 = utils_1;\n\n  var text = TextView = function () {\n    var TextView =\n    /*#__PURE__*/\n    function (_View) {\n      _inherits(TextView, _View);\n\n      function TextView() {\n        _classCallCheck(this, TextView);\n\n        return _possibleConstructorReturn(this, _getPrototypeOf(TextView).apply(this, arguments));\n      }\n\n      _createClass(TextView, [{\n        key: \"render\",\n        value: function render() {\n          var parsedText, ref, text, textShadow, textStyles;\n\n          if (typeof this.attrs.text !== 'string') {\n            return this;\n          }\n\n          textStyles = (this.attrs.text_style || '').split('|');\n          text = this.attrs.text;\n\n          if (Array.isArray(this.attrs.spans) && this.attrs.spans.length > 0) {\n            parsedText = this.parseSpans(text, this.attrs.spans);\n            text = parsedText.map(function (item) {\n              var escapedText, spanName;\n              escapedText = utils$3.escapeHTML(item.text || '');\n\n              if (item.span != null && item.span.name === 'link' && item.span.url != null) {\n                return '<a href=\"' + encodeURI(item.span.url) + '\" rel=\"external\" target=\"_blank\">' + escapedText + '</a>';\n              } else if (item.span != null && item.span.name != null) {\n                spanName = item.span.name;\n                return '<span data-name=\"' + spanName + '\">' + escapedText + '</span>';\n              } else {\n                return escapedText;\n              }\n            });\n            text = text.join('');\n          } else {\n            text = utils$3.escapeHTML(text);\n          }\n\n          if (this.attrs.text_prevent_widow) {\n            this.el.innerHTML = text.replace(/\\&nbsp;([^\\s]+)$/, ' $1').replace(/\\s([^\\s]+)\\s*$/, '&nbsp;$1');\n          } else {\n            this.el.innerHTML = text;\n          } // Font family.\n\n\n          if (Array.isArray(this.attrs.font_family) && this.attrs.font_family.length > 0) {\n            this.el.style.fontFamily = this.attrs.font_family.join(', ');\n          } // Text size.\n\n\n          if (this.attrs.text_size != null) {\n            this.el.style.fontSize = \"\".concat(this.attrs.text_size, \"px\");\n          } // Line height.\n\n\n          if (this.attrs.line_spacing_multiplier != null) {\n            this.el.style.lineHeight = this.attrs.line_spacing_multiplier;\n          } // Text color.\n\n\n          if (this.attrs.text_color != null) {\n            this.el.style.color = this.attrs.text_color;\n          } // Text styles.\n\n\n          if (indexOf$1.call(textStyles, 'bold') >= 0) {\n            this.el.style.fontWeight = 'bold';\n          }\n\n          if (indexOf$1.call(textStyles, 'italic') >= 0) {\n            this.el.style.fontStyle = 'italic';\n          } // Text shadow.\n\n\n          textShadow = this.getTextShadow();\n\n          if (textShadow != null) {\n            this.el.style.textShadow = \"\".concat(textShadow.dx, \"px \").concat(textShadow.dy, \"px \").concat(textShadow.radius, \"px \").concat(textShadow.color);\n          } // Text alignment.\n\n\n          if (this.attrs.text_alignment === 'left') {\n            this.el.style.textAlign = 'left';\n          } else if (this.attrs.text_alignment === 'center') {\n            this.el.style.textAlign = 'center';\n          } else if (this.attrs.text_alignment === 'right') {\n            this.el.style.textAlign = 'right';\n          } // Font stretch.\n\n\n          if ((ref = this.attrs.font_stretch) === 'condensed' || ref === 'normal' || ref === 'expanded') {\n            this.el.style.fontStretch = this.attrs.font_stretch;\n          } // Max lines.\n\n\n          if (this.attrs.single_line === true || this.attrs.max_lines === 1) {\n            this.el.setAttribute('data-single-line', true);\n          } else if (typeof this.attrs.max_lines === 'number') {\n            this.el.style.display = '-webkit-box';\n            this.el.style.webkitLineClamp = this.attrs.max_lines;\n            this.el.style.webkitBoxOrient = 'vertical';\n          } // All caps.\n\n\n          if (this.attrs.text_all_caps === true) {\n            this.el.style.textTransform = 'uppercase';\n          }\n\n          return this;\n        }\n      }, {\n        key: \"parseSpans\",\n        value: function parseSpans(text) {\n          var spans = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n          var result;\n          result = [];\n\n          if (spans.length === 0) {\n            result.push({\n              text: text\n            });\n          } else if (spans[0].start > 0) {\n            result.push({\n              text: text.slice(0, spans[0].start)\n            });\n          }\n\n          spans.forEach(function (span, i) {\n            var endIndex, startIndex;\n            startIndex = span.start;\n            endIndex = span.end;\n            result.push({\n              text: text.slice(startIndex, endIndex),\n              span: span\n            });\n\n            if (i === spans.length - 1) {\n              if (endIndex < text.length) {\n                result.push({\n                  text: text.slice(endIndex, text.length)\n                });\n              }\n            } else if (endIndex < spans[i + 1].start) {\n              result.push({\n                text: text.slice(endIndex, spans[i + 1].start)\n              });\n            }\n          });\n          return result;\n        }\n      }, {\n        key: \"getTextShadow\",\n        value: function getTextShadow() {\n          var color, dx, dy, radius;\n\n          if (utils$3.isDefinedStr(this.attrs.text_shadow_color)) {\n            dx = typeof this.attrs.text_shadow_dx === 'number' ? this.attrs.text_shadow_dx : 0;\n            dy = typeof this.attrs.text_shadow_dy === 'number' ? this.attrs.text_shadow_dy : 0;\n            radius = typeof this.attrs.text_shadow_radius === 'number' ? this.attrs.text_shadow_radius : 0;\n            color = this.attrs.text_shadow_color;\n            return {\n              dx: dx,\n              dy: dy,\n              radius: radius,\n              color: color\n            };\n          }\n        }\n      }]);\n\n      return TextView;\n    }(View$2);\n    TextView.prototype.tagName = 'p';\n    TextView.prototype.className = 'incito__text-view';\n    return TextView;\n  }.call(commonjsGlobal);\n\n  var FlexLayout,\n      View$3,\n      allowedHostnames,\n      utils$4,\n      indexOf$2 = [].indexOf;\n  View$3 = view;\n  utils$4 = utils_1;\n  allowedHostnames = ['www.youtube.com', 'www.vimeo.com', 'video.twentythree.net'];\n\n  var videoEmbed = FlexLayout = function () {\n    var FlexLayout =\n    /*#__PURE__*/\n    function (_View) {\n      _inherits(FlexLayout, _View);\n\n      function FlexLayout() {\n        _classCallCheck(this, FlexLayout);\n\n        return _possibleConstructorReturn(this, _getPrototypeOf(FlexLayout).apply(this, arguments));\n      }\n\n      _createClass(FlexLayout, [{\n        key: \"render\",\n        value: function render() {\n          var linkEl, ref, src;\n\n          if (utils$4.isDefinedStr(this.attrs.src)) {\n            src = this.attrs.src;\n            linkEl = document.createElement('a');\n            linkEl.setAttribute('href', src);\n\n            if (ref = linkEl.hostname, indexOf$2.call(allowedHostnames, ref) >= 0) {\n              this.el.setAttribute('data-src', src);\n              this.lazyload = true;\n            }\n          }\n\n          return this;\n        }\n      }]);\n\n      return FlexLayout;\n    }(View$3);\n    FlexLayout.prototype.className = 'incito__video-embed-view';\n    FlexLayout.prototype.lazyload = false;\n    return FlexLayout;\n  }.call(commonjsGlobal);\n\n  var Video, View$4, utils$5;\n  View$4 = view;\n  utils$5 = utils_1;\n\n  var video = Video = function () {\n    var Video =\n    /*#__PURE__*/\n    function (_View) {\n      _inherits(Video, _View);\n\n      function Video() {\n        _classCallCheck(this, Video);\n\n        return _possibleConstructorReturn(this, _getPrototypeOf(Video).apply(this, arguments));\n      }\n\n      _createClass(Video, [{\n        key: \"render\",\n        value: function render() {\n          if (!utils$5.isDefinedStr(this.attrs.src)) {\n            return;\n          }\n\n          this.el.muted = true;\n          this.el.preload = 'metadata';\n          this.el.setAttribute('playsinline', 'true');\n          this.el.setAttribute('webkit-playsinline', 'true');\n          this.el.setAttribute('data-src', this.attrs.src);\n          this.el.setAttribute('data-mime', this.attrs.mime);\n\n          if (this.attrs.autoplay === true) {\n            this.el.autoplay = true;\n          }\n\n          if (this.attrs.loop === true) {\n            this.el.loop = true;\n          }\n\n          if (this.attrs.controls === true) {\n            this.el.controls = true;\n          }\n\n          return this;\n        }\n      }]);\n\n      return Video;\n    }(View$4);\n    Video.prototype.className = 'incito__video-view';\n    Video.prototype.tagName = 'video';\n    Video.prototype.lazyload = true;\n    return Video;\n  }.call(commonjsGlobal);\n\n  var LinearLayout, View$5;\n  View$5 = view;\n\n  var linearLayout = LinearLayout = function () {\n    var LinearLayout =\n    /*#__PURE__*/\n    function (_View) {\n      _inherits(LinearLayout, _View);\n\n      function LinearLayout() {\n        _classCallCheck(this, LinearLayout);\n\n        return _possibleConstructorReturn(this, _getPrototypeOf(LinearLayout).apply(this, arguments));\n      }\n\n      _createClass(LinearLayout, [{\n        key: \"render\",\n        value: function render() {\n          return this;\n        }\n      }]);\n\n      return LinearLayout;\n    }(View$5);\n    LinearLayout.prototype.className = 'incito__linear-layout-view';\n    return LinearLayout;\n  }.call(commonjsGlobal);\n\n  var AbsoluteLayout, View$6;\n  View$6 = view;\n\n  var absoluteLayout = AbsoluteLayout = function () {\n    var AbsoluteLayout =\n    /*#__PURE__*/\n    function (_View) {\n      _inherits(AbsoluteLayout, _View);\n\n      function AbsoluteLayout() {\n        _classCallCheck(this, AbsoluteLayout);\n\n        return _possibleConstructorReturn(this, _getPrototypeOf(AbsoluteLayout).apply(this, arguments));\n      }\n\n      _createClass(AbsoluteLayout, [{\n        key: \"render\",\n        value: function render() {\n          return this;\n        }\n      }]);\n\n      return AbsoluteLayout;\n    }(View$6);\n    AbsoluteLayout.prototype.className = 'incito__absolute-layout-view';\n    return AbsoluteLayout;\n  }.call(commonjsGlobal);\n\n  var FlexLayout$1,\n      View$7,\n      alignContentModes,\n      alignItemModes,\n      flexDirectionModes,\n      flexJustifyModes,\n      utils$6,\n      indexOf$3 = [].indexOf;\n  View$7 = view;\n  utils$6 = utils_1;\n  alignItemModes = ['stretch', 'center', 'flex-start', 'flex-end', 'baseline'];\n  alignContentModes = ['stretch', 'center', 'flex-start', 'flex-end', 'space-between', 'space-around', 'initial'];\n  flexJustifyModes = ['flex-start', 'flex-end', 'center', 'space-between', 'space-around'];\n  flexDirectionModes = ['row', 'column'];\n\n  var flexLayout = FlexLayout$1 = function () {\n    var FlexLayout =\n    /*#__PURE__*/\n    function (_View) {\n      _inherits(FlexLayout, _View);\n\n      function FlexLayout() {\n        _classCallCheck(this, FlexLayout);\n\n        return _possibleConstructorReturn(this, _getPrototypeOf(FlexLayout).apply(this, arguments));\n      }\n\n      _createClass(FlexLayout, [{\n        key: \"render\",\n        value: function render() {\n          var ref, ref1, ref2, ref3;\n\n          if (ref = this.attrs.layout_flex_align_items, indexOf$3.call(alignItemModes, ref) >= 0) {\n            this.el.style.alignItems = this.attrs.layout_flex_align_items;\n            this.el.style.msAlignItems = this.attrs.layout_flex_align_items;\n          }\n\n          if (ref1 = this.attrs.layout_flex_align_content, indexOf$3.call(alignContentModes, ref1) >= 0) {\n            this.el.style.alignContent = this.attrs.layout_flex_align_content;\n            this.el.style.msAlignContent = this.attrs.layout_flex_align_content;\n          }\n\n          if (ref2 = this.attrs.layout_flex_justify_content, indexOf$3.call(flexJustifyModes, ref2) >= 0) {\n            this.el.style.justifyContent = this.attrs.layout_flex_justify_content;\n            this.el.style.msFlexPack = this.attrs.layout_flex_justify_content;\n          }\n\n          if (ref3 = this.attrs.layout_flex_direction, indexOf$3.call(flexDirectionModes, ref3) >= 0) {\n            this.el.style.flexDirection = this.attrs.layout_flex_direction;\n            this.el.style.msFlexDirection = this.attrs.layout_flex_direction;\n          }\n\n          if (typeof this.attrs.layout_flex_shrink === 'number') {\n            this.el.style.flexShrink = this.attrs.layout_flex_shrink;\n            this.el.style.msFlexShrink = this.attrs.layout_flex_shrink;\n          }\n\n          if (typeof this.attrs.layout_flex_grow === 'number') {\n            this.el.style.flexGrow = this.attrs.layout_flex_grow;\n            this.el.style.msFlexGrow = this.attrs.layout_flex_grow;\n          }\n\n          if (this.attrs.layout_flex_basis != null) {\n            this.el.style.flexBasis = utils$6.formatUnit(this.attrs.layout_flex_basis);\n            this.el.style.msFlexBasis = utils$6.formatUnit(this.attrs.layout_flex_basis);\n          }\n\n          return this;\n        }\n      }]);\n\n      return FlexLayout;\n    }(View$7);\n    FlexLayout.prototype.className = 'incito__flex-layout-view';\n    return FlexLayout;\n  }.call(commonjsGlobal);\n\n  var AbsoluteLayout$1, FlexLayout$2, FragView$1, ImageView, Incito, LinearLayout$1, MicroEvent, TextView$1, VideoEmbedView, VideoView, View$8, utils$7;\n  MicroEvent = microevent;\n  utils$7 = utils_1;\n  View$8 = view;\n  FragView$1 = frag;\n  ImageView = image;\n  TextView$1 = text;\n  VideoEmbedView = videoEmbed;\n  VideoView = video;\n  LinearLayout$1 = linearLayout;\n  AbsoluteLayout$1 = absoluteLayout;\n  FlexLayout$2 = flexLayout;\n\n  Incito =\n  /*#__PURE__*/\n  function () {\n    function Incito(containerEl) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      _classCallCheck(this, Incito);\n\n      this.containerEl = containerEl;\n      this.options = options;\n      this.el = document.createElement('div');\n      this.entries = [];\n      this.ids = {};\n      return;\n    }\n\n    _createClass(Incito, [{\n      key: \"start\",\n      value: function start() {\n        var incito;\n        incito = this.options.incito || {};\n        this.el.className = 'incito';\n\n        if (incito.locale != null) {\n          this.el.setAttribute('lang', incito.locale);\n        }\n\n        this.loadFonts(incito.font_assets);\n        this.applyTheme(incito.theme);\n        this.render(this.el, incito.root_view);\n        this.containerEl.appendChild(this.el);\n        this.lazyload();\n        return this;\n      }\n    }, {\n      key: \"destroy\",\n      value: function destroy() {\n        this.containerEl.removeChild(this.el);\n\n        if (this.lazyloadCheck != null) {\n          window.removeEventListener('scroll', this.lazyloadCheck, false);\n          window.removeEventListener('resize', this.lazyloadCheck, false);\n        }\n\n        this.trigger('destroyed');\n      }\n    }, {\n      key: \"render\",\n      value: function render(el) {\n        var _this = this;\n\n        var attrs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var match, ref, view$$1, viewName, views;\n        match = null;\n        viewName = attrs.view_name;\n        views = {\n          View: View$8,\n          FragView: FragView$1,\n          ImageView: ImageView,\n          TextView: TextView$1,\n          VideoEmbedView: VideoEmbedView,\n          VideoView: VideoView,\n          LinearLayout: LinearLayout$1,\n          AbsoluteLayout: AbsoluteLayout$1,\n          FlexLayout: FlexLayout$2\n        };\n        match = (ref = views[viewName]) != null ? ref : View$8;\n        view$$1 = new match(attrs).render();\n\n        if (view$$1.lazyload === true) {\n          this.entries.push(view$$1.el);\n        }\n\n        if (attrs.id != null && _typeof(attrs.meta) === 'object') {\n          this.ids[attrs.id] = attrs.meta;\n        }\n\n        if (Array.isArray(attrs.child_views)) {\n          attrs.child_views.forEach(function (childView) {\n            _this.render(view$$1.el, childView);\n          });\n        }\n\n        el.appendChild(view$$1.el);\n        return view$$1.el;\n      }\n    }, {\n      key: \"applyTheme\",\n      value: function applyTheme() {\n        var theme = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        if (Array.isArray(theme.font_family)) {\n          this.el.style.fontFamily = theme.font_family.join(', ');\n        }\n\n        if (utils$7.isDefinedStr(theme.background_color)) {\n          this.el.style.backgroundColor = theme.background_color;\n        }\n\n        if (utils$7.isDefinedStr(theme.text_color)) {\n          this.el.style.color = theme.text_color;\n        }\n\n        if (typeof theme.line_spacing_multiplier === 'number') {\n          this.el.style.lineHeight = theme.line_spacing_multiplier;\n        }\n      }\n    }, {\n      key: \"loadFonts\",\n      value: function loadFonts() {\n        var fontAssets = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var font, key, ref, ref1, styleEl, text$$1, urls, value;\n\n        if ('FontFace' in window) {\n          for (key in fontAssets) {\n            value = fontAssets[key];\n            urls = value.src.map(function (src) {\n              return \"url(\".concat(src[1], \")\");\n            }).join(', ');\n            font = new FontFace(key, urls, {\n              style: (ref = value.style) != null ? ref : 'normal',\n              weight: (ref1 = value.weight) != null ? ref1 : 'normal'\n            });\n            document.fonts.add(font);\n            font.load();\n          }\n        } else {\n          styleEl = document.createElement('style');\n\n          for (key in fontAssets) {\n            value = fontAssets[key];\n            urls = value.src.map(function (src) {\n              return \"url('\".concat(src[1], \"') format('\").concat(src[0], \"')\");\n            }).join(', ');\n            text$$1 = \"@font-face {\\n    font-family: '\".concat(key, \"';\\n    src: \").concat(urls, \";\\n}\");\n            styleEl.appendChild(document.createTextNode(text$$1));\n          }\n\n          document.head.appendChild(styleEl);\n        }\n      }\n    }, {\n      key: \"lazyload\",\n      value: function lazyload() {\n        var _this2 = this;\n\n        var check, isInsideViewport, observer, threshold;\n        threshold = 1000;\n\n        if ('IntersectionObserver' in window) {\n          observer = new IntersectionObserver(function (entries) {\n            entries.forEach(function (entry) {\n              if (entry.isIntersecting || entry.intersectionRatio > 0) {\n                _this2.revealElement(entry.target);\n\n                observer.unobserve(entry.target);\n              }\n            });\n          }, {\n            rootMargin: \"\".concat(threshold, \"px\")\n          });\n          this.entries.forEach(observer.observe.bind(observer));\n        } else {\n          isInsideViewport = function isInsideViewport(el) {\n            var rect, ref, windowHeight;\n            rect = el.getBoundingClientRect();\n            windowHeight = (ref = window.innerHeight) != null ? ref : document.documentElement.clientHeight;\n            return rect.top <= windowHeight + threshold && rect.top + rect.height >= -threshold;\n          };\n\n          check = function check() {\n            _this2.entries = _this2.entries.filter(function (el) {\n              if (isInsideViewport(el)) {\n                _this2.revealElement(el);\n\n                return false;\n              } else {\n                return true;\n              }\n            });\n          };\n\n          this.lazyloadCheck = utils$7.throttle(check, 150);\n          window.addEventListener('scroll', this.lazyloadCheck, false);\n          window.addEventListener('resize', this.lazyloadCheck, false);\n          setTimeout(check, 0);\n        }\n      }\n    }, {\n      key: \"revealElement\",\n      value: function revealElement(el) {\n        var iframeEl, sourceEl, src;\n        src = el.getAttribute('data-src');\n\n        if (el.tagName.toLowerCase() === 'img') {\n          el.addEventListener('load', function () {\n            el.className += ' incito--loaded';\n          });\n          el.setAttribute('src', src);\n        } else if (el.tagName.toLowerCase() === 'video') {\n          sourceEl = document.createElement('source');\n          sourceEl.setAttribute('src', src);\n          sourceEl.setAttribute('type', el.getAttribute('data-mime'));\n          el.appendChild(sourceEl);\n        } else if (/incito__video-embed-view/gi.test(el.className)) {\n          iframeEl = document.createElement('iframe');\n          iframeEl.setAttribute('src', src);\n          el.appendChild(iframeEl);\n        } else {\n          el.style.backgroundImage = \"url(\".concat(src, \")\");\n        }\n      }\n    }]);\n\n    return Incito;\n  }();\n\n  MicroEvent.mixin(Incito);\n  var incito = Incito;\n\n  return incito;\n\n})));\n//# sourceMappingURL=incito.js.map\n","util = require '../../util'\nSGN = require '../../core'\nControls = require './controls'\nschema = require '../../../graphql/incito.graphql'\n\nmodule.exports = class Bootstrapper\n    constructor: (@options = {}) ->\n        @deviceCategory = @getDeviceCategory()\n        @pixelRatio = @getPixelRatio()\n        @pointer = @getPointer()\n        @orientation = @getOrientation()\n        @time = @getTime()\n        @locale = @getLocale()\n        @maxWidth = @getMaxWidth()\n        @versionsSupported = ['1.0.0']\n        @storageKey = \"incito-#{@options.id}\"\n\n        return\n    \n    getDeviceCategory: ->\n        util.getDeviceCategory()\n    \n    getPixelRatio: ->\n        window.devicePixelRatio or 1\n    \n    getPointer: ->\n        util.getPointer()\n    \n    getOrientation: ->\n        orientation = util.getOrientation screen.width, screen.height\n        orientation = 'horizontal' if orientation is 'quadratic'\n\n        orientation\n    \n    getTime: ->\n        new Date().toISOString()\n    \n    getLocale: ->\n        localeChain = []\n        locale = null\n\n        if Array.isArray(navigator.languages) and navigator.languages.length > 0\n            localeChain = localeChain.concat navigator.languages\n        else if typeof navigator.language == 'string' and navigator.language.length > 0\n            localeChain.push navigator.language\n        else if typeof navigator.browserLanguage == 'string' and navigator.browserLanguage.length > 0\n            localeChain.push navigator.browserLanguage\n\n        localeChain.push 'en_US'\n\n        for prefLocale in localeChain\n            continue if not prefLocale?\n\n            prefLocale = prefLocale.replace '-', '_'\n\n            if /[a-z][a-z]_[A-Z][A-Z]/g.test prefLocale\n                locale = prefLocale\n                \n                break\n\n        locale\n    \n    getMaxWidth: ->\n        if Math.abs(window.orientation) is 90\n            Math.min @options.el.offsetWidth, screen.width\n        else\n            @options.el.offsetWidth\n\n    fetch: (callback) ->\n        callback = callback.bind @\n        data = SGN.storage.session.get @storageKey\n\n        if data? and data.response? and data.width is @maxWidth\n            return callback null, data.response\n\n        SGN.GraphKit.request\n            query: schema\n            operationName: 'GetIncitoPublication'\n            variables:\n                id: @options.id\n                deviceCategory: 'DEVICE_CATEGORY_' + @deviceCategory.toUpperCase()\n                pixelRatio: @pixelRatio\n                pointer: 'POINTER_' + @pointer.toUpperCase()\n                orientation: 'ORIENTATION_' + @orientation.toUpperCase()\n                time: @time\n                locale: @locale\n                maxWidth: @maxWidth\n                versionsSupported: @versionsSupported\n        , (err, res) =>\n            if err?\n                callback err\n            else if res.errors and res.errors.length > 0\n                callback util.error(new Error(), 'graph request contained errors')\n            else\n                callback null, res\n\n                SGN.storage.session.set @storageKey,\n                    width: @maxWidth\n                    response: res\n            \n            return\n\n        return\n    \n    createViewer: (data) ->\n        if not data.incito?\n            throw util.error new Error(), 'you need to supply valid Incito to create a viewer'\n\n        viewer = new SGN.IncitoPublicationKit.Viewer @options.el,\n            id: @options.id\n            incito: data.incito\n            eventTracker: @options.eventTracker\n        controls = new Controls viewer\n\n        viewer","module.exports = class Controls\n    constructor: (@viewer) ->\n        @progressEl = @viewer.el.querySelector '.sgn-incito__progress'\n        @scrollListener = @scroll.bind @\n        @isScrolling = false\n\n        if @progressEl?\n            @progressEl.textContent = \"0 %\"\n\n            window.addEventListener 'scroll', @scrollListener, false\n\n            @viewer.bind 'destroyed', =>\n                window.removeEventListener 'scroll', @scrollListener\n\n                return\n\n        return\n    \n    scroll: ->\n        scrollTop = window.pageYOffset\n        winHeight = window.innerHeight\n        docHeight = document.body.clientHeight\n        progress = Math.round scrollTop / (docHeight - winHeight) * 100\n\n        clearTimeout @scrollTimeout\n        @scrollTimeout = setTimeout =>\n            @isScrolling = false\n\n            @viewer.el.classList.remove 'sgn-incito--scrolling'\n\n            return\n        , 1000\n\n        if @isScrolling is false\n            @viewer.el.classList.add 'sgn-incito--scrolling'\n\n            @isScrolling = true\n\n        @progressEl.textContent = \"#{progress} %\"\n\n        return","module.exports =\n    Viewer: require './viewer'\n\n    Bootstrapper: require './bootstrapper'","// @@match logic\nrequire('./_fix-re-wks')('match', 1, function (defined, MATCH, $match) {\n  // 21.1.3.11 String.prototype.match(regexp)\n  return [function match(regexp) {\n    'use strict';\n    var O = defined(this);\n    var fn = regexp == undefined ? undefined : regexp[MATCH];\n    return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n  }, $match];\n});\n","MicroEvent = require 'microevent'\nGator = require '../../../../vendor/gator'\nMustache = require 'mustache'\nkeyCodes = require '../../key-codes'\n\ntemplate = \"\"\"\n<div class=\"sgn-popover__background\" data-close></div>\n<div class=\"sgn-popover__menu\">\n    {{#header}}\n        <div class=\"sgn-popover__header\">{{header}}</div>\n    {{/header}}\n    <div class=\"sgn-popover__content\">\n        <ul>\n            {{#singleChoiceItems}}\n                <li data-index=\"{{index}}\">\n                    <p class=\"sgn-popover-item__title\">{{item.title}}</p>\n                    {{#item.subtitle}}\n                        <p class=\"sgn-popover-item__subtitle\">{{item.subtitle}}</p>\n                    {{/item.subtitle}}\n                </li>\n            {{/singleChoiceItems}}\n        </ul>\n    </div>\n</div>\n\"\"\"\n\nclass Popover\n    constructor: (@options = {}) ->\n        @el = document.createElement 'div'\n        @backgroundEl = document.createElement 'div'\n        @resizeListener = @resize.bind @\n        @scrollListener = @scroll.bind @\n\n        return\n\n    render: ->\n        width = @options.width ? 100\n        header = @options.header\n        template = @options.template if @options.template?\n        trigger = @trigger.bind @\n        view =\n            header: header\n            singleChoiceItems: @options.singleChoiceItems?.map (item, i) ->\n                item: item\n                index: i\n\n        @el.className = 'sgn-popover'\n        @el.setAttribute 'tabindex', -1\n        @el.innerHTML = Mustache.render template, view\n\n        @position()\n        @addEventListeners()\n\n        @\n\n    destroy: ->\n        Gator(@el).off()\n\n        window.removeEventListener 'resize', @resizeListener\n        window.removeEventListener 'scroll', @scrollListener\n\n        if @el.parentNode?\n            @el.parentNode.removeChild @el\n\n            @trigger 'destroyed'\n\n        return\n    \n    position: ->\n        top = @options.y\n        left = @options.x\n\n        menuEl = @el.querySelector '.sgn-popover__menu'\n\n        width = menuEl.offsetWidth\n        height = menuEl.offsetHeight\n        parentWidth = @el.parentNode.offsetWidth\n        parentHeight = @el.parentNode.offsetHeight\n        boundingRect = @el.parentNode.getBoundingClientRect()\n\n        top -= boundingRect.top\n        left -= boundingRect.left\n\n        top -= window.pageYOffset\n        left -= window.pageXOffset\n\n        if top + height > parentHeight\n            menuEl.style.top = parentHeight - height + 'px'\n        else\n            menuEl.style.top = top + 'px'\n\n        if left + width > parentWidth\n            menuEl.style.left = parentWidth - width + 'px'\n        else\n            menuEl.style.left = left + 'px'\n        \n        return\n    \n    addEventListeners: ->\n        trigger = @trigger.bind @\n\n        @el.addEventListener 'keyup', @keyUp.bind(@)\n\n        Gator(@el).on 'click', '[data-index]', (e) ->\n            e.preventDefault()\n            e.stopPropagation()\n\n            trigger 'selected', index: +@getAttribute 'data-index'\n\n            return\n\n        Gator(@el).on 'click', '[data-close]', (e) =>\n            e.preventDefault()\n            e.stopPropagation()\n            \n            @destroy()\n\n            return\n\n        Gator(@el).on 'click', '.sgn-popover__menu', (e) ->\n            e.stopPropagation()\n\n            return\n\n        window.addEventListener 'resize', @resizeListener, false\n        window.addEventListener 'scroll', @scrollListener, false\n\n        return\n\n    keyUp: (e) ->\n        @destroy() if e.keyCode is keyCodes.ESC\n        \n        return\n\n    resize: ->\n        @destroy()\n\n        return\n\n    scroll: ->\n        @destroy()\n\n        return\n\nMicroEvent.mixin Popover\n\nmodule.exports = Popover\n","/**\n * Copyright 2014 Craig Campbell\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * GATOR.JS\n * Simple Event Delegation\n *\n * @version 1.2.4\n *\n * Compatible with IE 9+, FF 3.6+, Safari 5+, Chrome\n *\n * Include legacy.js for compatibility with older browsers\n *\n *             .-._   _ _ _ _ _ _ _ _\n *  .-''-.__.-'00  '-' ' ' ' ' ' ' ' '-.\n * '.___ '    .   .--_'-' '-' '-' _'-' '._\n *  V: V 'vv-'   '_   '.       .'  _..' '.'.\n *    '=.____.=_.--'   :_.__.__:_   '.   : :\n *            (((____.-'        '-.  /   : :\n *                              (((-'\\ .' /\n *                            _____..'  .'\n *                           '-._____.-'\n */\nvar _matcher,\n  _level = 0,\n  _id = 0,\n  _handlers = {},\n  _gatorInstances = {};\n\nfunction _addEvent(gator, type, callback) {\n  // blur and focus do not bubble up but if you use event capturing\n  // then you will get them\n  var useCapture = type == \"blur\" || type == \"focus\";\n  gator.element.addEventListener(type, callback, useCapture);\n}\n\nfunction _cancel(e) {\n  e.preventDefault();\n  e.stopPropagation();\n}\n\n/**\n     * returns function to use for determining if an element\n     * matches a query selector\n     *\n     * @returns {Function}\n     */\nfunction _getMatcher(element) {\n  if (_matcher) {\n    return _matcher;\n  }\n\n  if (element.matches) {\n    _matcher = element.matches;\n    return _matcher;\n  }\n\n  if (element.webkitMatchesSelector) {\n    _matcher = element.webkitMatchesSelector;\n    return _matcher;\n  }\n\n  if (element.mozMatchesSelector) {\n    _matcher = element.mozMatchesSelector;\n    return _matcher;\n  }\n\n  if (element.msMatchesSelector) {\n    _matcher = element.msMatchesSelector;\n    return _matcher;\n  }\n\n  if (element.oMatchesSelector) {\n    _matcher = element.oMatchesSelector;\n    return _matcher;\n  }\n\n  // if it doesn't match a native browser method\n  // fall back to the gator function\n  _matcher = Gator.matchesSelector;\n  return _matcher;\n}\n\n/**\n     * determines if the specified element matches a given selector\n     *\n     * @param {Node} element - the element to compare against the selector\n     * @param {string} selector\n     * @param {Node} boundElement - the element the listener was attached to\n     * @returns {void|Node}\n     */\nfunction _matchesSelector(element, selector, boundElement) {\n  // no selector means this event was bound directly to this element\n  if (selector == \"_root\") {\n    return boundElement;\n  }\n\n  // if we have moved up to the element you bound the event to\n  // then we have come too far\n  if (element === boundElement) {\n    return;\n  }\n\n  // if this is a match then we are done!\n  if (_getMatcher(element).call(element, selector)) {\n    return element;\n  }\n\n  // if this element did not match but has a parent we should try\n  // going up the tree to see if any of the parent elements match\n  // for example if you are looking for a click on an <a> tag but there\n  // is a <span> inside of the a tag that it is the target,\n  // it should still work\n  if (element.parentNode) {\n    _level++;\n    return _matchesSelector(element.parentNode, selector, boundElement);\n  }\n}\n\nfunction _addHandler(gator, event, selector, callback) {\n  if (!_handlers[gator.id]) {\n    _handlers[gator.id] = {};\n  }\n\n  if (!_handlers[gator.id][event]) {\n    _handlers[gator.id][event] = {};\n  }\n\n  if (!_handlers[gator.id][event][selector]) {\n    _handlers[gator.id][event][selector] = [];\n  }\n\n  _handlers[gator.id][event][selector].push(callback);\n}\n\nfunction _removeHandler(gator, event, selector, callback) {\n  // if there are no events tied to this element at all\n  // then don't do anything\n  if (!_handlers[gator.id]) {\n    return;\n  }\n\n  // if there is no event type specified then remove all events\n  // example: Gator(element).off()\n  if (!event) {\n    for (var type in _handlers[gator.id]) {\n      if (_handlers[gator.id].hasOwnProperty(type)) {\n        _handlers[gator.id][type] = {};\n      }\n    }\n    return;\n  }\n\n  // if no callback or selector is specified remove all events of this type\n  // example: Gator(element).off('click')\n  if (!callback && !selector) {\n    _handlers[gator.id][event] = {};\n    return;\n  }\n\n  // if a selector is specified but no callback remove all events\n  // for this selector\n  // example: Gator(element).off('click', '.sub-element')\n  if (!callback) {\n    delete _handlers[gator.id][event][selector];\n    return;\n  }\n\n  // if we have specified an event type, selector, and callback then we\n  // need to make sure there are callbacks tied to this selector to\n  // begin with.  if there aren't then we can stop here\n  if (!_handlers[gator.id][event][selector]) {\n    return;\n  }\n\n  // if there are then loop through all the callbacks and if we find\n  // one that matches remove it from the array\n  for (var i = 0; i < _handlers[gator.id][event][selector].length; i++) {\n    if (_handlers[gator.id][event][selector][i] === callback) {\n      _handlers[gator.id][event][selector].splice(i, 1);\n      break;\n    }\n  }\n}\n\nfunction _handleEvent(id, e, type) {\n  if (!_handlers[id][type]) {\n    return;\n  }\n\n  var target = e.target || e.srcElement,\n    selector,\n    match,\n    matches = {},\n    i = 0,\n    j = 0;\n\n  // find all events that match\n  _level = 0;\n  for (selector in _handlers[id][type]) {\n    if (_handlers[id][type].hasOwnProperty(selector)) {\n      match = _matchesSelector(target, selector, _gatorInstances[id].element);\n\n      if (\n        match &&\n        Gator.matchesEvent(\n          type,\n          _gatorInstances[id].element,\n          match,\n          selector == \"_root\",\n          e\n        )\n      ) {\n        _level++;\n        _handlers[id][type][selector].match = match;\n        matches[_level] = _handlers[id][type][selector];\n      }\n    }\n  }\n\n  // stopPropagation() fails to set cancelBubble to true in Webkit\n  // @see http://code.google.com/p/chromium/issues/detail?id=162270\n  e.stopPropagation = function() {\n    e.cancelBubble = true;\n  };\n\n  for (i = 0; i <= _level; i++) {\n    if (matches[i]) {\n      for (j = 0; j < matches[i].length; j++) {\n        if (matches[i][j].call(matches[i].match, e) === false) {\n          Gator.cancel(e);\n          return;\n        }\n\n        if (e.cancelBubble) {\n          return;\n        }\n      }\n    }\n  }\n}\n\n/**\n     * binds the specified events to the element\n     *\n     * @param {string|Array} events\n     * @param {string} selector\n     * @param {Function} callback\n     * @param {boolean=} remove\n     * @returns {Object}\n     */\nfunction _bind(events, selector, callback, remove) {\n  // fail silently if you pass null or undefined as an alement\n  // in the Gator constructor\n  if (!this.element) {\n    return;\n  }\n\n  if (!(events instanceof Array)) {\n    events = [events];\n  }\n\n  if (!callback && typeof selector == \"function\") {\n    callback = selector;\n    selector = \"_root\";\n  }\n\n  var id = this.id,\n    i;\n\n  function _getGlobalCallback(type) {\n    return function(e) {\n      _handleEvent(id, e, type);\n    };\n  }\n\n  for (i = 0; i < events.length; i++) {\n    if (remove) {\n      _removeHandler(this, events[i], selector, callback);\n      continue;\n    }\n\n    if (!_handlers[id] || !_handlers[id][events[i]]) {\n      Gator.addEvent(this, events[i], _getGlobalCallback(events[i]));\n    }\n\n    _addHandler(this, events[i], selector, callback);\n  }\n\n  return this;\n}\n\n/**\n     * Gator object constructor\n     *\n     * @param {Node} element\n     */\nfunction Gator(element, id) {\n  // called as function\n  if (!(this instanceof Gator)) {\n    // only keep one Gator instance per node to make sure that\n    // we don't create a ton of new objects if you want to delegate\n    // multiple events from the same node\n    //\n    // for example: Gator(document).on(...\n    for (var key in _gatorInstances) {\n      if (_gatorInstances[key].element === element) {\n        return _gatorInstances[key];\n      }\n    }\n\n    _id++;\n    _gatorInstances[_id] = new Gator(element, _id);\n\n    return _gatorInstances[_id];\n  }\n\n  this.element = element;\n  this.id = id;\n}\n\n/**\n     * adds an event\n     *\n     * @param {string|Array} events\n     * @param {string} selector\n     * @param {Function} callback\n     * @returns {Object}\n     */\nGator.prototype.on = function(events, selector, callback) {\n  return _bind.call(this, events, selector, callback);\n};\n\n/**\n     * removes an event\n     *\n     * @param {string|Array} events\n     * @param {string} selector\n     * @param {Function} callback\n     * @returns {Object}\n     */\nGator.prototype.off = function(events, selector, callback) {\n  return _bind.call(this, events, selector, callback, true);\n};\n\nGator.matchesSelector = function() {};\nGator.cancel = _cancel;\nGator.addEvent = _addEvent;\nGator.matchesEvent = function() {\n  return true;\n};\n\nif (typeof module !== \"undefined\" && module.exports) {\n  module.exports = Gator;\n}\n\nif (typeof window !== \"undefined\" && window.exports) {\n  window.Gator = Gator;\n}\n","module.exports = class OfferDetails\n    constructor: (@options = {}) ->\n        @el = document.createElement 'div'\n\n        @el.className = 'sgn-offer-details'\n        @el.setAttribute 'tabindex', -1\n        @el.appendChild @options.contentEl\n\n        @resizeListener = @resize.bind @\n\n        @position()\n\n        return\n    \n    appendTo: (el) ->\n        el.appendChild @el\n\n        @el.offsetWidth\n\n        @show()\n\n        @\n    \n    show: ->\n        @el.className += ' in'\n\n        window.addEventListener 'resize', @resizeListener, false\n\n        @\n    \n    destroy: ->\n        window.removeEventListener 'resize', @resizeListener\n\n        @el.parentNode.removeChild @el\n\n        return\n    \n    position: ->\n        rect = @options.anchorEl.getBoundingClientRect()\n        top = window.pageYOffset + rect.top + @options.anchorEl.offsetHeight\n        left = window.pageXOffset + rect.left\n        width = @options.anchorEl.offsetWidth\n\n        @el.style.top = top + 'px'\n        @el.style.left = left + 'px'\n        @el.style.width = width + 'px'\n\n        return\n    \n    resize: ->\n        @position()\n\n        return","Popover = require './popover'\n\nmodule.exports = (ctx, callback) ->\n    items = ctx.items\n    popover = null\n\n    if items.length is 1\n        callback items[0]\n    else if items.length > 1\n        popover = new Popover\n            header: ctx.header,\n            x: ctx.x\n            y: ctx.y\n            singleChoiceItems: items\n\n        popover.bind 'selected', (e) ->\n            callback items[e.index]\n\n            popover.destroy()\n\n            return\n\n        popover.bind 'destroyed', ->\n            ctx.el.focus()\n\n            return\n\n        ctx.el.appendChild popover.el\n        popover.render().el.focus()\n\n    destroy: ->\n        popover.destroy() if popover?\n\n        return","Gator = require '../../../../vendor/gator'\n\nmodule.exports =\n    OfferDetails: require './offer-details'\n\n    Popover: require './popover'\n\n    singleChoicePopover: require './single-choice-popover'\n\n    on: (el, events, selector, callback) ->\n        Gator(el).on events, selector, callback\n\n    off: (el, events, selector, callback) ->\n        Gator(el).off events, selector, callback","{isBrowser} = require './util'\n\nSGN = require './core'\n\n# Expose storage backends.\nSGN.storage =\n    local: require './storage/client-local'\n    session: require './storage/client-session'\n    cookie: require './storage/client-cookie'\n\n# Expose the different kits.\nSGN.AssetsKit = require './kits/assets'\nSGN.EventsKit = require './kits/events'\nSGN.GraphKit = require './kits/graph'\nSGN.CoreKit = require './kits/core'\nSGN.PagedPublicationKit = require './kits/paged-publication'\nSGN.IncitoPublicationKit = require './kits/incito-publication'\nSGN.CoreUIKit = require './kits/core-ui'\n\n# Set the core session from the cookie store if possible.\nsession = SGN.storage.cookie.get 'session'\n\nif typeof session is 'object'\n    SGN.config.set\n        coreSessionToken: session.token\n        coreSessionClientId: session.client_id\n\nSGN.client = do ->\n    id = SGN.storage.local.get 'client-id'\n    id = id.data if id?.data\n\n    if not id?\n        id = SGN.util.uuid()\n        \n        SGN.storage.local.set 'client-id', id\n\n    id: id\n\n# Listen for changes in the config.\nSGN.config.bind 'change', (changedAttributes) ->\n    eventTracker = changedAttributes.eventTracker\n\n    if eventTracker?\n        eventTracker.trackClientSessionOpened()\n\n    return\n\nif isBrowser()\n    # Autoconfigure the SDK.\n    scriptEl = document.getElementById 'sgn-sdk'\n\n    if scriptEl?\n        appKey = scriptEl.getAttribute 'data-app-key'\n        trackId = scriptEl.getAttribute 'data-track-id'\n        config = {}\n\n        config.appKey = appKey if appKey?\n        config.eventTracker = new SGN.EventsKit.Tracker(trackId: trackId) if trackId?\n\n        SGN.config.set config\n\nmodule.exports = SGN\n"],"names":["global","module","window","Math","self","Function","__g","it","TypeError","fn","that","length","aFunction","undefined","a","call","b","c","apply","arguments","toString","slice","core","version","__e","store","key","value","push","mode","copyright","id","px","random","concat","require$$0","Symbol","require$$1","USE_SYMBOL","name","uid","TAG","ARG","cof","O","T","B","e","tryGet","Object","callee","isObject","exec","defineProperty","get","document","is","createElement","require$$2","S","val","valueOf","dP","P","Attributes","anObject","toPrimitive","IE8_DOM_DEFINE","bitmap","enumerable","configurable","writable","object","f","createDesc","hasOwnProperty","SRC","$toString","TPL","split","inspectSource","safe","isFunction","has","hide","join","String","prototype","this","$export","type","source","own","out","exp","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","IS_PROTO","IS_BIND","target","exports","expProto","ctx","redefine","U","W","R","defer","channel","port","iterator","entries","ret","ITERATOR","ArrayProto","Array","Iterators","ceil","floor","isNaN","min","toInteger","getIteratorMethod","classof","BREAK","RETURN","iterable","step","result","iterFn","getIterFn","index","isArrayIter","toLength","next","done","SPECIES","documentElement","process","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","Dispatch","counter","queue","run","listener","event","data","args","i","un","invoke","nextTick","now","port2","port1","onmessage","postMessage","addEventListener","importScripts","cel","html","appendChild","removeChild","setTimeout","set","clear","macrotask","Observer","MutationObserver","WebKitMutationObserver","Promise","isNode","PromiseCapability","C","resolve","reject","promise","$$resolve","$$reject","v","navigator","userAgent","def","tag","stat","KEY","DESCRIPTORS","SAFE_CLOSING","Internal","newGenericPromiseCapability","OwnPromiseCapability","Wrapper","task","microtask","head","last","notify","flush","parent","domain","exit","enter","standalone","then","toggle","node","createTextNode","observe","characterData","versions","v8","$Promise","empty","newPromiseCapability","newPromiseCapabilityModule","USE_NATIVE","FakePromise","constructor","PromiseRejectionEvent","indexOf","isThenable","isReject","_n","chain","_c","_v","ok","_s","reaction","exited","handler","fail","_h","onHandleUnhandled","onUnhandled","console","unhandled","isUnhandled","perform","emit","onunhandledrejection","reason","error","_a","onrejectionhandled","$reject","_d","_w","$resolve","wrapper","executor","Constructor","forbiddenField","anInstance","err","src","require$$3","onFulfilled","onRejected","D","catch","require$$6","r","capability","x","promiseCapability","promiseResolve","skipClosing","arr","iter","require$$7","all","values","remaining","forOf","$index","alreadyCalled","race","IS_INCLUDES","propertyIsEnumerable","IObject","defined","gOPD","getOwnPropertyDescriptor","toIObject","pIE","check","proto","setPrototypeOf","test","buggy","__proto__","max","shared","arrayIndexOf","$this","el","fromIndex","toAbsoluteIndex","IE_PROTO","names","hiddenKeys","getOwnPropertyNames","$keys","MATCH","isRegExp","ignoreCase","multiline","unicode","sticky","gOPN","$RegExp","RegExp","Base","re1","re2","CORRECT_NEW","require$$4","p","tiRE","piRE","fiU","$flags","proxy","keys","require$$5","flags","define","SYMBOL","wks","fns","strfn","rxfn","fails","string","arg","REPLACE","$replace","searchValue","replaceValue","util","FProto","nameRE","match","isBrowser","options","message","_typeof","code","stack","time","Date","uuid","replace","getQueryParam","field","url","href","location","getRandomNumberBetween","from","to","getOS","ua","getDeviceCategory","deviceCategory","platform","getPointer","pointer","matchMedia","matches","getOrientation","width","height","getScreenDimensions","density","logical","ref","screen","physical","round","getUtcOffsetSeconds","jan1","tmp","getFullYear","toGMTString","substring","lastIndexOf","getUtcDstOffsetSeconds","getTimezoneOffset","getColorBrightness","color","hex","rgb","s","sum","parseInt","btoa","str","Buffer","chunk","size","results","splice","throttle","deferTimer","threshold","scope","context","getTime","clearTimeout","loadImage","callback","img","Image","onload","onerror","Error","distance","lat1","lng1","lat2","lng2","dist","radlat1","radlat2","radtheta","theta","PI","sin","cos","acos","async","parallel","asyncCalls","sharedCallback","allResults","k","makeCallback","promiseCallbackInterop","fun","makePromise","cbParameterIndex","parameters","callParameters","j","neoCallback","UNSCOPABLES","enumBugKeys","defineProperties","Properties","getKeys","Empty","createDict","iframeDocument","iframe","style","display","contentWindow","open","write","lt","close","create","dPs","IteratorPrototype","NAME","descriptor","setToStringTag","ObjectProto","getPrototypeOf","toObject","BUGGY","returnThis","DEFAULT","IS_SET","FORCED","$iterCreate","methods","getMethod","kind","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","iterated","_t","_i","_k","Arguments","TO_STRING_TAG","ArrayValues","DOMIterables","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","collections","explicit","Collection","$iterators","Config","MicroEvent","bind","fct","_events","unbind","trigger","mixin","destObject","props","attrs","changedAttributes","config","option","Mustache","pairs","translations","factory","mustache","objectToString","isArray","escapeRegExp","hasProperty","obj","propName","regExpTest","nonSpaceRe","isWhitespace","re","testRegExp","entityMap","&","<",">","\"","'","/","`","=","whiteRe","spaceRe","equalsRe","curlyRe","tagRe","Scanner","tail","pos","Context","view","parentContext","cache",".","Writer","eos","scan","scanUntil","search","lookup","primitive","intermediateValue","lookupHit","clearCache","parse","template","tags","cacheKey","tokens","openingTagRe","closingTagRe","closingCurlyRe","sections","spaces","hasTag","nonSpace","stripSpace","pop","compileTags","tagsToCompile","start","chr","token","openSection","scanner","valueLength","charAt","nestedTokens","collector","numTokens","nestTokens","lastToken","squashedTokens","squashTokens","parseTemplate","render","partials","renderTokens","originalTemplate","symbol","buffer","renderSection","renderInverted","renderPartial","unescapedValue","escapedValue","rawValue","escape","defaultWriter","to_html","send","nodeName","t","update","locale","coreUrl","graphUrl","eventsTrackUrl","eventsPulseUrl","assetsFileUploadUrl","storage","localStorage","JSON","stringify","SGN","sessionStorage","SPLIT","$split","_split","$push","NPCG","separator","limit","separator2","lastIndex","lastLength","output","lastLastIndex","splitLimit","separatorCopy","ca","ct","len","cookie","trim","date","setTime","days","toUTCString","fileUpload","formData","http","progressCallback","FormData","XMLHttpRequest","append","file","status","response","statusCode","upload","onprogress","lengthComputable","progress","loaded","total","timeout","setRequestHeader","getOwnPropertySymbols","$assign","assign","A","K","forEach","aLen","getSymbols","gOPS","isEnum","__root__","root","fetch","support","searchParams","blob","Blob","arrayBuffer","viewClasses","isDataView","DataView","isPrototypeOf","isArrayBufferView","ArrayBuffer","isView","Headers","normalizeName","normalizeValue","oldValue","map","thisArg","items","iteratorFor","Request","clone","body","_bodyInit","Body","Response","statusText","headers","redirectStatuses","redirect","RangeError","input","init","request","xhr","rawHeaders","getAllResponseHeaders","line","parts","shift","responseURL","responseText","ontimeout","method","credentials","withCredentials","responseType","polyfill","toLowerCase","header","consumed","bodyUsed","fileReaderReady","reader","readBlobAsArrayBuffer","FileReader","readAsArrayBuffer","bufferClone","buf","Uint8Array","byteLength","_initBody","_bodyText","_bodyBlob","_bodyFormData","URLSearchParams","_bodyArrayBuffer","rejected","text","readAsText","chars","fromCharCode","readArrayBufferAsText","decode","json","upcased","toUpperCase","referrer","form","bytes","decodeURIComponent","bodyInit","base64map","crypt","rotl","n","rotr","endian","Number","randomBytes","bytesToWords","words","wordsToBytes","bytesToHex","hexToBytes","substr","bytesToBase64","base64","triplet","base64ToBytes","imod4","pow","charenc","utf8","stringToBytes","bin","unescape","encodeURIComponent","bytesToString","charCodeAt","isBuffer","readFloatLE","isSlowBuffer","_isBuffer","_dispatch","clientLocalStorage","dispatch","dispatching","getPool","md5","pool","ship","encoding","m","l","d","FF","_ff","GG","_gg","HH","_hh","II","_ii","aa","bb","cc","dd","_blocksize","_digestsize","digestbytes","asBytes","asString","filter","evt","Pulse","Tracker","geohash","country","properties","trackId","poolLimit","trackEvent","client","defaultOptions","events","nacks","resEvent","poolEvent","destroyed","connection","connect","WebSocket","onopen","onOpen","onMessage","onError","onclose","onClose","_this","parseCookies","parsedCookies","cookies","keyValuePair","authToken","query","operationName","variables","authCookie","callbackQueue","clientCookieStorage","renewed","session","sha256","secondTime","CoreKit","ensure","appSecret","appVersion","geo","qs","ref1","ref2","geolocation","sign","r_locale","api_av","r_lat","latitude","r_lng","longitude","r_radius","radius","r_sensor","sensor","ref3","responseToken","saveToken","coreSessionToken","globals","convertHex","orig","arrBytesToHex","convertString","UTF8","_imports","isPrime","sqrtN","sqrt","factor","getFractionalBits","nPrime","processBlock","H","M","offset","g","h","gamma0x","gamma0","gamma1x","gamma1","maj","sigma0","t1","x2","TYPE","$create","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","ttl","saveCookie","saveClientId","clientId","coreSessionClientId","client_id","renew","complete","queueCount","$find","original","callbackfn","res","forced","find","PagedPublicationPageSpread","PageSpread","PagedPublicationPageSpreads","PageSpreads","PagedPublicationCore","Verso","_isObject","_anObject","_fails","_descriptors","createCommonjsModule","_global","document$1","_ie8DomDefine","_objectDp","_toPrimitive","_hide","_propertyDesc","_has","_uid","_core","_redefine","_defined","_shared","_wks","$exports","_fixReWks","_cof","_isRegexp","_classCallCheck","instance","_defineProperties","_createClass","protoProps","staticProps","_aFunction","_ctx","_export","_toObject","$sort","sort","comparefn","_iobject","_toIobject","_toInteger","min$1","_toAbsoluteIndex","_enumBugKeys","_objectKeys","_objectKeysInternal","_objectGops","_objectPie","_objectAssign","VENDOR_PREFIXES","TYPE_FUNCTION","abs","setTimeoutContext","bindFn","invokeArrayArg","each","deprecate","deprecationMessage","log","warn","nextKey","extend","dest","merge","inherit","child","base","childP","baseP","_super","boolOrFn","ifUndefined","val1","val2","addEventListeners","types","splitStr","removeEventListeners","removeEventListener","hasParent","parentNode","inStr","inArray","findByKey","toArray","uniqueArray","prefixed","property","prefix","prop","camelProp","_uniqueId","getWindowForElement","element","doc","ownerDocument","defaultView","parentWindow","MOBILE_REGEX","SUPPORT_TOUCH","SUPPORT_POINTER_EVENTS","SUPPORT_ONLY_TOUCH","COMPUTE_INTERVAL","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","DIRECTION_NONE","DIRECTION_LEFT","DIRECTION_RIGHT","DIRECTION_UP","DIRECTION_DOWN","DIRECTION_HORIZONTAL","DIRECTION_VERTICAL","DIRECTION_ALL","PROPS_XY","PROPS_CLIENT_XY","Input","manager","inputTarget","domHandler","ev","enable","inputHandler","eventType","pointersLen","pointers","changedPointersLen","changedPointers","isFirst","isFinal","pointersLength","firstInput","simpleCloneInputData","firstMultiple","offsetCenter","center","getCenter","timeStamp","deltaTime","angle","getAngle","getDistance","offsetDelta","prevDelta","prevInput","deltaX","y","deltaY","computeDeltaXY","offsetDirection","getDirection","end","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","scale","rotation","getRotation","maxPointers","velocity","velocityX","velocityY","direction","lastInterval","computeIntervalInputData","srcEvent","computeInputData","recognize","clientX","clientY","p1","p2","atan2","evEl","evTarget","evWin","destroy","MOUSE_INPUT_MAP","mousedown","mousemove","mouseup","MOUSE_ELEMENT_EVENTS","MOUSE_WINDOW_EVENTS","MouseInput","pressed","button","which","pointerType","POINTER_INPUT_MAP","pointerdown","pointermove","pointerup","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","2","3","4","5","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","PointerEventInput","pointerEvents","MSPointerEvent","PointerEvent","removePointer","eventTypeNormalized","isTouch","storeIndex","pointerId","SINGLE_TOUCH_INPUT_MAP","touchstart","touchmove","touchend","touchcancel","SINGLE_TOUCH_TARGET_EVENTS","SINGLE_TOUCH_WINDOW_EVENTS","SingleTouchInput","started","touches","changed","changedTouches","TOUCH_INPUT_MAP","TOUCH_TARGET_EVENTS","TouchInput","targetIds","allTouches","identifier","targetTouches","changedTargetTouches","touch","DEDUP_TIMEOUT","DEDUP_DISTANCE","TouchMouseInput","mouse","primaryTouch","lastTouches","setLastTouch","eventData","lastTouch","lts","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","dx","dy","PREFIXED_TOUCH_ACTION","NATIVE_TOUCH_ACTION","TOUCH_ACTION_AUTO","TOUCH_ACTION_MANIPULATION","TOUCH_ACTION_NONE","TOUCH_ACTION_PAN_X","TOUCH_ACTION_PAN_Y","TouchAction","getTouchActionProps","touchMap","CSS","supports","compute","TOUCH_ACTION_MAP","actions","touchAction","recognizers","recognizer","getTouchAction","hasPanX","hasPanY","cleanTouchActions","preventDefaults","prevented","preventDefault","hasNone","isTapPointer","isTapMovement","isTapTouchTime","preventSrc","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","Recognizer","defaults","state","simultaneous","requireFail","stateStr","directionStr","getRecognizerByNameIfManager","otherRecognizer","AttrRecognizer","PanRecognizer","pX","pY","PinchRecognizer","PressRecognizer","_timer","_input","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","count","Hammer","preset","Manager","handlers","oldCssProps","inputClass","toggleCssProps","item","add","recognizeWith","requireFailure","cssProps","dropRecognizeWith","dropRequireFailure","hasRequireFailures","canRecognizeWith","additionalEvent","tryEmit","canEmit","inputDataClone","reset","attrTest","optionPointers","isRecognized","isValid","directionTest","hasMoved","inOut","validPointers","validMovement","validTime","taps","interval","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","VERSION","domEvents","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","stop","force","stopped","curRecognizer","existing","remove","on","off","gestureEvent","createEvent","initEvent","gesture","dispatchEvent","triggerDomEvent","STATE_FAILED","Tap","Pan","Swipe","Pinch","Rotate","Press","Animation$1","Hammer$1","PageSpread$1","hammer","microevent","page_spread","visibility","positioned","active","pageIds","left","maxZoomScale","getMaxZoomScale","getEl","getAttribute","classList","contains","querySelectorAll","getBoundingClientRect","pageEl","pageRect","rect","ref4","top","right","bottom","getPageEls","getLeft","setAttribute","animation","Animation","duration","easing","transform","_transitionEnd","transition","el1","ref5","options1","swipeVelocity","swipeThreshold","navigationDuration","navigationPanDuration","zoomDuration","doubleTapDelay","position","pinching","panning","startTransform","tap","delay","scrollerEl","querySelector","pageSpreadEls","pageSpreads","traversePageSpreads","buildPageIds","getHammerInputClass","onPanStart","onPanMove","onPanEnd","onSingletap","onPinchStart","onPinchMove","onPinchEnd","onPress","onContextmenu","onWheel","pageId","getPageSpreadPositionFromPageId","navigateTo","resizeListener","onResize","touchStartListener","onTouchStart","touchEndListener","onTouchEnd","getPosition","getPageSpreadCount","activePageSpread","carousel","currentPageSpread","currentPosition","getPageSpreadFromPosition","getCarouselFromPageSpread","isScrollable","deactivate","activate","visible","pageSpread","setVisibility","getLeftTransformFromPageSpread","setPosition","newPosition","animate","getActivePageSpread","gone","previousPosition","getWidth","pageSpreadSubject","els","contentRect","info","len1","overlayEl","overlayEls","pageEls","offsetLeft","offsetTop","contentX","contentY","pageX","pageY","isInsideContentX","isInsideContentY","isInsideContent","getContentRect","getOverlayEls","isCoordinateInsideElement","idx","pageSpreadContentRect","pageSpreadRect","getRect","coordinate","carouselOffset","carouselScaledOffset","curScale","pageSpreadBounds","getPageSpreadBounds","bounds","clipCoordinate","offsetWidth","offsetHeight","prev","isZoomable","zoomTo","_this2","getCoordinateInfo","_this3","coordinateInfo","zoomEvent","zoomedIn","_this4","contentsRendered","hotspotsRendered","renderEl","pages","getPages","page","className","getId","imageLoads","pageCount","image","loaderEl","images","medium","innerHTML","label","isComplete","backgroundImage","pageSpreadId","versoPageSpread","large","removeAttribute","collection","ids","frag","createDocumentFragment","firstPage","lastPage","midstPageSpreads","pageMode","midstPages","makeOptions","getOption","verso","getPageMode","pageLoaded","pagesLoaded","setColor","insertBefore","getFrag","createVerso","getVerso","resize","unloadListener","unload","focus","pageSpreadEl","backgroundColor","opts","overridePageSpreadContentRect","beforeNavigation","afterNavigation","attemptedNavigation","clicked","doubleClicked","contextmenu","panStart","panEnd","zoomedOut","actualHeight","actualWidth","clientRect","imageRatio","pageHeight","pageWidth","pageLabels","getVisibility","renderContents","clearContents","newSpreadEl","pageSpreadCount","progressLabel","theVerso","formatProgressLabel","renderPageSpreads","resetIdleTimer","startIdleTimer","newPositionIsEnd","findPage","zoomIn","zoomOut","idleTimeout","getPageIds","refresh","getType","switchPageMode","pageSpreadWidth","pageSpreadMaxZoomScale","idleDelay","resizeDelay","PagedPublicationHotspots","currentPageSpreadId","pageSpreadsLoaded","hotspotsReceived","resized","boundingRect","hotspot","hotspotEl","hotspotEls","ratio","renderHotspot","maxX","maxY","minX","minY","pageNumber","pageNumbers","locations","coords","setCache","renderHotspots","requestHotspots","getCache","PagedPublicationControls","keyCodes","ESC","ARROW_RIGHT","ARROW_LEFT","SPACE","NUMBER_ONE","progressBar","prevControl","nextControl","keyDownListener","keyDown","keyboard","prevClicked","nextClicked","closeClicked","showProgress","textContent","keyCode","PagedPublicationEventTracking","Controls","Core","EventTracking","Hotspots","Viewer","eventTracker","hidden","appeared","disappeared","pageSpreadDisappeared","trackPagedPublicationOpened","createViewToken","trackPagedPublicationPageDisappeared","pageSpreadAppeared","trackPageSpreadDisappeared","_hotspots","_controls","_eventTracking","viewSession","hotspots","hotspotQueue","popover","_setupEventListeners","trackOpened","navigateToIndex","first","hotspotsRequested","CoreUIKit","singleChoicePopover","title","offer","heading","subtitle","pricing","currency","price","hotspotRequest","hotspotRatio","processHotspotQueue","pickHotspot","_this5","_this6","Incito","PagedPublicationKit","ownedBy","details","dealer_id","branding","pageflip","dimensions","transformPages","zoom","viewer","applyHotspots","fetchDetails","fetchPages","Bootstrapper","_inherits","subClass","superClass","_setPrototypeOf","_getPrototypeOf","o","_possibleConstructorReturn","ReferenceError","_assertThisInitialized","commonjsGlobal","id$1","_domCreate","_addToUnscopables","_iterStep","_iterators","_sharedKey","_objectDps","document$2","_html","IE_PROTO$1","_objectCreate","_setToStringTag","_iterCreate","IE_PROTO$2","_objectGpo","es6_array_iterator","_iterDefine","ITERATOR$1","utils_1","formatUnit","unit","isDefinedStr","escapeHTML","unsafe","timer","quot","createHTML","attribute","_stringHtml","utils$1","View$1","utils$2","View","setAttributes","tagName","shadow","strokeStyles","transforms","role","accessibility_label","accessibility_hidden","gravity","link","layout_width","layout_height","min_width","minWidth","max_width","maxWidth","min_height","minHeight","max_height","maxHeight","layout_top","layout_left","layout_right","layout_bottom","background_color","background_image","lazyload","background_tile_mode","backgroundRepeat","background_image_position","backgroundPosition","background_image_scale_type","backgroundSize","layout_margin","margin","layout_margin_top","marginTop","layout_margin_left","marginLeft","layout_margin_right","marginRight","layout_margin_bottom","marginBottom","padding","padding_top","paddingTop","padding_left","paddingLeft","padding_right","paddingRight","padding_bottom","paddingBottom","corner_radius","borderRadius","corner_top_left_radius","borderTopLeftRadius","corner_top_right_radius","borderTopRightRadius","corner_bottom_left_radius","borderBottomLeftRadius","corner_bottom_right_radius","borderBottomRightRadius","clip_children","overflow","getShadow","boxShadow","stroke_width","borderWidth","stroke_color","borderColor","stroke_style","borderStyle","stroke_top_width","borderTopWidth","stroke_top_color","borderTopColor","stroke_left_width","borderLeftWidth","stroke_left_color","borderLeftColor","stroke_right_width","borderRightWidth","stroke_right_color","borderRightColor","stroke_bottom_width","borderBottomWidth","stroke_bottom_color","borderBottomColor","getTransforms","transform_origin","transformOrigin","translateX","translateY","transform_translate_x","transform_translate_y","transform_rotate","transform_scale","shadow_color","shadow_dx","shadow_dy","shadow_radius","FragView","_View","dP$1","View$2","utils$3","indexOf$1","View$3","allowedHostnames","utils$4","TextView","parsedText","textShadow","textStyles","text_style","spans","parseSpans","escapedText","span","encodeURI","text_prevent_widow","font_family","fontFamily","text_size","fontSize","line_spacing_multiplier","lineHeight","text_color","fontWeight","fontStyle","getTextShadow","text_alignment","textAlign","font_stretch","fontStretch","single_line","max_lines","webkitLineClamp","webkitBoxOrient","text_all_caps","textTransform","endIndex","startIndex","text_shadow_color","text_shadow_dx","text_shadow_dy","text_shadow_radius","indexOf$2","View$4","utils$5","videoEmbed","FlexLayout","linkEl","hostname","View$5","video","Video","muted","preload","mime","autoplay","loop","controls","View$6","linearLayout","LinearLayout","View$7","alignContentModes","alignItemModes","flexDirectionModes","flexJustifyModes","utils$6","absoluteLayout","AbsoluteLayout","indexOf$3","AbsoluteLayout$1","FlexLayout$2","FragView$1","ImageView","LinearLayout$1","TextView$1","VideoEmbedView","VideoView","View$8","utils$7","flexLayout","layout_flex_align_items","alignItems","msAlignItems","layout_flex_align_content","alignContent","msAlignContent","layout_flex_justify_content","justifyContent","msFlexPack","layout_flex_direction","flexDirection","msFlexDirection","layout_flex_shrink","flexShrink","msFlexShrink","layout_flex_grow","flexGrow","msFlexGrow","layout_flex_basis","flexBasis","msFlexBasis","containerEl","incito","loadFonts","font_assets","applyTheme","theme","root_view","lazyloadCheck","view$$1","viewName","view_name","meta","child_views","childView","font","styleEl","text$$1","urls","fontAssets","FontFace","weight","fonts","load","isInsideViewport","observer","IntersectionObserver","entry","isIntersecting","intersectionRatio","revealElement","unobserve","rootMargin","windowHeight","innerHeight","clientHeight","iframeEl","sourceEl","schema","progressEl","scrollListener","scroll","isScrolling","docHeight","scrollTop","winHeight","pageYOffset","scrollTimeout","pixelRatio","getPixelRatio","orientation","getLocale","getMaxWidth","versionsSupported","storageKey","devicePixelRatio","toISOString","localeChain","prefLocale","languages","language","browserLanguage","GraphKit","errors","IncitoPublicationKit","$match","regexp","Gator","Popover","_matcher","_level","_id","_handlers","_gatorInstances","_matchesSelector","selector","boundElement","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","matchesSelector","_getMatcher","_addHandler","gator","_removeHandler","_bind","addEvent","_getGlobalCallback","srcElement","matchesEvent","stopPropagation","cancelBubble","cancel","_handleEvent","useCapture","contentEl","show","anchorEl","pageXOffset","backgroundEl","singleChoiceItems","menuEl","parentHeight","parentWidth","keyUp","appKey","scriptEl","OfferDetails","local","AssetsKit","EventsKit","require$$8","require$$9","require$$10","require$$11","trackClientSessionOpened","getElementById"],"mappings":"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"}