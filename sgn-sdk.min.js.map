{"version":3,"file":"sgn-sdk.min.js","sources":["../rollupPluginBabelHelpers","../node_modules/core-js/modules/_is-object.js","../node_modules/core-js/modules/_an-object.js","../node_modules/core-js/modules/_fails.js","../node_modules/core-js/modules/_descriptors.js","../node_modules/core-js/modules/_global.js","../node_modules/core-js/modules/_dom-create.js","../node_modules/core-js/modules/_ie8-dom-define.js","../node_modules/core-js/modules/_object-dp.js","../node_modules/core-js/modules/_to-primitive.js","../node_modules/core-js/modules/_hide.js","../node_modules/core-js/modules/_property-desc.js","../node_modules/core-js/modules/_has.js","../node_modules/core-js/modules/_uid.js","../node_modules/core-js/modules/_core.js","../node_modules/core-js/modules/_redefine.js","../node_modules/core-js/modules/_defined.js","../node_modules/core-js/modules/_shared.js","../node_modules/core-js/modules/_wks.js","../node_modules/core-js/modules/_fix-re-wks.js","../node_modules/core-js/modules/es6.regexp.replace.js","../node_modules/core-js/modules/es6.function.name.js","../lib/coffeescript/util.coffee","../lib/coffeescript/config.coffee","../node_modules/microevent/microevent.js","../lib/coffeescript/translations.coffee","../lib/coffeescript/core.coffee","../node_modules/mustache/mustache.js","../lib/coffeescript/sgn.coffee","../lib/coffeescript/storage/client-local.coffee","../lib/coffeescript/storage/client-session.coffee","../lib/coffeescript/storage/client-cookie.coffee","../node_modules/core-js/modules/_cof.js","../node_modules/core-js/modules/_is-regexp.js","../node_modules/core-js/modules/es6.regexp.split.js","../lib/coffeescript/request/index.coffee","../lib/coffeescript/kits/assets/file-upload.coffee","../lib/coffeescript/kits/events/tracker.coffee","../lib/coffeescript/kits/events/pulse.coffee","../lib/coffeescript/kits/graph/request.coffee","../lib/coffeescript/kits/events/index.coffee","../lib/coffeescript/kits/core/request.coffee","../lib/coffeescript/kits/core/session.coffee","../node_modules/convert-hex/convert-hex.js","../node_modules/convert-string/convert-string.js","../node_modules/sha256/lib/sha256.js","../lib/coffeescript/kits/core/index.coffee","../node_modules/core-js/modules/_ctx.js","../node_modules/core-js/modules/_a-function.js","../node_modules/core-js/modules/_export.js","../node_modules/core-js/modules/_iobject.js","../node_modules/core-js/modules/_to-integer.js","../node_modules/core-js/modules/_to-length.js","../node_modules/core-js/modules/_is-array.js","../node_modules/core-js/modules/_array-species-constructor.js","../node_modules/core-js/modules/_array-species-create.js","../node_modules/core-js/modules/_add-to-unscopables.js","../node_modules/core-js/modules/_array-methods.js","../node_modules/core-js/modules/es6.array.find.js","../node_modules/core-js/modules/_to-object.js","../lib/coffeescript/kits/paged-publication/page-spread.coffee","../lib/coffeescript/kits/paged-publication/page-spreads.coffee","../lib/coffeescript/kits/paged-publication/core.coffee","../node_modules/verso-browser/dist/verso.js","../lib/coffeescript/kits/paged-publication/hotspots.coffee","../lib/coffeescript/kits/paged-publication/controls.coffee","../lib/coffeescript/key-codes.coffee","../lib/coffeescript/kits/paged-publication/event-tracking.coffee","../lib/coffeescript/kits/paged-publication/viewer.coffee","../lib/coffeescript/kits/paged-publication/bootstrapper.coffee","../lib/coffeescript/kits/incito-publication/viewer.coffee","../node_modules/incito-browser/dist/incito.js","../lib/coffeescript/kits/incito-publication/controls.coffee","../lib/coffeescript/kits/incito-publication/bootstrapper.coffee","../lib/coffeescript/kits/incito-publication/index.coffee","../node_modules/core-js/modules/es6.regexp.match.js","../lib/coffeescript/kits/core-ui/popover.coffee","../vendor/gator.js","../lib/coffeescript/kits/core-ui/offer-details.coffee","../lib/coffeescript/kits/core-ui/single-choice-popover.coffee","../lib/coffeescript/kits/core-ui/index.coffee","../lib/coffeescript/index.coffee"],"sourcesContent":["export { _typeof as typeof, _jsx as jsx, _asyncIterator as asyncIterator, _AwaitValue as AwaitValue, _AsyncGenerator as AsyncGenerator, _wrapAsyncGenerator as wrapAsyncGenerator, _awaitAsyncGenerator as awaitAsyncGenerator, _asyncGeneratorDelegate as asyncGeneratorDelegate, _asyncToGenerator as asyncToGenerator, _classCallCheck as classCallCheck, _createClass as createClass, _defineEnumerableProperties as defineEnumerableProperties, _defaults as defaults, _defineProperty as defineProperty, _extends as extends, _objectSpread as objectSpread, _get as get, _inherits as inherits, _inheritsLoose as inheritsLoose, _wrapNativeSuper as wrapNativeSuper, _instanceof as instanceof, _interopRequireDefault as interopRequireDefault, _interopRequireWildcard as interopRequireWildcard, _newArrowCheck as newArrowCheck, _objectDestructuringEmpty as objectDestructuringEmpty, _objectWithoutProperties as objectWithoutProperties, _assertThisInitialized as assertThisInitialized, _possibleConstructorReturn as possibleConstructorReturn, _set as set, _taggedTemplateLiteral as taggedTemplateLiteral, _taggedTemplateLiteralLoose as taggedTemplateLiteralLoose, _temporalRef as temporalRef, _readOnlyError as readOnlyError, _classNameTDZError as classNameTDZError, _temporalUndefined as temporalUndefined, _slicedToArray as slicedToArray, _slicedToArrayLoose as slicedToArrayLoose, _toArray as toArray, _toConsumableArray as toConsumableArray, _arrayWithoutHoles as arrayWithoutHoles, _arrayWithHoles as arrayWithHoles, _iterableToArray as iterableToArray, _iterableToArrayLimit as iterableToArrayLimit, _iterableToArrayLimitLoose as iterableToArrayLimitLoose, _nonIterableSpread as nonIterableSpread, _nonIterableRest as nonIterableRest, _skipFirstGeneratorNext as skipFirstGeneratorNext, _toPropertyKey as toPropertyKey, _initializerWarningHelper as initializerWarningHelper, _initializerDefineProperty as initializerDefineProperty, _applyDecoratedDescriptor as applyDecoratedDescriptor };\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar REACT_ELEMENT_TYPE;\n\nfunction _jsx(type, props, key, children) {\n  if (!REACT_ELEMENT_TYPE) {\n    REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7;\n  }\n\n  var defaultProps = type && type.defaultProps;\n  var childrenLength = arguments.length - 3;\n\n  if (!props && childrenLength !== 0) {\n    props = {\n      children: void 0\n    };\n  }\n\n  if (props && defaultProps) {\n    for (var propName in defaultProps) {\n      if (props[propName] === void 0) {\n        props[propName] = defaultProps[propName];\n      }\n    }\n  } else if (!props) {\n    props = defaultProps || {};\n  }\n\n  if (childrenLength === 1) {\n    props.children = children;\n  } else if (childrenLength > 1) {\n    var childArray = new Array(childrenLength);\n\n    for (var i = 0; i < childrenLength; i++) {\n      childArray[i] = arguments[i + 3];\n    }\n\n    props.children = childArray;\n  }\n\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key === undefined ? null : '' + key,\n    ref: null,\n    props: props,\n    _owner: null\n  };\n}\n\nfunction _asyncIterator(iterable) {\n  if (typeof Symbol === \"function\") {\n    if (Symbol.asyncIterator) {\n      var method = iterable[Symbol.asyncIterator];\n      if (method != null) return method.call(iterable);\n    }\n\n    if (Symbol.iterator) {\n      return iterable[Symbol.iterator]();\n    }\n  }\n\n  throw new TypeError(\"Object is not async iterable\");\n}\n\nfunction _AwaitValue(value) {\n  this.wrapped = value;\n}\n\nfunction _AsyncGenerator(gen) {\n  var front, back;\n\n  function send(key, arg) {\n    return new Promise(function (resolve, reject) {\n      var request = {\n        key: key,\n        arg: arg,\n        resolve: resolve,\n        reject: reject,\n        next: null\n      };\n\n      if (back) {\n        back = back.next = request;\n      } else {\n        front = back = request;\n        resume(key, arg);\n      }\n    });\n  }\n\n  function resume(key, arg) {\n    try {\n      var result = gen[key](arg);\n      var value = result.value;\n      var wrappedAwait = value instanceof _AwaitValue;\n      Promise.resolve(wrappedAwait ? value.wrapped : value).then(function (arg) {\n        if (wrappedAwait) {\n          resume(\"next\", arg);\n          return;\n        }\n\n        settle(result.done ? \"return\" : \"normal\", arg);\n      }, function (err) {\n        resume(\"throw\", err);\n      });\n    } catch (err) {\n      settle(\"throw\", err);\n    }\n  }\n\n  function settle(type, value) {\n    switch (type) {\n      case \"return\":\n        front.resolve({\n          value: value,\n          done: true\n        });\n        break;\n\n      case \"throw\":\n        front.reject(value);\n        break;\n\n      default:\n        front.resolve({\n          value: value,\n          done: false\n        });\n        break;\n    }\n\n    front = front.next;\n\n    if (front) {\n      resume(front.key, front.arg);\n    } else {\n      back = null;\n    }\n  }\n\n  this._invoke = send;\n\n  if (typeof gen.return !== \"function\") {\n    this.return = undefined;\n  }\n}\n\nif (typeof Symbol === \"function\" && Symbol.asyncIterator) {\n  _AsyncGenerator.prototype[Symbol.asyncIterator] = function () {\n    return this;\n  };\n}\n\n_AsyncGenerator.prototype.next = function (arg) {\n  return this._invoke(\"next\", arg);\n};\n\n_AsyncGenerator.prototype.throw = function (arg) {\n  return this._invoke(\"throw\", arg);\n};\n\n_AsyncGenerator.prototype.return = function (arg) {\n  return this._invoke(\"return\", arg);\n};\n\nfunction _wrapAsyncGenerator(fn) {\n  return function () {\n    return new _AsyncGenerator(fn.apply(this, arguments));\n  };\n}\n\nfunction _awaitAsyncGenerator(value) {\n  return new _AwaitValue(value);\n}\n\nfunction _asyncGeneratorDelegate(inner, awaitWrap) {\n  var iter = {},\n      waiting = false;\n\n  function pump(key, value) {\n    waiting = true;\n    value = new Promise(function (resolve) {\n      resolve(inner[key](value));\n    });\n    return {\n      done: false,\n      value: awaitWrap(value)\n    };\n  }\n\n  ;\n\n  if (typeof Symbol === \"function\" && Symbol.iterator) {\n    iter[Symbol.iterator] = function () {\n      return this;\n    };\n  }\n\n  iter.next = function (value) {\n    if (waiting) {\n      waiting = false;\n      return value;\n    }\n\n    return pump(\"next\", value);\n  };\n\n  if (typeof inner.throw === \"function\") {\n    iter.throw = function (value) {\n      if (waiting) {\n        waiting = false;\n        throw value;\n      }\n\n      return pump(\"throw\", value);\n    };\n  }\n\n  if (typeof inner.return === \"function\") {\n    iter.return = function (value) {\n      return pump(\"return\", value);\n    };\n  }\n\n  return iter;\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function step(key, arg) {\n        try {\n          var info = gen[key](arg);\n          var value = info.value;\n        } catch (error) {\n          reject(error);\n          return;\n        }\n\n        if (info.done) {\n          resolve(value);\n        } else {\n          Promise.resolve(value).then(_next, _throw);\n        }\n      }\n\n      function _next(value) {\n        step(\"next\", value);\n      }\n\n      function _throw(err) {\n        step(\"throw\", err);\n      }\n\n      _next();\n    });\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineEnumerableProperties(obj, descs) {\n  for (var key in descs) {\n    var desc = descs[key];\n    desc.configurable = desc.enumerable = true;\n    if (\"value\" in desc) desc.writable = true;\n    Object.defineProperty(obj, key, desc);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    var objectSymbols = Object.getOwnPropertySymbols(descs);\n\n    for (var i = 0; i < objectSymbols.length; i++) {\n      var sym = objectSymbols[i];\n      var desc = descs[sym];\n      desc.configurable = desc.enumerable = true;\n      if (\"value\" in desc) desc.writable = true;\n      Object.defineProperty(obj, sym, desc);\n    }\n  }\n\n  return obj;\n}\n\nfunction _defaults(obj, defaults) {\n  var keys = Object.getOwnPropertyNames(defaults);\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n    if (value && value.configurable && obj[key] === undefined) {\n      Object.defineProperty(obj, key, value);\n    }\n  }\n\n  return obj;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return _get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _gPO(o) {\n  _gPO = Object.getPrototypeOf || function _gPO(o) {\n    return o.__proto__;\n  };\n\n  return _gPO(o);\n}\n\nfunction _sPO(o, p) {\n  _sPO = Object.setPrototypeOf || function _sPO(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _sPO(o, p);\n}\n\nfunction _construct(Parent, args, Class) {\n  _construct = typeof Reflect === \"object\" && Reflect.construct || function _construct(Parent, args, Class) {\n    var Constructor,\n        a = [null];\n    a.push.apply(a, args);\n    Constructor = Parent.bind.apply(Parent, a);\n    return _sPO(new Constructor(), Class.prototype);\n  };\n\n  return _construct(Parent, args, Class);\n}\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {}\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _sPO(Wrapper, _sPO(function Super() {\n      return _construct(Class, arguments, _gPO(this).constructor);\n    }, Class));\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nfunction _instanceof(left, right) {\n  if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) {\n    return right[Symbol.hasInstance](left);\n  } else {\n    return left instanceof right;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _newArrowCheck(innerThis, boundThis) {\n  if (innerThis !== boundThis) {\n    throw new TypeError(\"Cannot instantiate an arrow function\");\n  }\n}\n\nfunction _objectDestructuringEmpty(obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure undefined\");\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _set(object, property, value, receiver) {\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent !== null) {\n      _set(parent, property, value, receiver);\n    }\n  } else if (\"value\" in desc && desc.writable) {\n    desc.value = value;\n  } else {\n    var setter = desc.set;\n\n    if (setter !== undefined) {\n      setter.call(receiver, value);\n    }\n  }\n\n  return value;\n}\n\nfunction _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}\n\nfunction _taggedTemplateLiteralLoose(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  strings.raw = raw;\n  return strings;\n}\n\nfunction _temporalRef(val, name) {\n  if (val === _temporalUndefined) {\n    throw new ReferenceError(name + \" is not defined - temporal dead zone\");\n  } else {\n    return val;\n  }\n}\n\nfunction _readOnlyError(name) {\n  throw new Error(\"\\\"\" + name + \"\\\" is read-only\");\n}\n\nfunction _classNameTDZError(name) {\n  throw new Error(\"Class \\\"\" + name + \"\\\" cannot be referenced in computed property keys.\");\n}\n\nvar _temporalUndefined = {};\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _slicedToArrayLoose(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimitLoose(arr, i) || _nonIterableRest();\n}\n\nfunction _toArray(arr) {\n  return _arrayWithHoles(arr) || _iterableToArray(arr) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _iterableToArrayLimitLoose(arr, i) {\n  var _arr = [];\n\n  for (var _iterator = arr[Symbol.iterator](), _step; !(_step = _iterator.next()).done;) {\n    _arr.push(_step.value);\n\n    if (i && _arr.length === i) break;\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _skipFirstGeneratorNext(fn) {\n  return function () {\n    var it = fn.apply(this, arguments);\n    it.next();\n    return it;\n  };\n}\n\nfunction _toPropertyKey(key) {\n  if (typeof key === \"symbol\") {\n    return key;\n  } else {\n    return String(key);\n  }\n}\n\nfunction _initializerWarningHelper(descriptor, context) {\n  throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.');\n}\n\nfunction _initializerDefineProperty(target, property, descriptor, context) {\n  if (!descriptor) return;\n  Object.defineProperty(target, property, {\n    enumerable: descriptor.enumerable,\n    configurable: descriptor.configurable,\n    writable: descriptor.writable,\n    value: descriptor.initializer ? descriptor.initializer.call(context) : void 0\n  });\n}\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","var core = module.exports = { version: '2.5.3' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","var global = require('./_global');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar SRC = require('./_uid')('src');\nvar TO_STRING = 'toString';\nvar $toString = Function[TO_STRING];\nvar TPL = ('' + $toString).split(TO_STRING);\n\nrequire('./_core').inspectSource = function (it) {\n  return $toString.call(it);\n};\n\n(module.exports = function (O, key, val, safe) {\n  var isFunction = typeof val == 'function';\n  if (isFunction) has(val, 'name') || hide(val, 'name', key);\n  if (O[key] === val) return;\n  if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n  if (O === global) {\n    O[key] = val;\n  } else if (!safe) {\n    delete O[key];\n    hide(O, key, val);\n  } else if (O[key]) {\n    O[key] = val;\n  } else {\n    hide(O, key, val);\n  }\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, TO_STRING, function toString() {\n  return typeof this == 'function' && this[SRC] || $toString.call(this);\n});\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","var global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function (key) {\n  return store[key] || (store[key] = {});\n};\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","'use strict';\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar wks = require('./_wks');\n\nmodule.exports = function (KEY, length, exec) {\n  var SYMBOL = wks(KEY);\n  var fns = exec(defined, SYMBOL, ''[KEY]);\n  var strfn = fns[0];\n  var rxfn = fns[1];\n  if (fails(function () {\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  })) {\n    redefine(String.prototype, KEY, strfn);\n    hide(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return rxfn.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return rxfn.call(string, this); }\n    );\n  }\n};\n","// @@replace logic\nrequire('./_fix-re-wks')('replace', 2, function (defined, REPLACE, $replace) {\n  // 21.1.3.14 String.prototype.replace(searchValue, replaceValue)\n  return [function replace(searchValue, replaceValue) {\n    'use strict';\n    var O = defined(this);\n    var fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n    return fn !== undefined\n      ? fn.call(searchValue, O, replaceValue)\n      : $replace.call(String(O), searchValue, replaceValue);\n  }, $replace];\n});\n","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","util =\n    isBrowser: ->\n        typeof window == 'object' and typeof document == 'object'\n\n    isNode: ->\n        typeof process == 'object'\n\n    error: (err, options) ->\n        err.message = err.message or null\n\n        if typeof options is 'string'\n            err.message = options\n        else if typeof options is 'object' and options?\n            for key, value of options\n                err[key] = value\n\n            err.message = options.message if options.message?\n            err.code = options.code or options.name if options.code? or options.message?\n            err.stack = options.stack if options.stack?\n\n        err.name = options and options.name or err.name or err.code or 'Error'\n        err.time = new Date()\n\n        err\n\n    uuid: ->\n        'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace /[xy]/g, (c) ->\n            r = Math.random() * 16 | 0\n            v = if c is 'x' then r else (r & 0x3|0x8)\n\n            v.toString 16\n\n    getQueryParam: (field, url) ->\n        href = if url then url else window.location.href\n        reg = new RegExp '[?&]' + field + '=([^&#]*)', 'i'\n        string = reg.exec href\n\n        if string then string[1] else undefined\n\n    formatQueryParams: (queryParams = {}) ->\n        Object\n            .keys queryParams\n            .map (key) -> key + '=' + encodeURIComponent(queryParams[key])\n            .join '&'\n\n    getRandomNumberBetween: (from, to) ->\n        Math.floor(Math.random() * to) + from\n\n    getOS: ->\n        name = null\n        ua = window.navigator.userAgent\n\n        if ua.indexOf('Windows') > -1\n            name = 'Windows'\n        else if ua.indexOf('Mac') > -1\n            name = 'macOS'\n        else if ua.indexOf('X11') > -1\n            name = 'unix'\n        else if ua.indexOf('Linux') > -1\n            name = 'Linux'\n        else if ua.indexOf('iOS') > -1\n            name = 'iOS'\n        else if ua.indexOf('Android') > -1\n            name = 'Android'\n\n        name\n    \n    getDeviceCategory: ->\n        deviceCategory = 'desktop'\n\n        if navigator.platform is 'iPod' or navigator.platform is 'iPhone'\n            deviceCategory = 'mobile'\n        else if navigator.platform is 'iPad'\n            deviceCategory = 'tablet'\n        else if navigator.platform is 'Android' or /android/gi.test(navigator.userAgent)\n            if /tablet/gi.test(navigator.userAgent)\n                deviceCategory = 'tablet'\n            else\n                deviceCategory = 'mobile'\n\n        deviceCategory\n    \n    getPointer: ->\n        pointer = 'fine'\n\n        pointer = 'coarse' if matchMedia('(pointer:coarse)').matches\n\n        pointer\n    \n    getOrientation: (width, height) ->\n        if width is height\n            'quadratic'\n        else if width > height\n            'horizontal'\n        else\n            'vertical'\n\n    getScreenDimensions: ->\n        density = window.devicePixelRatio ? 1\n        logical =\n            width: window.screen.width\n            height: window.screen.height\n        physical =\n            width: Math.round logical.width * density\n            height: Math.round logical.height * density\n\n        density: density\n        logical: logical\n        physical: physical\n\n    getUtcOffsetSeconds: ->\n        now = new Date()\n        jan1 = new Date now.getFullYear(), 0, 1, 0, 0, 0, 0\n        tmp = jan1.toGMTString()\n        jan2 = new Date tmp.substring(0, tmp.lastIndexOf(' ') - 1)\n        stdTimeOffset = (jan1 - jan2) / 1000\n\n        stdTimeOffset\n\n    getUtcDstOffsetSeconds: ->\n        new Date().getTimezoneOffset() * 60 * -1\n\n    getColorBrightness: (color) ->\n        color = color.replace '#', ''\n        hex = parseInt (hex + '').replace(/[^a-f0-9]/gi, ''), 16\n        rgb = []\n        sum = 0\n        x = 0\n\n        while x < 3\n            s = parseInt(color.substring(2 * x, 2), 16)\n            rgb[x] = s\n\n            sum += s if s > 0\n\n            ++x\n\n        if sum <= 381 then 'dark' else 'light'\n\n    btoa: (str) ->\n        if util.isBrowser()\n            btoa str\n        else\n            buffer = null\n\n            if str instanceof Buffer\n                buffer = str\n            else\n                buffer = new Buffer str.toString(), 'binary'\n\n            buffer.toString 'base64'\n\n    chunk: (arr, size) ->\n        results = []\n\n        while arr.length\n            results.push arr.splice(0, size)\n\n        results\n\n    throttle: (fn, threshold = 250, scope) ->\n        last = undefined\n        deferTimer = undefined\n\n        ->\n            context = scope or @\n            now = new Date().getTime()\n            args = arguments\n\n            if last and now < last + threshold\n                clearTimeout deferTimer\n\n                deferTimer = setTimeout ->\n                    last = now\n                    \n                    fn.apply context, args\n                \n                    return\n                , threshold\n            else\n                last = now\n                fn.apply context, args\n\n            return\n\n    loadImage: (src, callback) ->\n        img = new Image()\n\n        img.onload = -> callback null, img.width, img.height\n        img.onerror = -> callback new Error()\n        img.src = src\n\n        img\n\n    distance: (lat1, lng1, lat2, lng2) ->\n        radlat1 = Math.PI * lat1 / 180\n        radlat2 = Math.PI * lat2 / 180\n        theta = lng1 - lng2\n        radtheta = Math.PI * theta / 180\n        dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta)\n        dist = Math.acos(dist)\n        dist = dist * 180 / Math.PI\n        dist = dist * 60 * 1.1515\n        dist = dist * 1.609344 * 1000\n\n        dist\n\n    async:\n        parallel: (asyncCalls, sharedCallback) ->\n            counter = asyncCalls.length\n            allResults = []\n            k = 0\n\n            makeCallback = (index) ->\n                ->\n                    results = []\n                    i = 0\n\n                    counter--\n\n                    while i < arguments.length\n                        results.push arguments[i]\n                        i++\n\n                    allResults[index] = results\n\n                    sharedCallback allResults if counter is 0\n\n                    return\n\n            while k < asyncCalls.length\n                asyncCalls[k] makeCallback(k)\n                k++\n\n            return\n\nmodule.exports = util\n","MicroEvent = require 'microevent'\nConfig = class Config\n    keys: [\n        'appVersion',\n        'appKey',\n        'appSecret',\n        'authToken',\n        'eventTracker',\n        'locale',\n        'coreSessionToken',\n        'coreSessionClientId',\n        'coreUrl',\n        'graphUrl',\n        'eventsTrackUrl',\n        'eventsPulseUrl',\n        'assetsFileUploadUrl'\n    ]\n\n    constructor: ->\n        @attrs = {}\n\n        return\n\n    set: (config = {}) ->\n        changedAttributes = {}\n\n        for key, value of config\n            if key in @keys\n                @attrs[key] = value\n                changedAttributes[key] = value\n\n        @trigger 'change', changedAttributes\n\n        return\n\n    get: (option) ->\n        @attrs[option]\n\nMicroEvent.mixin Config\n\nmodule.exports = Config\n","/**\n * MicroEvent - to make any js object an event emitter (server or browser)\n * \n * - pure javascript - server compatible, browser compatible\n * - dont rely on the browser doms\n * - super simple - you get it immediatly, no mistery, no magic involved\n *\n * - create a MicroEventDebug with goodies to debug\n *   - make it safer to use\n*/\n\nvar MicroEvent\t= function(){}\nMicroEvent.prototype\t= {\n\tbind\t: function(event, fct){\n\t\tthis._events = this._events || {};\n\t\tthis._events[event] = this._events[event]\t|| [];\n\t\tthis._events[event].push(fct);\n\t},\n\tunbind\t: function(event, fct){\n\t\tthis._events = this._events || {};\n\t\tif( event in this._events === false  )\treturn;\n\t\tthis._events[event].splice(this._events[event].indexOf(fct), 1);\n\t},\n\ttrigger\t: function(event /* , args... */){\n\t\tthis._events = this._events || {};\n\t\tif( event in this._events === false  )\treturn;\n\t\tfor(var i = 0; i < this._events[event].length; i++){\n\t\t\tthis._events[event][i].apply(this, Array.prototype.slice.call(arguments, 1))\n\t\t}\n\t}\n};\n\n/**\n * mixin will delegate all MicroEvent.js function in the destination object\n *\n * - require('MicroEvent').mixin(Foobar) will make Foobar able to use MicroEvent\n *\n * @param {Object} the object which will support MicroEvent\n*/\nMicroEvent.mixin\t= function(destObject){\n\tvar props\t= ['bind', 'unbind', 'trigger'];\n\tfor(var i = 0; i < props.length; i ++){\n\t\tdestObject.prototype[props[i]]\t= MicroEvent.prototype[props[i]];\n\t}\n}\n\n// export in common js\nif( typeof module !== \"undefined\" && ('exports' in module)){\n\tmodule.exports\t= MicroEvent\n}\n","Mustache = require 'mustache'\npairs =\n    'paged_publication.hotspot_picker.header': 'Which offer did you mean?'\n    'incito_publication.product_picker.header': 'Which product?'\n\nmodule.exports =\n    t: (key, view) ->\n        template = pairs[key] ? ''\n\n        Mustache.render template, view\n\n    update: (translations) ->\n        for key, value of translations\n            pairs[key] = value\n\n        return\n","Config = require './config'\ntranslations = require './translations'\nutil = require './util'\nconfig = new Config()\n\n# Set default values.\nconfig.set\n    locale: 'en_US'\n    coreUrl: 'https://api.etilbudsavis.dk'\n    graphUrl: 'https://graph.service.shopgun.com'\n    eventsTrackUrl: 'https://events.service.shopgun.com/track'\n    eventsPulseUrl: 'wss://events.service.shopgun.com/pulse'\n    assetsFileUploadUrl: 'https://assets.service.shopgun.com/upload'\n\nmodule.exports =\n    config: config\n\n    translations: translations\n\n    util: util","/*!\n * mustache.js - Logic-less {{mustache}} templates with JavaScript\n * http://github.com/janl/mustache.js\n */\n\n/*global define: false Mustache: true*/\n\n(function defineMustache (global, factory) {\n  if (typeof exports === 'object' && exports && typeof exports.nodeName !== 'string') {\n    factory(exports); // CommonJS\n  } else if (typeof define === 'function' && define.amd) {\n    define(['exports'], factory); // AMD\n  } else {\n    global.Mustache = {};\n    factory(global.Mustache); // script, wsh, asp\n  }\n}(this, function mustacheFactory (mustache) {\n\n  var objectToString = Object.prototype.toString;\n  var isArray = Array.isArray || function isArrayPolyfill (object) {\n    return objectToString.call(object) === '[object Array]';\n  };\n\n  function isFunction (object) {\n    return typeof object === 'function';\n  }\n\n  /**\n   * More correct typeof string handling array\n   * which normally returns typeof 'object'\n   */\n  function typeStr (obj) {\n    return isArray(obj) ? 'array' : typeof obj;\n  }\n\n  function escapeRegExp (string) {\n    return string.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, '\\\\$&');\n  }\n\n  /**\n   * Null safe way of checking whether or not an object,\n   * including its prototype, has a given property\n   */\n  function hasProperty (obj, propName) {\n    return obj != null && typeof obj === 'object' && (propName in obj);\n  }\n\n  // Workaround for https://issues.apache.org/jira/browse/COUCHDB-577\n  // See https://github.com/janl/mustache.js/issues/189\n  var regExpTest = RegExp.prototype.test;\n  function testRegExp (re, string) {\n    return regExpTest.call(re, string);\n  }\n\n  var nonSpaceRe = /\\S/;\n  function isWhitespace (string) {\n    return !testRegExp(nonSpaceRe, string);\n  }\n\n  var entityMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '/': '&#x2F;',\n    '`': '&#x60;',\n    '=': '&#x3D;'\n  };\n\n  function escapeHtml (string) {\n    return String(string).replace(/[&<>\"'`=\\/]/g, function fromEntityMap (s) {\n      return entityMap[s];\n    });\n  }\n\n  var whiteRe = /\\s*/;\n  var spaceRe = /\\s+/;\n  var equalsRe = /\\s*=/;\n  var curlyRe = /\\s*\\}/;\n  var tagRe = /#|\\^|\\/|>|\\{|&|=|!/;\n\n  /**\n   * Breaks up the given `template` string into a tree of tokens. If the `tags`\n   * argument is given here it must be an array with two string values: the\n   * opening and closing tags used in the template (e.g. [ \"<%\", \"%>\" ]). Of\n   * course, the default is to use mustaches (i.e. mustache.tags).\n   *\n   * A token is an array with at least 4 elements. The first element is the\n   * mustache symbol that was used inside the tag, e.g. \"#\" or \"&\". If the tag\n   * did not contain a symbol (i.e. {{myValue}}) this element is \"name\". For\n   * all text that appears outside a symbol this element is \"text\".\n   *\n   * The second element of a token is its \"value\". For mustache tags this is\n   * whatever else was inside the tag besides the opening symbol. For text tokens\n   * this is the text itself.\n   *\n   * The third and fourth elements of the token are the start and end indices,\n   * respectively, of the token in the original template.\n   *\n   * Tokens that are the root node of a subtree contain two more elements: 1) an\n   * array of tokens in the subtree and 2) the index in the original template at\n   * which the closing tag for that section begins.\n   */\n  function parseTemplate (template, tags) {\n    if (!template)\n      return [];\n\n    var sections = [];     // Stack to hold section tokens\n    var tokens = [];       // Buffer to hold the tokens\n    var spaces = [];       // Indices of whitespace tokens on the current line\n    var hasTag = false;    // Is there a {{tag}} on the current line?\n    var nonSpace = false;  // Is there a non-space char on the current line?\n\n    // Strips all whitespace tokens array for the current line\n    // if there was a {{#tag}} on it and otherwise only space.\n    function stripSpace () {\n      if (hasTag && !nonSpace) {\n        while (spaces.length)\n          delete tokens[spaces.pop()];\n      } else {\n        spaces = [];\n      }\n\n      hasTag = false;\n      nonSpace = false;\n    }\n\n    var openingTagRe, closingTagRe, closingCurlyRe;\n    function compileTags (tagsToCompile) {\n      if (typeof tagsToCompile === 'string')\n        tagsToCompile = tagsToCompile.split(spaceRe, 2);\n\n      if (!isArray(tagsToCompile) || tagsToCompile.length !== 2)\n        throw new Error('Invalid tags: ' + tagsToCompile);\n\n      openingTagRe = new RegExp(escapeRegExp(tagsToCompile[0]) + '\\\\s*');\n      closingTagRe = new RegExp('\\\\s*' + escapeRegExp(tagsToCompile[1]));\n      closingCurlyRe = new RegExp('\\\\s*' + escapeRegExp('}' + tagsToCompile[1]));\n    }\n\n    compileTags(tags || mustache.tags);\n\n    var scanner = new Scanner(template);\n\n    var start, type, value, chr, token, openSection;\n    while (!scanner.eos()) {\n      start = scanner.pos;\n\n      // Match any text between tags.\n      value = scanner.scanUntil(openingTagRe);\n\n      if (value) {\n        for (var i = 0, valueLength = value.length; i < valueLength; ++i) {\n          chr = value.charAt(i);\n\n          if (isWhitespace(chr)) {\n            spaces.push(tokens.length);\n          } else {\n            nonSpace = true;\n          }\n\n          tokens.push([ 'text', chr, start, start + 1 ]);\n          start += 1;\n\n          // Check for whitespace on the current line.\n          if (chr === '\\n')\n            stripSpace();\n        }\n      }\n\n      // Match the opening tag.\n      if (!scanner.scan(openingTagRe))\n        break;\n\n      hasTag = true;\n\n      // Get the tag type.\n      type = scanner.scan(tagRe) || 'name';\n      scanner.scan(whiteRe);\n\n      // Get the tag value.\n      if (type === '=') {\n        value = scanner.scanUntil(equalsRe);\n        scanner.scan(equalsRe);\n        scanner.scanUntil(closingTagRe);\n      } else if (type === '{') {\n        value = scanner.scanUntil(closingCurlyRe);\n        scanner.scan(curlyRe);\n        scanner.scanUntil(closingTagRe);\n        type = '&';\n      } else {\n        value = scanner.scanUntil(closingTagRe);\n      }\n\n      // Match the closing tag.\n      if (!scanner.scan(closingTagRe))\n        throw new Error('Unclosed tag at ' + scanner.pos);\n\n      token = [ type, value, start, scanner.pos ];\n      tokens.push(token);\n\n      if (type === '#' || type === '^') {\n        sections.push(token);\n      } else if (type === '/') {\n        // Check section nesting.\n        openSection = sections.pop();\n\n        if (!openSection)\n          throw new Error('Unopened section \"' + value + '\" at ' + start);\n\n        if (openSection[1] !== value)\n          throw new Error('Unclosed section \"' + openSection[1] + '\" at ' + start);\n      } else if (type === 'name' || type === '{' || type === '&') {\n        nonSpace = true;\n      } else if (type === '=') {\n        // Set the tags for the next time around.\n        compileTags(value);\n      }\n    }\n\n    // Make sure there are no open sections when we're done.\n    openSection = sections.pop();\n\n    if (openSection)\n      throw new Error('Unclosed section \"' + openSection[1] + '\" at ' + scanner.pos);\n\n    return nestTokens(squashTokens(tokens));\n  }\n\n  /**\n   * Combines the values of consecutive text tokens in the given `tokens` array\n   * to a single token.\n   */\n  function squashTokens (tokens) {\n    var squashedTokens = [];\n\n    var token, lastToken;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      token = tokens[i];\n\n      if (token) {\n        if (token[0] === 'text' && lastToken && lastToken[0] === 'text') {\n          lastToken[1] += token[1];\n          lastToken[3] = token[3];\n        } else {\n          squashedTokens.push(token);\n          lastToken = token;\n        }\n      }\n    }\n\n    return squashedTokens;\n  }\n\n  /**\n   * Forms the given array of `tokens` into a nested tree structure where\n   * tokens that represent a section have two additional items: 1) an array of\n   * all tokens that appear in that section and 2) the index in the original\n   * template that represents the end of that section.\n   */\n  function nestTokens (tokens) {\n    var nestedTokens = [];\n    var collector = nestedTokens;\n    var sections = [];\n\n    var token, section;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      token = tokens[i];\n\n      switch (token[0]) {\n        case '#':\n        case '^':\n          collector.push(token);\n          sections.push(token);\n          collector = token[4] = [];\n          break;\n        case '/':\n          section = sections.pop();\n          section[5] = token[2];\n          collector = sections.length > 0 ? sections[sections.length - 1][4] : nestedTokens;\n          break;\n        default:\n          collector.push(token);\n      }\n    }\n\n    return nestedTokens;\n  }\n\n  /**\n   * A simple string scanner that is used by the template parser to find\n   * tokens in template strings.\n   */\n  function Scanner (string) {\n    this.string = string;\n    this.tail = string;\n    this.pos = 0;\n  }\n\n  /**\n   * Returns `true` if the tail is empty (end of string).\n   */\n  Scanner.prototype.eos = function eos () {\n    return this.tail === '';\n  };\n\n  /**\n   * Tries to match the given regular expression at the current position.\n   * Returns the matched text if it can match, the empty string otherwise.\n   */\n  Scanner.prototype.scan = function scan (re) {\n    var match = this.tail.match(re);\n\n    if (!match || match.index !== 0)\n      return '';\n\n    var string = match[0];\n\n    this.tail = this.tail.substring(string.length);\n    this.pos += string.length;\n\n    return string;\n  };\n\n  /**\n   * Skips all text until the given regular expression can be matched. Returns\n   * the skipped string, which is the entire tail if no match can be made.\n   */\n  Scanner.prototype.scanUntil = function scanUntil (re) {\n    var index = this.tail.search(re), match;\n\n    switch (index) {\n      case -1:\n        match = this.tail;\n        this.tail = '';\n        break;\n      case 0:\n        match = '';\n        break;\n      default:\n        match = this.tail.substring(0, index);\n        this.tail = this.tail.substring(index);\n    }\n\n    this.pos += match.length;\n\n    return match;\n  };\n\n  /**\n   * Represents a rendering context by wrapping a view object and\n   * maintaining a reference to the parent context.\n   */\n  function Context (view, parentContext) {\n    this.view = view;\n    this.cache = { '.': this.view };\n    this.parent = parentContext;\n  }\n\n  /**\n   * Creates a new context using the given view with this context\n   * as the parent.\n   */\n  Context.prototype.push = function push (view) {\n    return new Context(view, this);\n  };\n\n  /**\n   * Returns the value of the given name in this context, traversing\n   * up the context hierarchy if the value is absent in this context's view.\n   */\n  Context.prototype.lookup = function lookup (name) {\n    var cache = this.cache;\n\n    var value;\n    if (cache.hasOwnProperty(name)) {\n      value = cache[name];\n    } else {\n      var context = this, names, index, lookupHit = false;\n\n      while (context) {\n        if (name.indexOf('.') > 0) {\n          value = context.view;\n          names = name.split('.');\n          index = 0;\n\n          /**\n           * Using the dot notion path in `name`, we descend through the\n           * nested objects.\n           *\n           * To be certain that the lookup has been successful, we have to\n           * check if the last object in the path actually has the property\n           * we are looking for. We store the result in `lookupHit`.\n           *\n           * This is specially necessary for when the value has been set to\n           * `undefined` and we want to avoid looking up parent contexts.\n           **/\n          while (value != null && index < names.length) {\n            if (index === names.length - 1)\n              lookupHit = hasProperty(value, names[index]);\n\n            value = value[names[index++]];\n          }\n        } else {\n          value = context.view[name];\n          lookupHit = hasProperty(context.view, name);\n        }\n\n        if (lookupHit)\n          break;\n\n        context = context.parent;\n      }\n\n      cache[name] = value;\n    }\n\n    if (isFunction(value))\n      value = value.call(this.view);\n\n    return value;\n  };\n\n  /**\n   * A Writer knows how to take a stream of tokens and render them to a\n   * string, given a context. It also maintains a cache of templates to\n   * avoid the need to parse the same template twice.\n   */\n  function Writer () {\n    this.cache = {};\n  }\n\n  /**\n   * Clears all cached templates in this writer.\n   */\n  Writer.prototype.clearCache = function clearCache () {\n    this.cache = {};\n  };\n\n  /**\n   * Parses and caches the given `template` and returns the array of tokens\n   * that is generated from the parse.\n   */\n  Writer.prototype.parse = function parse (template, tags) {\n    var cache = this.cache;\n    var tokens = cache[template];\n\n    if (tokens == null)\n      tokens = cache[template] = parseTemplate(template, tags);\n\n    return tokens;\n  };\n\n  /**\n   * High-level method that is used to render the given `template` with\n   * the given `view`.\n   *\n   * The optional `partials` argument may be an object that contains the\n   * names and templates of partials that are used in the template. It may\n   * also be a function that is used to load partial templates on the fly\n   * that takes a single argument: the name of the partial.\n   */\n  Writer.prototype.render = function render (template, view, partials) {\n    var tokens = this.parse(template);\n    var context = (view instanceof Context) ? view : new Context(view);\n    return this.renderTokens(tokens, context, partials, template);\n  };\n\n  /**\n   * Low-level method that renders the given array of `tokens` using\n   * the given `context` and `partials`.\n   *\n   * Note: The `originalTemplate` is only ever used to extract the portion\n   * of the original template that was contained in a higher-order section.\n   * If the template doesn't use higher-order sections, this argument may\n   * be omitted.\n   */\n  Writer.prototype.renderTokens = function renderTokens (tokens, context, partials, originalTemplate) {\n    var buffer = '';\n\n    var token, symbol, value;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      value = undefined;\n      token = tokens[i];\n      symbol = token[0];\n\n      if (symbol === '#') value = this.renderSection(token, context, partials, originalTemplate);\n      else if (symbol === '^') value = this.renderInverted(token, context, partials, originalTemplate);\n      else if (symbol === '>') value = this.renderPartial(token, context, partials, originalTemplate);\n      else if (symbol === '&') value = this.unescapedValue(token, context);\n      else if (symbol === 'name') value = this.escapedValue(token, context);\n      else if (symbol === 'text') value = this.rawValue(token);\n\n      if (value !== undefined)\n        buffer += value;\n    }\n\n    return buffer;\n  };\n\n  Writer.prototype.renderSection = function renderSection (token, context, partials, originalTemplate) {\n    var self = this;\n    var buffer = '';\n    var value = context.lookup(token[1]);\n\n    // This function is used to render an arbitrary template\n    // in the current context by higher-order sections.\n    function subRender (template) {\n      return self.render(template, context, partials);\n    }\n\n    if (!value) return;\n\n    if (isArray(value)) {\n      for (var j = 0, valueLength = value.length; j < valueLength; ++j) {\n        buffer += this.renderTokens(token[4], context.push(value[j]), partials, originalTemplate);\n      }\n    } else if (typeof value === 'object' || typeof value === 'string' || typeof value === 'number') {\n      buffer += this.renderTokens(token[4], context.push(value), partials, originalTemplate);\n    } else if (isFunction(value)) {\n      if (typeof originalTemplate !== 'string')\n        throw new Error('Cannot use higher-order sections without the original template');\n\n      // Extract the portion of the original template that the section contains.\n      value = value.call(context.view, originalTemplate.slice(token[3], token[5]), subRender);\n\n      if (value != null)\n        buffer += value;\n    } else {\n      buffer += this.renderTokens(token[4], context, partials, originalTemplate);\n    }\n    return buffer;\n  };\n\n  Writer.prototype.renderInverted = function renderInverted (token, context, partials, originalTemplate) {\n    var value = context.lookup(token[1]);\n\n    // Use JavaScript's definition of falsy. Include empty arrays.\n    // See https://github.com/janl/mustache.js/issues/186\n    if (!value || (isArray(value) && value.length === 0))\n      return this.renderTokens(token[4], context, partials, originalTemplate);\n  };\n\n  Writer.prototype.renderPartial = function renderPartial (token, context, partials) {\n    if (!partials) return;\n\n    var value = isFunction(partials) ? partials(token[1]) : partials[token[1]];\n    if (value != null)\n      return this.renderTokens(this.parse(value), context, partials, value);\n  };\n\n  Writer.prototype.unescapedValue = function unescapedValue (token, context) {\n    var value = context.lookup(token[1]);\n    if (value != null)\n      return value;\n  };\n\n  Writer.prototype.escapedValue = function escapedValue (token, context) {\n    var value = context.lookup(token[1]);\n    if (value != null)\n      return mustache.escape(value);\n  };\n\n  Writer.prototype.rawValue = function rawValue (token) {\n    return token[1];\n  };\n\n  mustache.name = 'mustache.js';\n  mustache.version = '2.3.0';\n  mustache.tags = [ '{{', '}}' ];\n\n  // All high-level mustache.* functions use this writer.\n  var defaultWriter = new Writer();\n\n  /**\n   * Clears all cached templates in the default writer.\n   */\n  mustache.clearCache = function clearCache () {\n    return defaultWriter.clearCache();\n  };\n\n  /**\n   * Parses and caches the given template in the default writer and returns the\n   * array of tokens it contains. Doing this ahead of time avoids the need to\n   * parse templates on the fly as they are rendered.\n   */\n  mustache.parse = function parse (template, tags) {\n    return defaultWriter.parse(template, tags);\n  };\n\n  /**\n   * Renders the `template` with the given `view` and `partials` using the\n   * default writer.\n   */\n  mustache.render = function render (template, view, partials) {\n    if (typeof template !== 'string') {\n      throw new TypeError('Invalid template! Template should be a \"string\" ' +\n                          'but \"' + typeStr(template) + '\" was given as the first ' +\n                          'argument for mustache#render(template, view, partials)');\n    }\n\n    return defaultWriter.render(template, view, partials);\n  };\n\n  // This is here for backwards compatibility with 0.4.x.,\n  /*eslint-disable */ // eslint wants camel cased function name\n  mustache.to_html = function to_html (template, view, partials, send) {\n    /*eslint-enable*/\n\n    var result = mustache.render(template, view, partials);\n\n    if (isFunction(send)) {\n      send(result);\n    } else {\n      return result;\n    }\n  };\n\n  // Export the escaping function so that the user may override it.\n  // See https://github.com/janl/mustache.js/issues/244\n  mustache.escape = escapeHtml;\n\n  // Export these mainly for testing, but also for advanced usage.\n  mustache.Scanner = Scanner;\n  mustache.Context = Context;\n  mustache.Writer = Writer;\n\n  return mustache;\n}));\n","module.exports = require './core'\n","SGN = require '../sgn'\nprefixKey = 'sgn-'\n\nmodule.exports =\n    key: 'sgn-'\n\n    storage: do ->\n        try\n            storage = window.localStorage\n\n            storage[\"#{prefixKey}test-storage\"] = 'foobar'\n            delete storage[\"#{prefixKey}test-storage\"]\n\n            storage\n        catch\n            {}\n\n    get: (key) ->\n        try\n            JSON.parse @storage[\"#{prefixKey}#{key}\"]\n\n    set: (key, value) ->\n        try\n            @storage[\"#{prefixKey}#{key}\"] = JSON.stringify value\n\n        @\n","SGN = require '../sgn'\nprefixKey = 'sgn-'\n\nmodule.exports =\n    key: 'sgn-'\n\n    storage: do ->\n        try\n            storage = window.sessionStorage\n\n            storage[\"#{prefixKey}test-storage\"] = 'foobar'\n            delete storage[\"#{prefixKey}test-storage\"]\n\n            storage\n        catch\n            {}\n\n    get: (key) ->\n        try\n            JSON.parse @storage[\"#{prefixKey}#{key}\"]\n\n    set: (key, value) ->\n        try\n            @storage[\"#{prefixKey}#{key}\"] = JSON.stringify value\n\n        @\n","SGN = require '../sgn'\nprefixKey = 'sgn-'\n\nmodule.exports =\n    get: (key) ->\n        return if SGN.util.isNode()\n\n        try\n            name = \"#{prefixKey}#{key}=\"\n            ca = document.cookie.split ';'\n\n            for c in ca\n                ct = c.trim()\n\n                value = ct.substring(name.length, ct.length) if ct.indexOf(name) is 0\n\n            value = JSON.parse value\n        catch err\n            value = {}\n\n        value\n\n    set: (key, value) ->\n        return if SGN.util.isNode()\n\n        try\n            days = 365\n            date = new Date()\n            str = JSON.stringify value\n\n            date.setTime date.getTime() + days * 24 * 60 * 60 * 1000\n\n            document.cookie = \"#{prefixKey}#{key}=#{str};expires=#{date.toUTCString()};path=/\"\n        catch err\n\n        return\n\n\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","// 7.2.8 IsRegExp(argument)\nvar isObject = require('./_is-object');\nvar cof = require('./_cof');\nvar MATCH = require('./_wks')('match');\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n};\n","// @@split logic\nrequire('./_fix-re-wks')('split', 2, function (defined, SPLIT, $split) {\n  'use strict';\n  var isRegExp = require('./_is-regexp');\n  var _split = $split;\n  var $push = [].push;\n  var $SPLIT = 'split';\n  var LENGTH = 'length';\n  var LAST_INDEX = 'lastIndex';\n  if (\n    'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n    'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n    'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n    '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n    '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n    ''[$SPLIT](/.?/)[LENGTH]\n  ) {\n    var NPCG = /()??/.exec('')[1] === undefined; // nonparticipating capturing group\n    // based on es5-shim implementation, need to rework it\n    $split = function (separator, limit) {\n      var string = String(this);\n      if (separator === undefined && limit === 0) return [];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) return _split.call(string, separator, limit);\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      var splitLimit = limit === undefined ? 4294967295 : limit >>> 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var separator2, match, lastIndex, lastLength, i;\n      // Doesn't need flags gy, but they don't hurt\n      if (!NPCG) separator2 = new RegExp('^' + separatorCopy.source + '$(?!\\\\s)', flags);\n      while (match = separatorCopy.exec(string)) {\n        // `separatorCopy.lastIndex` is not reliable cross-browser\n        lastIndex = match.index + match[0][LENGTH];\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          // Fix browsers whose `exec` methods don't consistently return `undefined` for NPCG\n          // eslint-disable-next-line no-loop-func\n          if (!NPCG && match[LENGTH] > 1) match[0].replace(separator2, function () {\n            for (i = 1; i < arguments[LENGTH] - 2; i++) if (arguments[i] === undefined) match[i] = undefined;\n          });\n          if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));\n          lastLength = match[0][LENGTH];\n          lastLastIndex = lastIndex;\n          if (output[LENGTH] >= splitLimit) break;\n        }\n        if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string[LENGTH]) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n    };\n  // Chakra, V8\n  } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {\n    $split = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : _split.call(this, separator, limit);\n    };\n  }\n  // 21.1.3.17 String.prototype.split(separator, limit)\n  return [function split(separator, limit) {\n    var O = defined(this);\n    var fn = separator == undefined ? undefined : separator[SPLIT];\n    return fn !== undefined ? fn.call(separator, O, limit) : $split.call(String(O), separator, limit);\n  }, $split];\n});\n","SGN = require '../sgn'\n\n{ isBrowser } = require '../util'\n\nXMLHttpRequest = if isBrowser() then window.XMLHttpRequest else require('xmlhttprequest')?.XMLHttpRequest\n\nmodule.exports = (options = {}, callback, progressCallback) ->\n    http = new XMLHttpRequest()\n    method = options.method ? 'get'\n    url = options.url\n    headers = options.headers ? {}\n\n    if options.qs?\n        queryParams = SGN.util.formatQueryParams options.qs\n\n        if url.indexOf('?') is -1\n            url += '?' + queryParams\n        else\n            url += '&' + queryParams\n\n    http.open method.toUpperCase(), url\n    http.timeout = options.timeout if options.timeout?\n    http.withCredentials = true if options.useCookies is true\n\n    if options.json is true\n        headers['Content-Type'] = 'application/json'\n        headers['Accept'] = 'application/json'\n\n    for header, value of options.headers\n        http.setRequestHeader header, value if value?\n\n    http.addEventListener 'load', ->\n        headers = http.getAllResponseHeaders().split '\\r\\n'\n        headers = headers.reduce (acc, current, i) ->\n            parts = current.split ': '\n\n            acc[parts[0].toLowerCase()] = parts[1]\n\n            acc\n        , {}\n        body = http.responseText\n\n        body = JSON.parse body if options.json is true\n\n        callback null,\n            statusCode: http.status\n            headers: headers\n            body: body\n\n        return\n    http.addEventListener 'error', ->\n        callback new Error()\n\n        return\n    http.addEventListener 'timeout', ->\n        callback new Error()\n\n        return\n    http.addEventListener 'progress', (e) ->\n        if e.lengthComputable and typeof progressCallback is 'function'\n            progressCallback e.loaded, e.total\n\n        return\n\n    if options.formData?\n        formData = new FormData()\n\n        for key, value of options.formData\n            formData.append key, value\n\n        http.send formData\n    else if options.body?\n        if options.json is true\n            http.send JSON.stringify(options.body)\n        else\n            http.send options.body\n    else\n        http.send()\n\n    return\n","SGN = require '../../sgn'\n\nmodule.exports = (options = {}, callback, progressCallback) ->\n    throw new Error('File is not defined') if not options.file?\n\n    url = SGN.config.get 'assetsFileUploadUrl'\n    timeout = 1000 * 60 * 60\n\n    SGN.request\n        method: 'post'\n        url: url\n        headers:\n            'Accept': 'application/json'\n        formData:\n            file: options.file\n        timeout: timeout\n    , (err, data) ->\n        if err?\n            callback SGN.util.error(new Error('Request error'),\n                code: 'RequestError'\n            )\n        else\n            if data.statusCode is 200\n                callback null, JSON.parse(data.body)\n            else\n                callback SGN.util.error(new Error('Request error'),\n                    code: 'RequestError'\n                    statusCode: data.statusCode\n                )\n\n        return\n    , (loaded, total) ->\n        if typeof progressCallback is 'function'\n            progressCallback\n                progress: loaded / total\n                loaded: loaded\n                total: total\n\n        return\n\n    return\n","SGN = require '../../sgn'\nclientLocalStorage = require '../../storage/client-local'\ngetPool = ->\n    data = clientLocalStorage.get 'event-tracker-pool'\n    data = [] if Array.isArray(data) is false\n\n    data\npool = getPool()\n\nclientLocalStorage.set 'event-tracker-pool', []\n\ntry\n    window.addEventListener 'unload', ->\n        pool = pool.concat getPool()\n\n        clientLocalStorage.set 'event-tracker-pool', pool\n\n        return\n    , false\n\nmodule.exports = class Tracker\n    defaultOptions:\n        trackId: null\n        dispatchInterval: 3000\n        dispatchLimit: 100\n        poolLimit: 1000\n        dryRun: false\n\n    constructor: (options = {}) ->\n        for key, value of @defaultOptions\n            @[key] = options[key] or value\n\n        @dispatching = false\n        @session =\n            id: SGN.util.uuid()\n        @client =\n            trackId: @trackId\n            id: SGN.client.id\n        @view =\n            path: []\n            previousPath: []\n            uri: null\n        @location = {}\n        @application = {}\n        @identity = {}\n\n        # Dispatch events periodically.\n        @interval = setInterval @dispatch.bind(@), @dispatchInterval\n\n        return\n\n    trackEvent: (type, properties = {}, version = '1.0.0') ->\n        throw SGN.util.error(new Error('Event type is required')) if typeof type isnt 'string'\n        return if not @trackId?\n\n        pool.push\n            id: SGN.util.uuid()\n            type: type\n            version: version\n            recordedAt: new Date().toISOString()\n            sentAt: null\n            client:\n                id: @client.id\n                trackId: @client.trackId\n            context: @getContext()\n            properties: properties\n\n        pool.shift() while @getPoolSize() > @poolLimit\n\n        @\n\n    identify: (id) ->\n        @identity.id = id\n\n        @\n\n    setLocation: (location = {}) ->\n        @location.determinedAt = new Date(location.timestamp).toISOString()\n        @location.latitude = location.latitude\n        @location.longitude = location.longitude\n        @location.altitude = location.altitude\n        @location.accuracy =\n            horizontal: location.accuracy?.horizontal\n            vertical: location.accuracy?.vertical\n        @location.speed = location.speed\n        @location.floor = location.floor\n\n        @\n\n    setApplication: (application = {}) ->\n        @application.name = application.name\n        @application.version = application.version\n        @application.build = application.build\n\n        @\n\n    setView: (path) ->\n        @view.previousPath = @view.path\n        @view.path = path if Array.isArray(path) is true\n        @view.uri = window.location.href\n\n        @\n\n    getView: ->\n        view = {}\n\n        view.path = @view.path if @view.path.length > 0\n        view.previousPath = @view.previousPath if @view.previousPath.length > 0\n        view.uri = @view.uri if @view.uri?\n\n        view\n\n    getContext: ->\n        screenDimensions = SGN.util.getScreenDimensions()\n        os = SGN.util.getOS()\n        context =\n            userAgent: window.navigator.userAgent\n            locale: navigator.language\n            timeZone:\n                utcOffsetSeconds: SGN.util.getUtcOffsetSeconds()\n                utcDstOffsetSeconds: SGN.util.getUtcDstOffsetSeconds()\n            device:\n                screen:\n                    width: screenDimensions.physical.width\n                    height: screenDimensions.physical.height\n                    density: screenDimensions.density\n            session:\n                id: @session.id\n            view: @getView()\n        application =\n            name: @application.name\n            version: @application.version\n            build: @application.build\n        campaign =\n            source: SGN.util.getQueryParam 'utm_source'\n            medium: SGN.util.getQueryParam 'utm_medium'\n            name: SGN.util.getQueryParam 'utm_campaign'\n            term: SGN.util.getQueryParam 'utm_term'\n            content: SGN.util.getQueryParam 'utm_content'\n        loc =\n            determinedAt: @location.determinedAt\n            latitude: @location.latitude\n            longitude: @location.longitude\n            altitude: @location.altitude\n            speed: @location.speed\n            floor: @location.floor\n            accuracy:\n                horizontal: @location.accuracy?.horizontal\n                vertical: @location.accuracy?.vertical\n\n        # Operating system.\n        context.os = name: os if os?\n\n        # Session referrer.\n        context.session.referrer = document.referrer if document.referrer.length > 0\n\n        # Application.\n        ['name', 'version', 'build'].forEach (key) ->\n            delete application[key] if typeof application[key] isnt 'string' or application[key].length is 0\n            return\n        context.application = application if Object.keys(application).length > 0\n\n        # Campaign.\n        ['source', 'medium', 'name', 'term', 'content'].forEach (key) ->\n            delete campaign[key] if typeof campaign[key] isnt 'string' or campaign[key].length is 0\n            return\n        context.campaign = campaign if Object.keys(campaign).length > 0\n\n        # Location.\n        ['latitude', 'longitude', 'altitude', 'speed', 'floor'].forEach (key) ->\n            delete loc[key] if typeof loc[key] isnt 'number'\n            return\n        delete loc.accuracy.horizontal if typeof loc.accuracy.horizontal isnt 'number'\n        delete loc.accuracy.vertical if typeof loc.accuracy.vertical isnt 'number'\n        delete loc.accuracy if Object.keys(loc.accuracy).length is 0\n        delete loc.determinedAt if typeof loc.determinedAt isnt 'string' or loc.determinedAt.length is 0\n        context.location = loc if Object.keys(loc).length > 0\n\n        # Person identifier.\n        context.personId = @identity.id if @identity.id?\n\n        context\n\n    getPoolSize: ->\n        pool.length\n\n    dispatch: ->\n        return if @dispatching is true or @getPoolSize() is 0\n        return pool.splice(0, @dispatchLimit) if @dryRun is true\n\n        events = pool.slice 0, @dispatchLimit\n        nacks = 0\n\n        @dispatching = true\n\n        @ship events, (err, response) =>\n            @dispatching = false\n\n            if not err?\n                response.events.forEach (resEvent) ->\n                    if resEvent.status is 'validation_error' or resEvent.status is 'ack'\n                        pool = pool.filter (poolEvent) -> poolEvent.id isnt resEvent.id\n                    else if 'nack'\n                        nacks++\n\n                    return\n\n                # Keep dispatching until the pool size reaches a sane level.\n                @dispatch() if @getPoolSize() >= @dispatchLimit and nacks is 0\n\n            return\n\n        @\n\n    ship: (events = [], callback) ->\n        http = new XMLHttpRequest()\n        url = SGN.config.get 'eventsTrackUrl'\n        payload = events: events.map (event) ->\n            event.sentAt = new Date().toISOString()\n\n            event\n\n        http.open 'POST', url\n        http.setRequestHeader 'Content-Type', 'application/json'\n        http.setRequestHeader 'Accept', 'application/json'\n        http.timeout = 1000 * 20\n        http.onload = ->\n            if http.status is 200\n                try\n                    callback null, JSON.parse(http.responseText)\n                catch err\n                    callback SGN.util.error(new Error('Could not parse JSON'))\n            else\n                callback SGN.util.error(new Error('Server did not accept request'))\n\n            return\n        http.onerror = ->\n            callback SGN.util.error(new Error('Could not perform network request'))\n\n            return\n        http.send JSON.stringify(payload)\n\n        @\n","MicroEvent = require 'microevent'\n\nclass Pulse\n    constructor: ->\n        @destroyed = false\n        @connection = @connect()\n\n        return\n\n    destroy: ->\n        @destroyed = true\n\n        @connection.close()\n\n        @\n\n    connect: ->\n        connection = new WebSocket SGN.config.get('eventsPulseUrl')\n\n        connection.onopen = @onOpen.bind @\n        connection.onmessage = @onMessage.bind @\n        connection.onerror = @onError.bind @\n        connection.onclose = @onClose.bind @\n\n        connection\n\n    onOpen: ->\n        @trigger 'open'\n\n        return\n\n    onMessage: (e) ->\n        try\n            @trigger 'event', JSON.parse(e.data)\n\n        return\n\n    onError: ->\n        return\n\n    onClose: ->\n        if @destroyed is false\n            setTimeout =>\n                @connection = @connect()\n\n                return\n            , 2000\n\n        return\n\nMicroEvent.mixin Pulse\n\nmodule.exports = Pulse\n","SGN = require '../../sgn'\n\nparseCookies = (cookies = []) ->\n    parsedCookies = {}\n\n    cookies.map (cookie) ->\n        parts = cookie.split '; '\n        keyValuePair = parts[0].split '='\n        key = keyValuePair[0]\n        value = keyValuePair[1]\n\n        parsedCookies[key] = value\n\n        return\n    \n    parsedCookies\n\nmodule.exports = (options = {}, callback) ->\n    url = SGN.config.get 'graphUrl'\n    timeout = 1000 * 12\n    appKey = SGN.config.get 'appKey'\n    authToken = SGN.config.get 'authToken'\n    authTokenCookieName = 'shopgun-auth-token'\n    options =\n        method: 'post'\n        url: url\n        timeout: timeout\n        json: true\n        headers: {}\n        body:\n            query: options.query\n            operationName: options.operationName\n            variables: options.variables\n\n    # Apply authorization header when app key is provided to avoid rate limiting.\n    options.headers.Authorization = 'Basic ' + SGN.util.btoa(\"app-key:#{appKey}\") if appKey?\n\n    # Set cookies manually in node.js.\n    if SGN.util.isNode() and authToken?\n        options.cookies = [\n            key: authTokenCookieName\n            value: authToken\n            url: url\n        ]\n    else if SGN.util.isBrowser()\n        options.useCookies = true\n\n    SGN.request options, (err, data) ->\n        if err?\n            callback SGN.util.error(new Error('Graph request error'),\n                code: 'GraphRequestError'\n            )\n        else\n            # Update auth token as it might have changed.\n            if SGN.util.isNode()\n                cookies = parseCookies data.headers?['set-cookie']\n                authCookie = cookies[authTokenCookieName]\n\n                if SGN.config.get('authToken') isnt authCookie\n                    SGN.config.set 'authToken', authCookie\n\n            if data.statusCode is 200\n                callback null, data.body\n            else\n                callback SGN.util.error(new Error('Graph API error'),\n                    code: 'GraphAPIError'\n                    statusCode: data.statusCode\n                )\n\n        return\n\n    return\n\n\n","module.exports =\n    Tracker: require './tracker'\n\n    Pulse: require './pulse'\n","SGN = require '../../sgn'\n\nrequest = (options = {}, callback = ->, runs = 0) ->\n    SGN.CoreKit.session.ensure (err) ->\n        return callback err if err?\n\n        url = options.url ? ''\n        headers = options.headers ? {}\n        json = if typeof options.json is 'boolean' then options.json else true\n        token = SGN.config.get 'coreSessionToken'\n        clientId = SGN.config.get 'coreSessionClientId'\n        appVersion = SGN.config.get 'appVersion'\n        appSecret = SGN.config.get 'appSecret'\n        locale = SGN.config.get 'locale'\n        qs = options.qs ? {}\n        geo = options.geolocation\n\n        headers['X-Token'] = token\n        headers['X-Signature'] = SGN.CoreKit.session.sign appSecret, token if appSecret?\n\n        qs.r_locale = locale if locale?\n        qs.api_av = appVersion if appVersion?\n        qs.client_id = clientId if clientId?\n\n        if geo?\n            qs.r_lat = geo.latitude if geo.latitude? and not qs.r_lat?\n            qs.r_lng = geo.longitude if geo.longitude? and not qs.r_lng?\n            qs.r_radius = geo.radius if geo.radius? and not qs.r_radius?\n            qs.r_sensor = geo.sensor if geo.sensor? and not qs.r_sensor?\n\n        SGN.request\n            method: options.method\n            url: SGN.config.get('coreUrl') + url\n            qs: qs\n            body: options.body\n            formData: options.formData\n            headers: headers\n            json: json\n            useCookies: false\n        , (err, data) ->\n            if err?\n                callback SGN.util.error(new Error('Core request error'),\n                    code: 'CoreRequestError'\n                )\n            else\n                token = SGN.config.get 'coreSessionToken'\n                responseToken = data.headers['x-token']\n\n                SGN.CoreKit.session.saveToken responseToken if responseToken and token isnt responseToken\n\n                if data.statusCode >= 200 and data.statusCode < 300 or data.statusCode is 304\n                    callback null, data.body\n                else\n                    if runs is 0 and data.body? and data.body.code in [1101, 1107, 1108]\n                        SGN.config.set coreSessionToken: undefined\n\n                        request options, callback, ++runs\n                    else\n                        callback SGN.util.error(new Error('Core API error'),\n                            code: 'CoreAPIError'\n                            statusCode: data.statusCode\n                        ), data.body\n\n            return\n\n    return\n\nmodule.exports = request\n","SGN = require '../../sgn'\nsha256 = require 'sha256'\nclientCookieStorage = require '../../storage/client-cookie'\ncallbackQueue = []\nrenewed = false\n\nsession =\n    ttl: 1 * 60 * 60 * 24 * 60\n\n    saveToken: (token) ->\n        throw new Error('No token provided for saving') if not token\n\n        SGN.config.set coreSessionToken: token\n\n        session.saveCookie()\n\n        return\n\n    saveClientId: (clientId) ->\n        SGN.config.set coreSessionClientId: clientId\n\n        session.saveCookie()\n\n        return\n\n    saveCookie: ->\n        clientCookieStorage.set 'session',\n            token: SGN.config.get 'coreSessionToken'\n            client_id: SGN.config.get 'coreSessionClientId'\n\n        return\n\n    create: (callback) ->\n        SGN.request\n            method: 'post'\n            url: SGN.config.get('coreUrl') + '/v2/sessions'\n            json: true\n            qs:\n                api_key: SGN.config.get 'appKey'\n                token_ttl: session.ttl\n        , (err, data) ->\n            if err?\n                callback err\n            else if data.statusCode is 201\n                session.saveToken data.body.token\n                session.saveClientId data.body.client_id\n\n                callback err, data.body\n            else\n                callback new Error('Could not create session')\n\n            return\n\n        return\n    \n    update: (callback) ->\n        headers = {}\n        token = SGN.config.get 'coreSessionToken'\n        appSecret = SGN.config.get 'appSecret'\n\n        headers['X-Token'] = token\n        headers['X-Signature'] = session.sign appSecret, token if appSecret?\n\n        SGN.request\n            url: SGN.config.get('coreUrl') + '/v2/sessions'\n            headers: headers\n            json: true\n        , (err, data) ->\n            if err?\n                callback err\n            else if data.statusCode is 200\n                session.saveToken data.body.token\n                session.saveClientId data.body.client_id\n\n                callback err, data.body\n            else\n                callback new Error('Could not update session')\n\n            return\n\n        return\n\n    renew: (callback) ->\n        headers = {}\n        token = SGN.config.get 'coreSessionToken'\n        appSecret = SGN.config.get 'appSecret'\n\n        headers['X-Token'] = token\n        headers['X-Signature'] = session.sign appSecret, token if appSecret?\n\n        SGN.request\n            method: 'put'\n            url: SGN.config.get('coreUrl') + '/v2/sessions'\n            headers: headers\n            json: true\n        , (err, data) ->\n            if err?\n                callback err\n            else if data.statusCode is 200\n                session.saveToken data.body.token\n                session.saveClientId data.body.client_id\n\n                callback err, data.body\n            else\n                callback new Error('Could not renew session')\n\n            return\n\n        return\n\n    ensure: (callback) ->\n        queueCount = callbackQueue.length\n        complete = (err) ->\n            callbackQueue = callbackQueue.filter (fn) ->\n                fn err\n\n                false\n\n            return\n\n        callbackQueue.push callback\n\n        if queueCount is 0\n            if not SGN.config.get('coreSessionToken')?\n                session.create complete\n            else if renewed is false\n                renewed = true\n                session.renew (err) ->\n                    if err?\n                        session.create complete\n                    else\n                        complete()\n                    \n                    return\n            else\n                complete()\n\n        return\n\n    sign: (appSecret, token) ->\n        sha256 [appSecret, token].join('')\n\nmodule.exports = session\n","!function(globals) {\n'use strict'\n\nvar convertHex = {\n  bytesToHex: function(bytes) {\n    /*if (typeof bytes.byteLength != 'undefined') {\n      var newBytes = []\n\n      if (typeof bytes.buffer != 'undefined')\n        bytes = new DataView(bytes.buffer)\n      else\n        bytes = new DataView(bytes)\n\n      for (var i = 0; i < bytes.byteLength; ++i) {\n        newBytes.push(bytes.getUint8(i))\n      }\n      bytes = newBytes\n    }*/\n    return arrBytesToHex(bytes)\n  },\n  hexToBytes: function(hex) {\n    if (hex.length % 2 === 1) throw new Error(\"hexToBytes can't have a string with an odd number of characters.\")\n    if (hex.indexOf('0x') === 0) hex = hex.slice(2)\n    return hex.match(/../g).map(function(x) { return parseInt(x,16) })\n  }\n}\n\n\n// PRIVATE\n\nfunction arrBytesToHex(bytes) {\n  return bytes.map(function(x) { return padLeft(x.toString(16),2) }).join('')\n}\n\nfunction padLeft(orig, len) {\n  if (orig.length > len) return orig\n  return Array(len - orig.length + 1).join('0') + orig\n}\n\n\nif (typeof module !== 'undefined' && module.exports) { //CommonJS\n  module.exports = convertHex\n} else {\n  globals.convertHex = convertHex\n}\n\n}(this);","!function(globals) {\n'use strict'\n\nvar convertString = {\n  bytesToString: function(bytes) {\n    return bytes.map(function(x){ return String.fromCharCode(x) }).join('')\n  },\n  stringToBytes: function(str) {\n    return str.split('').map(function(x) { return x.charCodeAt(0) })\n  }\n}\n\n//http://hossa.in/2012/07/20/utf-8-in-javascript.html\nconvertString.UTF8 = {\n   bytesToString: function(bytes) {\n    return decodeURIComponent(escape(convertString.bytesToString(bytes)))\n  },\n  stringToBytes: function(str) {\n   return convertString.stringToBytes(unescape(encodeURIComponent(str)))\n  }\n}\n\nif (typeof module !== 'undefined' && module.exports) { //CommonJS\n  module.exports = convertString\n} else {\n  globals.convertString = convertString\n}\n\n}(this);","!function(globals) {\n'use strict'\n\nvar _imports = {}\n\nif (typeof module !== 'undefined' && module.exports) { //CommonJS\n  _imports.bytesToHex = require('convert-hex').bytesToHex\n  _imports.convertString = require('convert-string')\n  module.exports = sha256\n} else {\n  _imports.bytesToHex = globals.convertHex.bytesToHex\n  _imports.convertString = globals.convertString\n  globals.sha256 = sha256\n}\n\n/*\nCryptoJS v3.1.2\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\n\n// Initialization round constants tables\nvar K = []\n\n// Compute constants\n!function () {\n  function isPrime(n) {\n    var sqrtN = Math.sqrt(n);\n    for (var factor = 2; factor <= sqrtN; factor++) {\n      if (!(n % factor)) return false\n    }\n\n    return true\n  }\n\n  function getFractionalBits(n) {\n    return ((n - (n | 0)) * 0x100000000) | 0\n  }\n\n  var n = 2\n  var nPrime = 0\n  while (nPrime < 64) {\n    if (isPrime(n)) {\n      K[nPrime] = getFractionalBits(Math.pow(n, 1 / 3))\n      nPrime++\n    }\n\n    n++\n  }\n}()\n\nvar bytesToWords = function (bytes) {\n  var words = []\n  for (var i = 0, b = 0; i < bytes.length; i++, b += 8) {\n    words[b >>> 5] |= bytes[i] << (24 - b % 32)\n  }\n  return words\n}\n\nvar wordsToBytes = function (words) {\n  var bytes = []\n  for (var b = 0; b < words.length * 32; b += 8) {\n    bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF)\n  }\n  return bytes\n}\n\n// Reusable object\nvar W = []\n\nvar processBlock = function (H, M, offset) {\n  // Working variables\n  var a = H[0], b = H[1], c = H[2], d = H[3]\n  var e = H[4], f = H[5], g = H[6], h = H[7]\n\n    // Computation\n  for (var i = 0; i < 64; i++) {\n    if (i < 16) {\n      W[i] = M[offset + i] | 0\n    } else {\n      var gamma0x = W[i - 15]\n      var gamma0  = ((gamma0x << 25) | (gamma0x >>> 7))  ^\n                    ((gamma0x << 14) | (gamma0x >>> 18)) ^\n                    (gamma0x >>> 3)\n\n      var gamma1x = W[i - 2];\n      var gamma1  = ((gamma1x << 15) | (gamma1x >>> 17)) ^\n                    ((gamma1x << 13) | (gamma1x >>> 19)) ^\n                    (gamma1x >>> 10)\n\n      W[i] = gamma0 + W[i - 7] + gamma1 + W[i - 16];\n    }\n\n    var ch  = (e & f) ^ (~e & g);\n    var maj = (a & b) ^ (a & c) ^ (b & c);\n\n    var sigma0 = ((a << 30) | (a >>> 2)) ^ ((a << 19) | (a >>> 13)) ^ ((a << 10) | (a >>> 22));\n    var sigma1 = ((e << 26) | (e >>> 6)) ^ ((e << 21) | (e >>> 11)) ^ ((e << 7)  | (e >>> 25));\n\n    var t1 = h + sigma1 + ch + K[i] + W[i];\n    var t2 = sigma0 + maj;\n\n    h = g;\n    g = f;\n    f = e;\n    e = (d + t1) | 0;\n    d = c;\n    c = b;\n    b = a;\n    a = (t1 + t2) | 0;\n  }\n\n  // Intermediate hash value\n  H[0] = (H[0] + a) | 0;\n  H[1] = (H[1] + b) | 0;\n  H[2] = (H[2] + c) | 0;\n  H[3] = (H[3] + d) | 0;\n  H[4] = (H[4] + e) | 0;\n  H[5] = (H[5] + f) | 0;\n  H[6] = (H[6] + g) | 0;\n  H[7] = (H[7] + h) | 0;\n}\n\nfunction sha256(message, options) {;\n  if (message.constructor === String) {\n    message = _imports.convertString.UTF8.stringToBytes(message);\n  }\n\n  var H =[ 0x6A09E667, 0xBB67AE85, 0x3C6EF372, 0xA54FF53A,\n           0x510E527F, 0x9B05688C, 0x1F83D9AB, 0x5BE0CD19 ];\n\n  var m = bytesToWords(message);\n  var l = message.length * 8;\n\n  m[l >> 5] |= 0x80 << (24 - l % 32);\n  m[((l + 64 >> 9) << 4) + 15] = l;\n\n  for (var i=0 ; i<m.length; i += 16) {\n    processBlock(H, m, i);\n  }\n\n  var digestbytes = wordsToBytes(H);\n  return options && options.asBytes ? digestbytes :\n         options && options.asString ? _imports.convertString.bytesToString(digestbytes) :\n         _imports.bytesToHex(digestbytes)\n}\n\nsha256.x2 = function(message, options) {\n  return sha256(sha256(message, { asBytes:true }), options)\n}\n\n}(this);\n","SGN = require '../../sgn'\nrequest = require './request'\nsession = require './session'\n\nmodule.exports =\n    request: request\n\n    session: session\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar ctx = require('./_ctx');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE];\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n  var key, own, out, exp;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    // export native or passed\n    out = (own ? target : source)[key];\n    // bind timers to global for call from export context\n    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // extend global\n    if (target) redefine(target, key, out, type & $export.U);\n    // export\n    if (exports[key] != out) hide(exports, key, exp);\n    if (IS_PROTO && expProto[key] != out) expProto[key] = out;\n  }\n};\nglobal.core = core;\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","// 22.1.3.31 Array.prototype[@@unscopables]\nvar UNSCOPABLES = require('./_wks')('unscopables');\nvar ArrayProto = Array.prototype;\nif (ArrayProto[UNSCOPABLES] == undefined) require('./_hide')(ArrayProto, UNSCOPABLES, {});\nmodule.exports = function (key) {\n  ArrayProto[UNSCOPABLES][key] = true;\n};\n","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","'use strict';\n// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(5);\nvar KEY = 'find';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","MicroEvent = require 'microevent'\nSGN = require '../../sgn'\n\nclass PagedPublicationPageSpread\n    constructor: (@options = {}) ->\n        @contentsRendered = false\n        @hotspotsRendered = false\n        @el = @renderEl()\n\n        return\n\n    getId: ->\n        @options.id\n\n    getEl: ->\n        @el\n\n    getPages: ->\n        @options.pages\n\n    renderEl: ->\n        el = document.createElement 'div'\n        pageIds = @getPages().map (page) -> page.id\n\n        el.className = 'verso__page-spread sgn-pp__page-spread'\n\n        el.setAttribute 'data-id', @getId()\n        el.setAttribute 'data-type', 'page'\n        el.setAttribute 'data-width', @options.width\n        el.setAttribute 'data-page-ids', pageIds.join(',')\n        el.setAttribute 'data-max-zoom-scale', @options.maxZoomScale\n        el.setAttribute 'data-zoomable', false\n\n        el\n\n    renderContents: ->\n        id = @getId()\n        el = @getEl()\n        pages = @getPages()\n        pageCount = pages.length\n        imageLoads = 0\n\n        pages.forEach (page, i) =>\n            image = page.images.medium\n            pageEl = document.createElement 'div'\n            loaderEl = document.createElement 'div'\n\n            pageEl.className = 'sgn-pp__page verso__page'\n            pageEl.setAttribute('data-id', page.id) if page.id?\n\n            if pageCount is 2\n                pageEl.className += if i is 0 then ' verso-page--verso' else ' verso-page--recto'\n\n            pageEl.appendChild loaderEl\n            el.appendChild pageEl\n\n            loaderEl.className = 'sgn-pp-page__loader'\n            loaderEl.innerHTML = \"<span>#{page.label}</span>\"\n\n            SGN.util.loadImage image, (err, width, height) =>\n                if not err?\n                    isComplete = ++imageLoads is pageCount\n\n                    pageEl.style.backgroundImage = \"url(#{image})\"\n                    pageEl.setAttribute 'data-width', width\n                    pageEl.setAttribute 'data-height', height\n                    pageEl.innerHTML = '&nbsp;'\n\n                    el.setAttribute('data-zoomable', true) if isComplete\n\n                    @trigger 'pageLoaded', pageSpreadId: id, page: page\n                    @trigger 'pagesLoaded', pageSpreadId: id, pages: pages if isComplete\n                else\n                    loaderEl.innerHTML = '<span>!</span>'\n\n                return\n\n            return\n\n        @contentsRendered = true\n\n        @\n\n    clearContents: (pageSpread, versoPageSpread) ->\n        @el.innerHTML = ''\n        @contentsRendered = false\n\n        @\n\n    zoomIn: ->\n        pageEls = [].slice.call @el.querySelectorAll('.sgn-pp__page')\n        pages = @getPages()\n\n        pageEls.forEach (pageEl) =>\n            id = pageEl.getAttribute 'data-id'\n            page = pages.find (page) -> page.id is id\n            image = page.images.large\n\n            SGN.util.loadImage image, (err) =>\n                if not err? and @el.getAttribute('data-active') is 'true'\n                    pageEl.setAttribute 'data-image', pageEl.style.backgroundImage\n                    pageEl.style.backgroundImage = \"url(#{image})\"\n\n                return\n\n            return\n\n        return\n\n    zoomOut: ->\n        pageEls = [].slice.call @el.querySelectorAll('.sgn-pp__page[data-image]')\n\n        pageEls.forEach (pageEl) ->\n            pageEl.style.backgroundImage = pageEl.getAttribute 'data-image'\n            \n            pageEl.removeAttribute 'data-image'\n\n            return\n\n        return\n\nMicroEvent.mixin PagedPublicationPageSpread\n\nmodule.exports = PagedPublicationPageSpread\n","MicroEvent = require 'microevent'\nPageSpread = require './page-spread'\nSGN = require '../../sgn'\n\nclass PagedPublicationPageSpreads\n    constructor: (@options) ->\n        @collection = []\n        @ids = {}\n\n        return\n\n    get: (id) ->\n        @ids[id]\n\n    getFrag: ->\n        frag = document.createDocumentFragment()\n\n        @collection.forEach (pageSpread) -> frag.appendChild pageSpread.el\n\n        frag\n\n    update: (pageMode = 'single') ->\n        pageSpreads = []\n        ids = {}\n        pages = @options.pages.slice()\n        width = @options.width\n        maxZoomScale = @options.maxZoomScale\n\n        if pageMode is 'single'\n            pages.forEach (page) -> pageSpreads.push [page]\n        else\n            firstPage = pages.shift()\n            lastPage = if pages.length % 2 is 1 then pages.pop() else null\n            midstPageSpreads = SGN.util.chunk pages, 2\n\n            pageSpreads.push [firstPage] if firstPage?\n            midstPageSpreads.forEach (midstPages) -> pageSpreads.push midstPages.map (page) -> page\n            pageSpreads.push [lastPage] if lastPage?\n\n        @collection = pageSpreads.map (pages, i) =>\n            id = \"#{pageMode}-#{i}\"\n            pageSpread = new PageSpread\n                width: width\n                maxZoomScale: maxZoomScale\n                pages: pages\n                id: id\n\n            pageSpread.bind 'pageLoaded', (e) => @trigger 'pageLoaded', e\n            pageSpread.bind 'pagesLoaded', (e) => @trigger 'pagesLoaded', e\n\n            ids[id] = pageSpread\n\n            pageSpread\n        @ids = ids\n\n        @\n\nMicroEvent.mixin PagedPublicationPageSpreads\n\nmodule.exports = PagedPublicationPageSpreads\n","MicroEvent = require 'microevent'\nVerso = require 'verso-browser'\nPageSpreads = require './page-spreads'\nclientLocalStorage = require '../../storage/client-local'\nSGN = require '../../sgn'\n\nclass PagedPublicationCore\n    defaults:\n        pages: []\n        pageSpreadWidth: 100\n        pageSpreadMaxZoomScale: 2.3\n        idleDelay: 1000\n        resizeDelay: 400\n        color: '#ffffff'\n\n    constructor: (el, options = {}) ->\n        @options = @makeOptions options, @defaults\n        @pageId = @getOption 'pageId'\n        @els =\n            root: el\n            pages: el.querySelector '.sgn-pp__pages'\n            verso: el.querySelector '.verso'\n        @pageMode = @getPageMode()\n        @pageSpreads = new PageSpreads\n            pages: @getOption 'pages'\n            maxZoomScale: @getOption 'pageSpreadMaxZoomScale'\n            width: @getOption 'pageSpreadWidth'\n\n        @pageSpreads.bind 'pageLoaded', @pageLoaded.bind(@)\n        @pageSpreads.bind 'pagesLoaded', @pagesLoaded.bind(@)\n\n        @setColor @getOption('color')\n\n        # It's important to insert the page spreads before instantiating Verso.\n        @els.pages.parentNode.insertBefore @pageSpreads.update(@pageMode).getFrag(), @els.pages\n\n        @verso = @createVerso()\n\n        @bind 'started', @start.bind(@)\n        @bind 'destroyed', @destroy.bind(@)\n\n        return\n\n    start: ->\n        @getVerso().start()\n\n        @visibilityChangeListener = @visibilityChange.bind @\n        @resizeListener = SGN.util.throttle @resize, @getOption('resizeDelay'), @\n        @unloadListener = @unload.bind @\n\n        document.addEventListener 'visibilitychange', @visibilityChangeListener, false\n        window.addEventListener 'resize', @resizeListener, false\n        window.addEventListener 'beforeunload', @unloadListener, false\n\n        @els.root.setAttribute 'data-started', ''\n        @els.root.setAttribute 'tabindex', '-1'\n        @els.root.focus()\n\n        return\n\n    destroy: ->\n        verso = @getVerso()\n        pageSpreadEls = verso.el.querySelectorAll '.sgn-pp__page-spread'\n\n        @els.root.removeAttribute 'data-started'\n        @els.root.removeAttribute 'data-idle'\n        @els.root.removeAttribute 'data-navigating'\n        @els.root.removeAttribute 'data-color-brightness'\n        @els.root.removeAttribute 'data-zoomed-in'\n\n        @els.root.style.backgroundColor = '#ffffff'\n\n        pageSpreadEl.parentNode.removeChild pageSpreadEl for pageSpreadEl in pageSpreadEls\n\n        verso.destroy()\n\n        document.removeEventListener 'visibilitychange', @visibilityChangeListener, false\n        window.removeEventListener 'resize', @resizeListener, false\n        window.removeEventListener 'beforeunload', @unloadListener, false\n\n        return\n\n    makeOptions: (options, defaults) ->\n        opts = {}\n\n        opts[key] = options[key] ? defaults[key] for key, value of options\n\n        opts\n\n    getOption: (key) ->\n        @options[key]\n\n    setColor: (color) ->\n        @els.root.setAttribute 'data-color-brightness', SGN.util.getColorBrightness(color)\n        @els.root.style.backgroundColor = color\n\n        return\n\n    createVerso: ->\n        verso = new Verso @els.verso, pageId: @pageId\n\n        verso.pageSpreads.forEach @overridePageSpreadContentRect.bind(@)\n\n        verso.bind 'beforeNavigation', @beforeNavigation.bind(@)\n        verso.bind 'afterNavigation', @afterNavigation.bind(@)\n        verso.bind 'attemptedNavigation', @attemptedNavigation.bind(@)\n        verso.bind 'clicked', @clicked.bind(@)\n        verso.bind 'doubleClicked', @doubleClicked.bind(@)\n        verso.bind 'pressed', @pressed.bind(@)\n        verso.bind 'contextmenu', @contextmenu.bind(@)\n        verso.bind 'panStart', @panStart.bind(@)\n        verso.bind 'panEnd', @panEnd.bind(@)\n        verso.bind 'zoomedIn', @zoomedIn.bind(@)\n        verso.bind 'zoomedOut', @zoomedOut.bind(@)\n\n        verso\n\n    getVerso: ->\n        @verso\n\n    getContentRect: (pageSpread) ->\n        rect =\n            top: 0\n            left: 0\n            right: 0\n            bottom: 0\n            width: 0\n            height: 0\n        pageEls = pageSpread.getPageEls()\n        pageEl = pageEls[0]\n        pageCount = pageEls.length\n\n        return rect if not pageCount\n        \n        scale = @getVerso().transform.scale\n        pageWidth = pageEl.offsetWidth * pageCount * scale\n        pageHeight = pageEl.offsetHeight * scale\n        imageRatio = +pageEl.getAttribute('data-height') / (+pageEl.getAttribute('data-width') * pageCount)\n        actualHeight = pageHeight\n        actualWidth = actualHeight / imageRatio\n        actualWidth = Math.min pageWidth, actualWidth\n        actualHeight = actualWidth * imageRatio\n        clientRect = pageEl.getBoundingClientRect()\n\n        rect.width = actualWidth\n        rect.height = actualHeight\n        rect.top = clientRect.top + (pageHeight - actualHeight) / 2\n        rect.left = clientRect.left + (pageWidth - actualWidth) / 2\n        rect.right = rect.width + rect.left\n        rect.bottom = rect.height + rect.top\n\n        rect\n\n    formatProgressLabel: (pageSpread) ->\n        pages = pageSpread?.options.pages ? []\n        pageIds = pages.map (page) -> page.id\n        pageLabels = pages.map (page) -> page.label\n        pageCount = @getOption('pages').length\n        label = if pageIds.length > 0 then pageLabels.join('-') + ' / ' + pageCount else null\n\n        label\n\n    renderPageSpreads: ->\n        @getVerso().pageSpreads.forEach (pageSpread) =>\n            visibility = pageSpread.getVisibility()\n            match = @pageSpreads.get pageSpread.getId()\n\n            if match?\n                if visibility is 'visible' and match.contentsRendered is false\n                    setTimeout match.renderContents.bind(match), 0\n                if visibility is 'gone' and match.contentsRendered is true\n                    setTimeout match.clearContents.bind(match), 0\n\n            return\n\n        @\n\n    findPage: (pageId) ->\n        @getOption('pages').find (page) -> page.id is pageId\n\n    pageLoaded: (e) ->\n        @trigger 'pageLoaded', e\n\n        return\n\n    pagesLoaded: (e) ->\n        @trigger 'pagesLoaded', e\n\n        return\n\n    beforeNavigation: (e) ->\n        position = e.newPosition\n        theVerso = @getVerso()\n        versoPageSpread = theVerso.getPageSpreadFromPosition position\n        pageSpread = @pageSpreads.get versoPageSpread.getId()\n        pageSpreadCount = theVerso.getPageSpreadCount()\n        newSpreadEl = theVerso.pageSpreadEls[e.newPosition]\n        progress = position / (pageSpreadCount - 1) * 100\n        progressLabel = @formatProgressLabel pageSpread\n\n        @els.root.setAttribute 'data-navigating', true\n\n        @renderPageSpreads()\n        @resetIdleTimer()\n        @startIdleTimer()\n        @trigger 'beforeNavigation',\n            verso: e\n            pageSpread: pageSpread\n            newSpreadEl: newSpreadEl\n            progress: progress\n            progressLabel: progressLabel\n            pageSpreadCount: pageSpreadCount\n            newPositionIsEnd: e.newPosition + 1 == pageSpreadCount\n\n        return\n\n    afterNavigation: (e) ->\n        position = e.newPosition\n        theVerso = @getVerso()\n        versoPageSpread = theVerso.getPageSpreadFromPosition position\n        pageSpread = @pageSpreads.get versoPageSpread.getId()\n        pageSpreadCount = theVerso.getPageSpreadCount()\n        newSpreadEl = theVerso.pageSpreadEls[e.newPosition]\n\n        @els.root.setAttribute 'data-navigating', false\n\n        @trigger 'afterNavigation',\n            verso: e\n            pageSpread: pageSpread\n            pageSpreadCount: pageSpreadCount\n            newSpreadEl: newSpreadEl\n            newPositionIsEnd: e.newPosition + 1 == pageSpreadCount\n\n        return\n\n    attemptedNavigation: (e) ->\n        @trigger 'attemptedNavigation', verso: e\n\n        return\n\n    clicked: (e) ->\n        if e.isInsideContent\n            pageId = e.pageEl.getAttribute 'data-id'\n            page = @findPage pageId\n\n            @trigger 'clicked', verso: e, page: page\n\n        return\n\n    doubleClicked: (e) ->\n        if e.isInsideContent\n            pageId = e.pageEl.getAttribute 'data-id'\n            page = @findPage pageId\n\n            @trigger 'doubleClicked', verso: e, page: page\n\n        return\n\n    pressed: (e) ->\n        if e.isInsideContent\n            pageId = e.pageEl.getAttribute 'data-id'\n            page = @findPage pageId\n\n            @trigger 'pressed', verso: e, page: page\n\n        return\n\n    contextmenu: (e) ->\n        if e.isInsideContent\n            pageId = e.pageEl.getAttribute 'data-id'\n            page = @findPage pageId\n\n            @trigger 'contextmenu', verso: e, page: page\n\n        return\n\n    panStart: ->\n        @resetIdleTimer()\n        @trigger 'panStart', scale: @getVerso().transform.scale\n\n        return\n\n    panEnd: ->\n        @startIdleTimer()\n        @trigger 'panEnd'\n\n        return\n\n    zoomedIn: (e) ->\n        position = e.position\n        versoPageSpread = @getVerso().getPageSpreadFromPosition position\n        pageSpread = @pageSpreads.get versoPageSpread.getId()\n\n        pageSpread.zoomIn() if pageSpread?\n\n        @els.root.setAttribute 'data-zoomed-in', true\n        @trigger 'zoomedIn', verso: e, pageSpread: pageSpread\n\n        return\n\n    zoomedOut: (e) ->\n        position = e.position\n        versoPageSpread = @getVerso().getPageSpreadFromPosition position\n        pageSpread = @pageSpreads.get versoPageSpread.getId()\n\n        pageSpread.zoomOut() if pageSpread?\n\n        @els.root.setAttribute 'data-zoomed-in', false\n        @trigger 'zoomedOut', verso: e, pageSpread: pageSpread\n\n        return\n\n    getPageMode: ->\n        pageMode = @getOption 'pageMode'\n\n        if not pageMode?\n            width = @els.root.offsetWidth\n            height = @els.root.offsetHeight\n\n            pageMode = if height / width < 0.8 then 'double' else 'single'\n\n        pageMode\n\n    resetIdleTimer: ->\n        clearTimeout @idleTimeout\n\n        @els.root.setAttribute 'data-idle', false\n\n        @\n\n    startIdleTimer: ->\n        @idleTimeout = setTimeout =>\n            @els.root.setAttribute 'data-idle', true\n\n            return\n        , @getOption('idleDelay')\n\n        @\n\n    switchPageMode: (pageMode) ->\n        return @ if @pageMode is pageMode\n\n        verso = @getVerso()\n        pageIds = verso.getPageSpreadFromPosition(verso.getPosition()).getPageIds()\n        pageSpreadEls = @getVerso().el.querySelectorAll '.sgn-pp__page-spread'\n\n        @pageMode = pageMode\n\n        @pageSpreads.update @pageMode\n\n        pageSpreadEl.parentNode.removeChild pageSpreadEl for pageSpreadEl in pageSpreadEls\n        @els.pages.parentNode.insertBefore @pageSpreads.getFrag(), @els.pages\n\n        verso.refresh()\n        verso.navigateTo verso.getPageSpreadPositionFromPageId(pageIds[0]), duration: 0\n        verso.pageSpreads.forEach @overridePageSpreadContentRect.bind(@)\n\n        @\n\n    overridePageSpreadContentRect: (pageSpread) ->\n        if pageSpread.getType() is 'page'\n            pageSpread.getContentRect = => @getContentRect pageSpread\n\n    visibilityChange: ->\n        pageSpread = @getVerso().getPageSpreadFromPosition @getVerso().getPosition()\n        eventName = if document.hidden is true then 'disappeared' else 'appeared'\n\n        @trigger eventName, pageSpread: @pageSpreads.get(pageSpread.id)\n\n        return\n\n    resize: ->\n        pageMode = @getPageMode()\n\n        if not @getOption('pageMode')? and pageMode isnt @pageMode\n            @switchPageMode pageMode\n        else\n            @trigger 'resized'\n\n        return\n\n    unload: ->\n        @trigger 'disappeared'\n\n        return\n\nMicroEvent.mixin PagedPublicationCore\n\nmodule.exports = PagedPublicationCore\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.Verso = factory());\n}(this, (function () { 'use strict';\n\n  var _isObject = function (it) {\n    return typeof it === 'object' ? it !== null : typeof it === 'function';\n  };\n\n  var _anObject = function (it) {\n    if (!_isObject(it)) throw TypeError(it + ' is not an object!');\n    return it;\n  };\n\n  var _fails = function (exec) {\n    try {\n      return !!exec();\n    } catch (e) {\n      return true;\n    }\n  };\n\n  // Thank's IE8 for his funny defineProperty\n  var _descriptors = !_fails(function () {\n    return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n  });\n\n  function createCommonjsModule(fn, module) {\n  \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n  }\n\n  var _global = createCommonjsModule(function (module) {\n  // https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n  var global = module.exports = typeof window != 'undefined' && window.Math == Math\n    ? window : typeof self != 'undefined' && self.Math == Math ? self\n    // eslint-disable-next-line no-new-func\n    : Function('return this')();\n  if (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n  });\n\n  var document$1 = _global.document;\n  // typeof document.createElement is 'object' in old IE\n  var is = _isObject(document$1) && _isObject(document$1.createElement);\n  var _domCreate = function (it) {\n    return is ? document$1.createElement(it) : {};\n  };\n\n  var _ie8DomDefine = !_descriptors && !_fails(function () {\n    return Object.defineProperty(_domCreate('div'), 'a', { get: function () { return 7; } }).a != 7;\n  });\n\n  // 7.1.1 ToPrimitive(input [, PreferredType])\n\n  // instead of the ES6 spec version, we didn't implement @@toPrimitive case\n  // and the second argument - flag - preferred type is a string\n  var _toPrimitive = function (it, S) {\n    if (!_isObject(it)) return it;\n    var fn, val;\n    if (S && typeof (fn = it.toString) == 'function' && !_isObject(val = fn.call(it))) return val;\n    if (typeof (fn = it.valueOf) == 'function' && !_isObject(val = fn.call(it))) return val;\n    if (!S && typeof (fn = it.toString) == 'function' && !_isObject(val = fn.call(it))) return val;\n    throw TypeError(\"Can't convert object to primitive value\");\n  };\n\n  var dP = Object.defineProperty;\n\n  var f = _descriptors ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n    _anObject(O);\n    P = _toPrimitive(P, true);\n    _anObject(Attributes);\n    if (_ie8DomDefine) try {\n      return dP(O, P, Attributes);\n    } catch (e) { /* empty */ }\n    if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n    if ('value' in Attributes) O[P] = Attributes.value;\n    return O;\n  };\n\n  var _objectDp = {\n  \tf: f\n  };\n\n  var _propertyDesc = function (bitmap, value) {\n    return {\n      enumerable: !(bitmap & 1),\n      configurable: !(bitmap & 2),\n      writable: !(bitmap & 4),\n      value: value\n    };\n  };\n\n  var _hide = _descriptors ? function (object, key, value) {\n    return _objectDp.f(object, key, _propertyDesc(1, value));\n  } : function (object, key, value) {\n    object[key] = value;\n    return object;\n  };\n\n  var hasOwnProperty = {}.hasOwnProperty;\n  var _has = function (it, key) {\n    return hasOwnProperty.call(it, key);\n  };\n\n  var id = 0;\n  var px = Math.random();\n  var _uid = function (key) {\n    return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n  };\n\n  var _core = createCommonjsModule(function (module) {\n  var core = module.exports = { version: '2.5.3' };\n  if (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n  });\n  var _core_1 = _core.version;\n\n  var _redefine = createCommonjsModule(function (module) {\n  var SRC = _uid('src');\n  var TO_STRING = 'toString';\n  var $toString = Function[TO_STRING];\n  var TPL = ('' + $toString).split(TO_STRING);\n\n  _core.inspectSource = function (it) {\n    return $toString.call(it);\n  };\n\n  (module.exports = function (O, key, val, safe) {\n    var isFunction = typeof val == 'function';\n    if (isFunction) _has(val, 'name') || _hide(val, 'name', key);\n    if (O[key] === val) return;\n    if (isFunction) _has(val, SRC) || _hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n    if (O === _global) {\n      O[key] = val;\n    } else if (!safe) {\n      delete O[key];\n      _hide(O, key, val);\n    } else if (O[key]) {\n      O[key] = val;\n    } else {\n      _hide(O, key, val);\n    }\n  // add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n  })(Function.prototype, TO_STRING, function toString() {\n    return typeof this == 'function' && this[SRC] || $toString.call(this);\n  });\n  });\n\n  // 7.2.1 RequireObjectCoercible(argument)\n  var _defined = function (it) {\n    if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n    return it;\n  };\n\n  var SHARED = '__core-js_shared__';\n  var store = _global[SHARED] || (_global[SHARED] = {});\n  var _shared = function (key) {\n    return store[key] || (store[key] = {});\n  };\n\n  var _wks = createCommonjsModule(function (module) {\n  var store = _shared('wks');\n\n  var Symbol = _global.Symbol;\n  var USE_SYMBOL = typeof Symbol == 'function';\n\n  var $exports = module.exports = function (name) {\n    return store[name] || (store[name] =\n      USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : _uid)('Symbol.' + name));\n  };\n\n  $exports.store = store;\n  });\n\n  var _fixReWks = function (KEY, length, exec) {\n    var SYMBOL = _wks(KEY);\n    var fns = exec(_defined, SYMBOL, ''[KEY]);\n    var strfn = fns[0];\n    var rxfn = fns[1];\n    if (_fails(function () {\n      var O = {};\n      O[SYMBOL] = function () { return 7; };\n      return ''[KEY](O) != 7;\n    })) {\n      _redefine(String.prototype, KEY, strfn);\n      _hide(RegExp.prototype, SYMBOL, length == 2\n        // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n        // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n        ? function (string, arg) { return rxfn.call(string, this, arg); }\n        // 21.2.5.6 RegExp.prototype[@@match](string)\n        // 21.2.5.9 RegExp.prototype[@@search](string)\n        : function (string) { return rxfn.call(string, this); }\n      );\n    }\n  };\n\n  var toString = {}.toString;\n\n  var _cof = function (it) {\n    return toString.call(it).slice(8, -1);\n  };\n\n  // 7.2.8 IsRegExp(argument)\n\n\n  var MATCH = _wks('match');\n  var _isRegexp = function (it) {\n    var isRegExp;\n    return _isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : _cof(it) == 'RegExp');\n  };\n\n  // @@split logic\n  _fixReWks('split', 2, function (defined, SPLIT, $split) {\n    var isRegExp = _isRegexp;\n    var _split = $split;\n    var $push = [].push;\n    var $SPLIT = 'split';\n    var LENGTH = 'length';\n    var LAST_INDEX = 'lastIndex';\n    if (\n      'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n      'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n      'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n      '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n      '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n      ''[$SPLIT](/.?/)[LENGTH]\n    ) {\n      var NPCG = /()??/.exec('')[1] === undefined; // nonparticipating capturing group\n      // based on es5-shim implementation, need to rework it\n      $split = function (separator, limit) {\n        var string = String(this);\n        if (separator === undefined && limit === 0) return [];\n        // If `separator` is not a regex, use native split\n        if (!isRegExp(separator)) return _split.call(string, separator, limit);\n        var output = [];\n        var flags = (separator.ignoreCase ? 'i' : '') +\n                    (separator.multiline ? 'm' : '') +\n                    (separator.unicode ? 'u' : '') +\n                    (separator.sticky ? 'y' : '');\n        var lastLastIndex = 0;\n        var splitLimit = limit === undefined ? 4294967295 : limit >>> 0;\n        // Make `global` and avoid `lastIndex` issues by working with a copy\n        var separatorCopy = new RegExp(separator.source, flags + 'g');\n        var separator2, match, lastIndex, lastLength, i;\n        // Doesn't need flags gy, but they don't hurt\n        if (!NPCG) separator2 = new RegExp('^' + separatorCopy.source + '$(?!\\\\s)', flags);\n        while (match = separatorCopy.exec(string)) {\n          // `separatorCopy.lastIndex` is not reliable cross-browser\n          lastIndex = match.index + match[0][LENGTH];\n          if (lastIndex > lastLastIndex) {\n            output.push(string.slice(lastLastIndex, match.index));\n            // Fix browsers whose `exec` methods don't consistently return `undefined` for NPCG\n            // eslint-disable-next-line no-loop-func\n            if (!NPCG && match[LENGTH] > 1) match[0].replace(separator2, function () {\n              for (i = 1; i < arguments[LENGTH] - 2; i++) if (arguments[i] === undefined) match[i] = undefined;\n            });\n            if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));\n            lastLength = match[0][LENGTH];\n            lastLastIndex = lastIndex;\n            if (output[LENGTH] >= splitLimit) break;\n          }\n          if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n        }\n        if (lastLastIndex === string[LENGTH]) {\n          if (lastLength || !separatorCopy.test('')) output.push('');\n        } else output.push(string.slice(lastLastIndex));\n        return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n      };\n    // Chakra, V8\n    } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {\n      $split = function (separator, limit) {\n        return separator === undefined && limit === 0 ? [] : _split.call(this, separator, limit);\n      };\n    }\n    // 21.1.3.17 String.prototype.split(separator, limit)\n    return [function split(separator, limit) {\n      var O = defined(this);\n      var fn = separator == undefined ? undefined : separator[SPLIT];\n      return fn !== undefined ? fn.call(separator, O, limit) : $split.call(String(O), separator, limit);\n    }, $split];\n  });\n\n  function _typeof(obj) {\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  var _aFunction = function (it) {\n    if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n    return it;\n  };\n\n  // optional / simple context binding\n\n  var _ctx = function (fn, that, length) {\n    _aFunction(fn);\n    if (that === undefined) return fn;\n    switch (length) {\n      case 1: return function (a) {\n        return fn.call(that, a);\n      };\n      case 2: return function (a, b) {\n        return fn.call(that, a, b);\n      };\n      case 3: return function (a, b, c) {\n        return fn.call(that, a, b, c);\n      };\n    }\n    return function (/* ...args */) {\n      return fn.apply(that, arguments);\n    };\n  };\n\n  var PROTOTYPE = 'prototype';\n\n  var $export = function (type, name, source) {\n    var IS_FORCED = type & $export.F;\n    var IS_GLOBAL = type & $export.G;\n    var IS_STATIC = type & $export.S;\n    var IS_PROTO = type & $export.P;\n    var IS_BIND = type & $export.B;\n    var target = IS_GLOBAL ? _global : IS_STATIC ? _global[name] || (_global[name] = {}) : (_global[name] || {})[PROTOTYPE];\n    var exports = IS_GLOBAL ? _core : _core[name] || (_core[name] = {});\n    var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n    var key, own, out, exp;\n    if (IS_GLOBAL) source = name;\n    for (key in source) {\n      // contains in native\n      own = !IS_FORCED && target && target[key] !== undefined;\n      // export native or passed\n      out = (own ? target : source)[key];\n      // bind timers to global for call from export context\n      exp = IS_BIND && own ? _ctx(out, _global) : IS_PROTO && typeof out == 'function' ? _ctx(Function.call, out) : out;\n      // extend global\n      if (target) _redefine(target, key, out, type & $export.U);\n      // export\n      if (exports[key] != out) _hide(exports, key, exp);\n      if (IS_PROTO && expProto[key] != out) expProto[key] = out;\n    }\n  };\n  _global.core = _core;\n  // type bitmap\n  $export.F = 1;   // forced\n  $export.G = 2;   // global\n  $export.S = 4;   // static\n  $export.P = 8;   // proto\n  $export.B = 16;  // bind\n  $export.W = 32;  // wrap\n  $export.U = 64;  // safe\n  $export.R = 128; // real proto method for `library`\n  var _export = $export;\n\n  // 7.1.13 ToObject(argument)\n\n  var _toObject = function (it) {\n    return Object(_defined(it));\n  };\n\n  var _strictMethod = function (method, arg) {\n    return !!method && _fails(function () {\n      // eslint-disable-next-line no-useless-call\n      arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n    });\n  };\n\n  var $sort = [].sort;\n  var test = [1, 2, 3];\n\n  _export(_export.P + _export.F * (_fails(function () {\n    // IE8-\n    test.sort(undefined);\n  }) || !_fails(function () {\n    // V8 bug\n    test.sort(null);\n    // Old WebKit\n  }) || !_strictMethod($sort)), 'Array', {\n    // 22.1.3.25 Array.prototype.sort(comparefn)\n    sort: function sort(comparefn) {\n      return comparefn === undefined\n        ? $sort.call(_toObject(this))\n        : $sort.call(_toObject(this), _aFunction(comparefn));\n    }\n  });\n\n  // fallback for non-array-like ES3 and non-enumerable old V8 strings\n\n  // eslint-disable-next-line no-prototype-builtins\n  var _iobject = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n    return _cof(it) == 'String' ? it.split('') : Object(it);\n  };\n\n  // to indexed object, toObject with fallback for non-array-like ES3 strings\n\n\n  var _toIobject = function (it) {\n    return _iobject(_defined(it));\n  };\n\n  // 7.1.4 ToInteger\n  var ceil = Math.ceil;\n  var floor = Math.floor;\n  var _toInteger = function (it) {\n    return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n  };\n\n  // 7.1.15 ToLength\n\n  var min = Math.min;\n  var _toLength = function (it) {\n    return it > 0 ? min(_toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n  };\n\n  var max = Math.max;\n  var min$1 = Math.min;\n  var _toAbsoluteIndex = function (index, length) {\n    index = _toInteger(index);\n    return index < 0 ? max(index + length, 0) : min$1(index, length);\n  };\n\n  // false -> Array#indexOf\n  // true  -> Array#includes\n\n\n\n  var _arrayIncludes = function (IS_INCLUDES) {\n    return function ($this, el, fromIndex) {\n      var O = _toIobject($this);\n      var length = _toLength(O.length);\n      var index = _toAbsoluteIndex(fromIndex, length);\n      var value;\n      // Array#includes uses SameValueZero equality algorithm\n      // eslint-disable-next-line no-self-compare\n      if (IS_INCLUDES && el != el) while (length > index) {\n        value = O[index++];\n        // eslint-disable-next-line no-self-compare\n        if (value != value) return true;\n      // Array#indexOf ignores holes, Array#includes - not\n      } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n        if (O[index] === el) return IS_INCLUDES || index || 0;\n      } return !IS_INCLUDES && -1;\n    };\n  };\n\n  var shared = _shared('keys');\n\n  var _sharedKey = function (key) {\n    return shared[key] || (shared[key] = _uid(key));\n  };\n\n  var arrayIndexOf = _arrayIncludes(false);\n  var IE_PROTO = _sharedKey('IE_PROTO');\n\n  var _objectKeysInternal = function (object, names) {\n    var O = _toIobject(object);\n    var i = 0;\n    var result = [];\n    var key;\n    for (key in O) if (key != IE_PROTO) _has(O, key) && result.push(key);\n    // Don't enum bug & hidden keys\n    while (names.length > i) if (_has(O, key = names[i++])) {\n      ~arrayIndexOf(result, key) || result.push(key);\n    }\n    return result;\n  };\n\n  // IE 8- don't enum bug keys\n  var _enumBugKeys = (\n    'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n  ).split(',');\n\n  // 19.1.2.14 / 15.2.3.14 Object.keys(O)\n\n\n\n  var _objectKeys = Object.keys || function keys(O) {\n    return _objectKeysInternal(O, _enumBugKeys);\n  };\n\n  var f$1 = Object.getOwnPropertySymbols;\n\n  var _objectGops = {\n  \tf: f$1\n  };\n\n  var f$2 = {}.propertyIsEnumerable;\n\n  var _objectPie = {\n  \tf: f$2\n  };\n\n  // 19.1.2.1 Object.assign(target, source, ...)\n\n\n\n\n\n  var $assign = Object.assign;\n\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var _objectAssign = !$assign || _fails(function () {\n    var A = {};\n    var B = {};\n    // eslint-disable-next-line no-undef\n    var S = Symbol();\n    var K = 'abcdefghijklmnopqrst';\n    A[S] = 7;\n    K.split('').forEach(function (k) { B[k] = k; });\n    return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n  }) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n    var T = _toObject(target);\n    var aLen = arguments.length;\n    var index = 1;\n    var getSymbols = _objectGops.f;\n    var isEnum = _objectPie.f;\n    while (aLen > index) {\n      var S = _iobject(arguments[index++]);\n      var keys = getSymbols ? _objectKeys(S).concat(getSymbols(S)) : _objectKeys(S);\n      var length = keys.length;\n      var j = 0;\n      var key;\n      while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n    } return T;\n  } : $assign;\n\n  // 19.1.3.1 Object.assign(target, source)\n\n\n  _export(_export.S + _export.F, 'Object', { assign: _objectAssign });\n\n  // @@replace logic\n  _fixReWks('replace', 2, function (defined, REPLACE, $replace) {\n    // 21.1.3.14 String.prototype.replace(searchValue, replaceValue)\n    return [function replace(searchValue, replaceValue) {\n      var O = defined(this);\n      var fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return fn !== undefined\n        ? fn.call(searchValue, O, replaceValue)\n        : $replace.call(String(O), searchValue, replaceValue);\n    }, $replace];\n  });\n\n  /*! Hammer.JS - v2.0.7 - 2016-04-22\n   * http://hammerjs.github.io/\n   *\n   * Copyright (c) 2016 Jorik Tangelder;\n   * Licensed under the MIT license */\n  var VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\n\n  var TEST_ELEMENT = function TEST_ELEMENT() {\n    return document.createElement('div');\n  };\n\n  var TYPE_FUNCTION = 'function';\n  var round = Math.round;\n  var abs = Math.abs;\n  var now = Date.now;\n  /**\n   * set a timeout with a given scope\n   * @param {Function} fn\n   * @param {Number} timeout\n   * @param {Object} context\n   * @returns {number}\n   */\n\n  function setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n  }\n  /**\n   * if the argument is an array, we want to execute the fn on each entry\n   * if it aint an array we don't want to do a thing.\n   * this is used by all the methods that accept a single and array argument.\n   * @param {*|Array} arg\n   * @param {String} fn\n   * @param {Object} [context]\n   * @returns {Boolean}\n   */\n\n\n  function invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n      each(arg, context[fn], context);\n      return true;\n    }\n\n    return false;\n  }\n  /**\n   * walk objects and arrays\n   * @param {Object} obj\n   * @param {Function} iterator\n   * @param {Object} context\n   */\n\n\n  function each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n      return;\n    }\n\n    if (obj.forEach) {\n      obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n      i = 0;\n\n      while (i < obj.length) {\n        iterator.call(context, obj[i], i, obj);\n        i++;\n      }\n    } else {\n      for (i in obj) {\n        obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n      }\n    }\n  }\n  /**\n   * wrap a method with a deprecation warning and stack trace\n   * @param {Function} method\n   * @param {String} name\n   * @param {String} message\n   * @returns {Function} A new function wrapping the supplied method.\n   */\n\n\n  function deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function () {\n      var e = new Error('get-stack-trace');\n      var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '').replace(/^\\s+at\\s+/gm, '').replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n      var log = window.console && (window.console.warn || window.console.log);\n\n      if (log) {\n        log.call(window.console, deprecationMessage, stack);\n      }\n\n      return method.apply(this, arguments);\n    };\n  }\n  /**\n   * extend object.\n   * means that properties in dest will be overwritten by the ones in src.\n   * @param {Object} target\n   * @param {...Object} objects_to_assign\n   * @returns {Object} target\n   */\n\n\n  var assign;\n\n  if (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n      if (target === undefined || target === null) {\n        throw new TypeError('Cannot convert undefined or null to object');\n      }\n\n      var output = Object(target);\n\n      for (var index = 1; index < arguments.length; index++) {\n        var source = arguments[index];\n\n        if (source !== undefined && source !== null) {\n          for (var nextKey in source) {\n            if (source.hasOwnProperty(nextKey)) {\n              output[nextKey] = source[nextKey];\n            }\n          }\n        }\n      }\n\n      return output;\n    };\n  } else {\n    assign = Object.assign;\n  }\n  /**\n   * extend object.\n   * means that properties in dest will be overwritten by the ones in src.\n   * @param {Object} dest\n   * @param {Object} src\n   * @param {Boolean} [merge=false]\n   * @returns {Object} dest\n   */\n\n\n  var extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n\n    while (i < keys.length) {\n      if (!merge || merge && dest[keys[i]] === undefined) {\n        dest[keys[i]] = src[keys[i]];\n      }\n\n      i++;\n    }\n\n    return dest;\n  }, 'extend', 'Use `assign`.');\n  /**\n   * merge the values from src in the dest.\n   * means that properties that exist in dest will not be overwritten by src\n   * @param {Object} dest\n   * @param {Object} src\n   * @returns {Object} dest\n   */\n\n  var merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n  }, 'merge', 'Use `assign`.');\n  /**\n   * simple class inheritance\n   * @param {Function} child\n   * @param {Function} base\n   * @param {Object} [properties]\n   */\n\n  function inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n      assign(childP, properties);\n    }\n  }\n  /**\n   * simple function bind\n   * @param {Function} fn\n   * @param {Object} context\n   * @returns {Function}\n   */\n\n\n  function bindFn(fn, context) {\n    return function boundFn() {\n      return fn.apply(context, arguments);\n    };\n  }\n  /**\n   * let a boolean value also be a function that must return a boolean\n   * this first item in args will be used as the context\n   * @param {Boolean|Function} val\n   * @param {Array} [args]\n   * @returns {Boolean}\n   */\n\n\n  function boolOrFn(val, args) {\n    if (_typeof(val) == TYPE_FUNCTION) {\n      return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n\n    return val;\n  }\n  /**\n   * use the val2 when val1 is undefined\n   * @param {*} val1\n   * @param {*} val2\n   * @returns {*}\n   */\n\n\n  function ifUndefined(val1, val2) {\n    return val1 === undefined ? val2 : val1;\n  }\n  /**\n   * addEventListener with multiple events at once\n   * @param {EventTarget} target\n   * @param {String} types\n   * @param {Function} handler\n   */\n\n\n  function addEventListeners(target, types, handler) {\n    each(splitStr(types), function (type) {\n      target.addEventListener(type, handler, false);\n    });\n  }\n  /**\n   * removeEventListener with multiple events at once\n   * @param {EventTarget} target\n   * @param {String} types\n   * @param {Function} handler\n   */\n\n\n  function removeEventListeners(target, types, handler) {\n    each(splitStr(types), function (type) {\n      target.removeEventListener(type, handler, false);\n    });\n  }\n  /**\n   * find if a node is in the given parent\n   * @method hasParent\n   * @param {HTMLElement} node\n   * @param {HTMLElement} parent\n   * @return {Boolean} found\n   */\n\n\n  function hasParent(node, parent) {\n    while (node) {\n      if (node == parent) {\n        return true;\n      }\n\n      node = node.parentNode;\n    }\n\n    return false;\n  }\n  /**\n   * small indexOf wrapper\n   * @param {String} str\n   * @param {String} find\n   * @returns {Boolean} found\n   */\n\n\n  function inStr(str, find) {\n    return str.indexOf(find) > -1;\n  }\n  /**\n   * split string on whitespace\n   * @param {String} str\n   * @returns {Array} words\n   */\n\n\n  function splitStr(str) {\n    return str.trim().split(/\\s+/g);\n  }\n  /**\n   * find if a array contains the object using indexOf or a simple polyFill\n   * @param {Array} src\n   * @param {String} find\n   * @param {String} [findByKey]\n   * @return {Boolean|Number} false when not found, or the index\n   */\n\n\n  function inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n      return src.indexOf(find);\n    } else {\n      var i = 0;\n\n      while (i < src.length) {\n        if (findByKey && src[i][findByKey] == find || !findByKey && src[i] === find) {\n          return i;\n        }\n\n        i++;\n      }\n\n      return -1;\n    }\n  }\n  /**\n   * convert array-like objects to real arrays\n   * @param {Object} obj\n   * @returns {Array}\n   */\n\n\n  function toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n  }\n  /**\n   * unique array with objects based on a key (like 'id') or just by the array's value\n   * @param {Array} src [{id:1},{id:2},{id:1}]\n   * @param {String} [key]\n   * @param {Boolean} [sort=False]\n   * @returns {Array} [{id:1},{id:2}]\n   */\n\n\n  function uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n      var val = key ? src[i][key] : src[i];\n\n      if (inArray(values, val) < 0) {\n        results.push(src[i]);\n      }\n\n      values[i] = val;\n      i++;\n    }\n\n    if (sort) {\n      if (!key) {\n        results = results.sort();\n      } else {\n        results = results.sort(function sortUniqueArray(a, b) {\n          return a[key] > b[key];\n        });\n      }\n    }\n\n    return results;\n  }\n  /**\n   * get the prefixed property\n   * @param {Object} obj\n   * @param {String} property\n   * @returns {String|Undefined} prefixed\n   */\n\n\n  function prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n    var i = 0;\n\n    while (i < VENDOR_PREFIXES.length) {\n      prefix = VENDOR_PREFIXES[i];\n      prop = prefix ? prefix + camelProp : property;\n\n      if (prop in obj) {\n        return prop;\n      }\n\n      i++;\n    }\n\n    return undefined;\n  }\n  /**\n   * get a unique id\n   * @returns {number} uniqueId\n   */\n\n\n  var _uniqueId = 1;\n\n  function uniqueId() {\n    return _uniqueId++;\n  }\n  /**\n   * get the window object of an element\n   * @param {HTMLElement} element\n   * @returns {DocumentView|Window}\n   */\n\n\n  function getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return doc.defaultView || doc.parentWindow || window;\n  }\n\n  var MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\n  var SUPPORT_TOUCH = function SUPPORT_TOUCH() {\n    return 'ontouchstart' in window;\n  };\n\n  var SUPPORT_POINTER_EVENTS = function SUPPORT_POINTER_EVENTS() {\n    return prefixed(window, 'PointerEvent') !== undefined;\n  };\n\n  var SUPPORT_ONLY_TOUCH = function SUPPORT_ONLY_TOUCH() {\n    return SUPPORT_TOUCH() && MOBILE_REGEX.test(navigator.userAgent);\n  };\n\n  var INPUT_TYPE_TOUCH = 'touch';\n  var INPUT_TYPE_PEN = 'pen';\n  var INPUT_TYPE_MOUSE = 'mouse';\n  var INPUT_TYPE_KINECT = 'kinect';\n  var COMPUTE_INTERVAL = 25;\n  var INPUT_START = 1;\n  var INPUT_MOVE = 2;\n  var INPUT_END = 4;\n  var INPUT_CANCEL = 8;\n  var DIRECTION_NONE = 1;\n  var DIRECTION_LEFT = 2;\n  var DIRECTION_RIGHT = 4;\n  var DIRECTION_UP = 8;\n  var DIRECTION_DOWN = 16;\n  var DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\n  var DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\n  var DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n  var PROPS_XY = ['x', 'y'];\n  var PROPS_CLIENT_XY = ['clientX', 'clientY'];\n  /**\n   * create new input type manager\n   * @param {Manager} manager\n   * @param {Function} callback\n   * @returns {Input}\n   * @constructor\n   */\n\n  function Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget; // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n\n    this.domHandler = function (ev) {\n      if (boolOrFn(manager.options.enable, [manager])) {\n        self.handler(ev);\n      }\n    };\n\n    this.init();\n  }\n\n  Input.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function handler() {},\n\n    /**\n     * bind the events\n     */\n    init: function init() {\n      this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n      this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n      this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function destroy() {\n      this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n      this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n      this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n  };\n  /**\n   * create new input type manager\n   * called by the Manager constructor\n   * @param {Hammer} manager\n   * @returns {Input}\n   */\n\n  function createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n      Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS()) {\n      Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH()) {\n      Type = TouchInput;\n    } else if (!SUPPORT_TOUCH()) {\n      Type = MouseInput;\n    } else {\n      Type = TouchMouseInput;\n    }\n\n    return new Type(manager, inputHandler);\n  }\n  /**\n   * handle input events\n   * @param {Manager} manager\n   * @param {String} eventType\n   * @param {Object} input\n   */\n\n\n  function inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = eventType & INPUT_START && pointersLen - changedPointersLen === 0;\n    var isFinal = eventType & (INPUT_END | INPUT_CANCEL) && pointersLen - changedPointersLen === 0;\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n      manager.session = {};\n    } // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n\n\n    input.eventType = eventType; // compute scale, rotation etc\n\n    computeInputData(manager, input); // emit secret event\n\n    manager.emit('hammer.input', input);\n    manager.recognize(input);\n    manager.session.prevInput = input;\n  }\n  /**\n   * extend the data with some usable properties like scale, rotate, velocity etc\n   * @param {Object} manager\n   * @param {Object} input\n   */\n\n\n  function computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length; // store the first input to calculate the distance and direction\n\n    if (!session.firstInput) {\n      session.firstInput = simpleCloneInputData(input);\n    } // to compute scale and rotation we need to store the multiple touches\n\n\n    if (pointersLength > 1 && !session.firstMultiple) {\n      session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n      session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = abs(overallVelocity.x) > abs(overallVelocity.y) ? overallVelocity.x : overallVelocity.y;\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n    input.maxPointers = !session.prevInput ? input.pointers.length : input.pointers.length > session.prevInput.maxPointers ? input.pointers.length : session.prevInput.maxPointers;\n    computeIntervalInputData(session, input); // find the correct target\n\n    var target = manager.element;\n\n    if (hasParent(input.srcEvent.target, target)) {\n      target = input.srcEvent.target;\n    }\n\n    input.target = target;\n  }\n\n  function computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n      prevDelta = session.prevDelta = {\n        x: prevInput.deltaX || 0,\n        y: prevInput.deltaY || 0\n      };\n      offset = session.offsetDelta = {\n        x: center.x,\n        y: center.y\n      };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n  }\n  /**\n   * velocity is calculated every x ms\n   * @param {Object} session\n   * @param {Object} input\n   */\n\n\n  function computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity,\n        velocityX,\n        velocityY,\n        direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n      var deltaX = input.deltaX - last.deltaX;\n      var deltaY = input.deltaY - last.deltaY;\n      var v = getVelocity(deltaTime, deltaX, deltaY);\n      velocityX = v.x;\n      velocityY = v.y;\n      velocity = abs(v.x) > abs(v.y) ? v.x : v.y;\n      direction = getDirection(deltaX, deltaY);\n      session.lastInterval = input;\n    } else {\n      // use latest velocity info if it doesn't overtake a minimum period\n      velocity = last.velocity;\n      velocityX = last.velocityX;\n      velocityY = last.velocityY;\n      direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n  }\n  /**\n   * create a simple clone from the input used for storage of firstInput and firstMultiple\n   * @param {Object} input\n   * @returns {Object} clonedInputData\n   */\n\n\n  function simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n\n    while (i < input.pointers.length) {\n      pointers[i] = {\n        clientX: round(input.pointers[i].clientX),\n        clientY: round(input.pointers[i].clientY)\n      };\n      i++;\n    }\n\n    return {\n      timeStamp: now(),\n      pointers: pointers,\n      center: getCenter(pointers),\n      deltaX: input.deltaX,\n      deltaY: input.deltaY\n    };\n  }\n  /**\n   * get the center of all the pointers\n   * @param {Array} pointers\n   * @return {Object} center contains `x` and `y` properties\n   */\n\n\n  function getCenter(pointers) {\n    var pointersLength = pointers.length; // no need to loop when only one touch\n\n    if (pointersLength === 1) {\n      return {\n        x: round(pointers[0].clientX),\n        y: round(pointers[0].clientY)\n      };\n    }\n\n    var x = 0,\n        y = 0,\n        i = 0;\n\n    while (i < pointersLength) {\n      x += pointers[i].clientX;\n      y += pointers[i].clientY;\n      i++;\n    }\n\n    return {\n      x: round(x / pointersLength),\n      y: round(y / pointersLength)\n    };\n  }\n  /**\n   * calculate the velocity between two points. unit is in px per ms.\n   * @param {Number} deltaTime\n   * @param {Number} x\n   * @param {Number} y\n   * @return {Object} velocity `x` and `y`\n   */\n\n\n  function getVelocity(deltaTime, x, y) {\n    return {\n      x: x / deltaTime || 0,\n      y: y / deltaTime || 0\n    };\n  }\n  /**\n   * get the direction between two points\n   * @param {Number} x\n   * @param {Number} y\n   * @return {Number} direction\n   */\n\n\n  function getDirection(x, y) {\n    if (x === y) {\n      return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n      return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n  }\n  /**\n   * calculate the absolute distance between two points\n   * @param {Object} p1 {x, y}\n   * @param {Object} p2 {x, y}\n   * @param {Array} [props] containing x and y keys\n   * @return {Number} distance\n   */\n\n\n  function getDistance(p1, p2, props) {\n    if (!props) {\n      props = PROPS_XY;\n    }\n\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.sqrt(x * x + y * y);\n  }\n  /**\n   * calculate the angle between two coordinates\n   * @param {Object} p1\n   * @param {Object} p2\n   * @param {Array} [props] containing x and y keys\n   * @return {Number} angle\n   */\n\n\n  function getAngle(p1, p2, props) {\n    if (!props) {\n      props = PROPS_XY;\n    }\n\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n  }\n  /**\n   * calculate the rotation degrees between two pointersets\n   * @param {Array} start array of pointers\n   * @param {Array} end array of pointers\n   * @return {Number} rotation\n   */\n\n\n  function getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n  }\n  /**\n   * calculate the scale factor between two pointersets\n   * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n   * @param {Array} start array of pointers\n   * @param {Array} end array of pointers\n   * @return {Number} scale\n   */\n\n\n  function getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n  }\n\n  var MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n  };\n  var MOUSE_ELEMENT_EVENTS = 'mousedown';\n  var MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n  /**\n   * Mouse events input\n   * @constructor\n   * @extends Input\n   */\n\n  function MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n  }\n\n  inherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n      var eventType = MOUSE_INPUT_MAP[ev.type]; // on start we want to have the left mouse button down\n\n      if (eventType & INPUT_START && ev.button === 0) {\n        this.pressed = true;\n      }\n\n      if (eventType & INPUT_MOVE && ev.which !== 1) {\n        eventType = INPUT_END;\n      } // mouse must be down\n\n\n      if (!this.pressed) {\n        return;\n      }\n\n      if (eventType & INPUT_END) {\n        this.pressed = false;\n      }\n\n      this.callback(this.manager, eventType, {\n        pointers: [ev],\n        changedPointers: [ev],\n        pointerType: INPUT_TYPE_MOUSE,\n        srcEvent: ev\n      });\n    }\n  });\n  var POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n  }; // in IE10 the pointer types is defined as an enum\n\n  var IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n\n  };\n  var POINTER_ELEMENT_EVENTS = 'pointerdown';\n  var POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel'; // IE10 has prefixed support, and case-sensitive\n\n  if (typeof window !== 'undefined' && window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n  }\n  /**\n   * Pointer events input\n   * @constructor\n   * @extends Input\n   */\n\n\n  function PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n    Input.apply(this, arguments);\n    this.store = this.manager.session.pointerEvents = [];\n  }\n\n  inherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n      var store = this.store;\n      var removePointer = false;\n      var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n      var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n      var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n      var isTouch = pointerType == INPUT_TYPE_TOUCH; // get index of the event in the store\n\n      var storeIndex = inArray(store, ev.pointerId, 'pointerId'); // start and mouse must be down\n\n      if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n        if (storeIndex < 0) {\n          store.push(ev);\n          storeIndex = store.length - 1;\n        }\n      } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        removePointer = true;\n      } // it not found, so the pointer hasn't been down (so it's probably a hover)\n\n\n      if (storeIndex < 0) {\n        return;\n      } // update the event in the store\n\n\n      store[storeIndex] = ev;\n      this.callback(this.manager, eventType, {\n        pointers: store,\n        changedPointers: [ev],\n        pointerType: pointerType,\n        srcEvent: ev\n      });\n\n      if (removePointer) {\n        // remove from the store\n        store.splice(storeIndex, 1);\n      }\n    }\n  });\n  var SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n  };\n  var SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\n  var SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n  /**\n   * Touch events input\n   * @constructor\n   * @extends Input\n   */\n\n  function SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n    Input.apply(this, arguments);\n  }\n\n  inherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n      var type = SINGLE_TOUCH_INPUT_MAP[ev.type]; // should we handle the touch events?\n\n      if (type === INPUT_START) {\n        this.started = true;\n      }\n\n      if (!this.started) {\n        return;\n      }\n\n      var touches = normalizeSingleTouches.call(this, ev, type); // when done, reset the started state\n\n      if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n        this.started = false;\n      }\n\n      this.callback(this.manager, type, {\n        pointers: touches[0],\n        changedPointers: touches[1],\n        pointerType: INPUT_TYPE_TOUCH,\n        srcEvent: ev\n      });\n    }\n  });\n  /**\n   * @this {TouchInput}\n   * @param {Object} ev\n   * @param {Number} type flag\n   * @returns {undefined|Array} [all, changed]\n   */\n\n  function normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n      all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n  }\n\n  var TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n  };\n  var TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n  /**\n   * Multi-user touch events input\n   * @constructor\n   * @extends Input\n   */\n\n  function TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n    Input.apply(this, arguments);\n  }\n\n  inherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n      var type = TOUCH_INPUT_MAP[ev.type];\n      var touches = getTouches.call(this, ev, type);\n\n      if (!touches) {\n        return;\n      }\n\n      this.callback(this.manager, type, {\n        pointers: touches[0],\n        changedPointers: touches[1],\n        pointerType: INPUT_TYPE_TOUCH,\n        srcEvent: ev\n      });\n    }\n  });\n  /**\n   * @this {TouchInput}\n   * @param {Object} ev\n   * @param {Number} type flag\n   * @returns {undefined|Array} [all, changed]\n   */\n\n  function getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds; // when there is only one touch, the process can be simplified\n\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n      targetIds[allTouches[0].identifier] = true;\n      return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target; // get target touches from touches\n\n    targetTouches = allTouches.filter(function (touch) {\n      return hasParent(touch.target, target);\n    }); // collect touches\n\n    if (type === INPUT_START) {\n      i = 0;\n\n      while (i < targetTouches.length) {\n        targetIds[targetTouches[i].identifier] = true;\n        i++;\n      }\n    } // filter changed touches to only contain touches that exist in the collected target ids\n\n\n    i = 0;\n\n    while (i < changedTouches.length) {\n      if (targetIds[changedTouches[i].identifier]) {\n        changedTargetTouches.push(changedTouches[i]);\n      } // cleanup removed touches\n\n\n      if (type & (INPUT_END | INPUT_CANCEL)) {\n        delete targetIds[changedTouches[i].identifier];\n      }\n\n      i++;\n    }\n\n    if (!changedTargetTouches.length) {\n      return;\n    }\n\n    return [// merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n    uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true), changedTargetTouches];\n  }\n  /**\n   * Combined touch and mouse input\n   *\n   * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n   * This because touch devices also emit mouse events while doing a touch.\n   *\n   * @constructor\n   * @extends Input\n   */\n\n\n  var DEDUP_TIMEOUT = 2500;\n  var DEDUP_DISTANCE = 25;\n\n  function TouchMouseInput() {\n    Input.apply(this, arguments);\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n    this.primaryTouch = null;\n    this.lastTouches = [];\n  }\n\n  inherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n      var isTouch = inputData.pointerType == INPUT_TYPE_TOUCH,\n          isMouse = inputData.pointerType == INPUT_TYPE_MOUSE;\n\n      if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n        return;\n      } // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n\n\n      if (isTouch) {\n        recordTouches.call(this, inputEvent, inputData);\n      } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n        return;\n      }\n\n      this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n      this.touch.destroy();\n      this.mouse.destroy();\n    }\n  });\n\n  function recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n      this.primaryTouch = eventData.changedPointers[0].identifier;\n      setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n      setLastTouch.call(this, eventData);\n    }\n  }\n\n  function setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n      var lastTouch = {\n        x: touch.clientX,\n        y: touch.clientY\n      };\n      this.lastTouches.push(lastTouch);\n      var lts = this.lastTouches;\n\n      var removeLastTouch = function removeLastTouch() {\n        var i = lts.indexOf(lastTouch);\n\n        if (i > -1) {\n          lts.splice(i, 1);\n        }\n      };\n\n      setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n  }\n\n  function isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX,\n        y = eventData.srcEvent.clientY;\n\n    for (var i = 0; i < this.lastTouches.length; i++) {\n      var t = this.lastTouches[i];\n      var dx = Math.abs(x - t.x),\n          dy = Math.abs(y - t.y);\n\n      if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  var PREFIXED_TOUCH_ACTION = function PREFIXED_TOUCH_ACTION() {\n    return prefixed(TEST_ELEMENT().style, 'touchAction');\n  };\n\n  var NATIVE_TOUCH_ACTION = function NATIVE_TOUCH_ACTION() {\n    return PREFIXED_TOUCH_ACTION() !== undefined;\n  }; // magical touchAction value\n\n\n  var TOUCH_ACTION_COMPUTE = 'compute';\n  var TOUCH_ACTION_AUTO = 'auto';\n  var TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\n\n  var TOUCH_ACTION_NONE = 'none';\n  var TOUCH_ACTION_PAN_X = 'pan-x';\n  var TOUCH_ACTION_PAN_Y = 'pan-y';\n  /**\n   * Touch Action\n   * sets the touchAction property or uses the js alternative\n   * @param {Manager} manager\n   * @param {String} value\n   * @constructor\n   */\n\n  function TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n  }\n\n  TouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function set(value) {\n      // find out the touch-action by the event handlers\n      if (value == TOUCH_ACTION_COMPUTE) {\n        value = this.compute();\n      }\n\n      var TOUCH_ACTION_MAP = getTouchActionProps();\n\n      if (NATIVE_TOUCH_ACTION() && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n        this.manager.element.style[PREFIXED_TOUCH_ACTION()] = value;\n      }\n\n      this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function update() {\n      this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function compute() {\n      var actions = [];\n      each(this.manager.recognizers, function (recognizer) {\n        if (boolOrFn(recognizer.options.enable, [recognizer])) {\n          actions = actions.concat(recognizer.getTouchAction());\n        }\n      });\n      return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function preventDefaults(input) {\n      var srcEvent = input.srcEvent;\n      var direction = input.offsetDirection; // if the touch action did prevented once this session\n\n      if (this.manager.session.prevented) {\n        srcEvent.preventDefault();\n        return;\n      }\n\n      var actions = this.actions;\n      var TOUCH_ACTION_MAP = getTouchActionProps();\n      var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n      var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n      var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n      if (hasNone) {\n        //do not prevent defaults if this is a tap gesture\n        var isTapPointer = input.pointers.length === 1;\n        var isTapMovement = input.distance < 2;\n        var isTapTouchTime = input.deltaTime < 250;\n\n        if (isTapPointer && isTapMovement && isTapTouchTime) {\n          return;\n        }\n      }\n\n      if (hasPanX && hasPanY) {\n        // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n        return;\n      }\n\n      if (hasNone || hasPanY && direction & DIRECTION_HORIZONTAL || hasPanX && direction & DIRECTION_VERTICAL) {\n        return this.preventSrc(srcEvent);\n      }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function preventSrc(srcEvent) {\n      this.manager.session.prevented = true;\n      srcEvent.preventDefault();\n    }\n  };\n  /**\n   * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n   * @param {String} actions\n   * @returns {*}\n   */\n\n  function cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n      return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y); // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n\n    if (hasPanX && hasPanY) {\n      return TOUCH_ACTION_NONE;\n    } // pan-x OR pan-y\n\n\n    if (hasPanX || hasPanY) {\n      return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    } // manipulation\n\n\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n      return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n  }\n\n  function getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION()) {\n      return false;\n    }\n\n    var touchMap = {};\n\n    var cssSupports = function cssSupports() {\n      return window.CSS && window.CSS.supports;\n    };\n\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function (val) {\n      // If css.supports is not supported but there is native touch-action assume it supports\n      // all values. This is the case for IE 10 and 11.\n      touchMap[val] = cssSupports() ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n  }\n  /**\n   * Recognizer flow explained; *\n   * All recognizers have the initial state of POSSIBLE when a input session starts.\n   * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n   * Example session for mouse-input: mousedown -> mousemove -> mouseup\n   *\n   * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n   * which determines with state it should be.\n   *\n   * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n   * POSSIBLE to give it another change on the next cycle.\n   *\n   *               Possible\n   *                  |\n   *            +-----+---------------+\n   *            |                     |\n   *      +-----+-----+               |\n   *      |           |               |\n   *   Failed      Cancelled          |\n   *                          +-------+------+\n   *                          |              |\n   *                      Recognized       Began\n   *                                         |\n   *                                      Changed\n   *                                         |\n   *                                  Ended/Recognized\n   */\n\n\n  var STATE_POSSIBLE = 1;\n  var STATE_BEGAN = 2;\n  var STATE_CHANGED = 4;\n  var STATE_ENDED = 8;\n  var STATE_RECOGNIZED = STATE_ENDED;\n  var STATE_CANCELLED = 16;\n  var STATE_FAILED = 32;\n  /**\n   * Recognizer\n   * Every recognizer needs to extend from this class.\n   * @constructor\n   * @param {Object} options\n   */\n\n  function Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n    this.id = uniqueId();\n    this.manager = null; // default is enable true\n\n    this.options.enable = ifUndefined(this.options.enable, true);\n    this.state = STATE_POSSIBLE;\n    this.simultaneous = {};\n    this.requireFail = [];\n  }\n\n  Recognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function set(options) {\n      assign(this.options, options); // also update the touchAction, in case something changed about the directions/enabled state\n\n      this.manager && this.manager.touchAction.update();\n      return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function recognizeWith(otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n        return this;\n      }\n\n      var simultaneous = this.simultaneous;\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n\n      if (!simultaneous[otherRecognizer.id]) {\n        simultaneous[otherRecognizer.id] = otherRecognizer;\n        otherRecognizer.recognizeWith(this);\n      }\n\n      return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function dropRecognizeWith(otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n        return this;\n      }\n\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n      delete this.simultaneous[otherRecognizer.id];\n      return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function requireFailure(otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n        return this;\n      }\n\n      var requireFail = this.requireFail;\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n\n      if (inArray(requireFail, otherRecognizer) === -1) {\n        requireFail.push(otherRecognizer);\n        otherRecognizer.requireFailure(this);\n      }\n\n      return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function dropRequireFailure(otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n        return this;\n      }\n\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n      var index = inArray(this.requireFail, otherRecognizer);\n\n      if (index > -1) {\n        this.requireFail.splice(index, 1);\n      }\n\n      return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function hasRequireFailures() {\n      return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function canRecognizeWith(otherRecognizer) {\n      return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function emit(input) {\n      var self = this;\n      var state = this.state;\n\n      function emit(event) {\n        self.manager.emit(event, input);\n      } // 'panstart' and 'panmove'\n\n\n      if (state < STATE_ENDED) {\n        emit(self.options.event + stateStr(state));\n      }\n\n      emit(self.options.event); // simple 'eventName' events\n\n      if (input.additionalEvent) {\n        // additional event(panleft, panright, pinchin, pinchout...)\n        emit(input.additionalEvent);\n      } // panend and pancancel\n\n\n      if (state >= STATE_ENDED) {\n        emit(self.options.event + stateStr(state));\n      }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function tryEmit(input) {\n      if (this.canEmit()) {\n        return this.emit(input);\n      } // it's failing anyway\n\n\n      this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function canEmit() {\n      var i = 0;\n\n      while (i < this.requireFail.length) {\n        if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n          return false;\n        }\n\n        i++;\n      }\n\n      return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function recognize(inputData) {\n      // make a new copy of the inputData\n      // so we can change the inputData without messing up the other recognizers\n      var inputDataClone = assign({}, inputData); // is is enabled and allow recognizing?\n\n      if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n        this.reset();\n        this.state = STATE_FAILED;\n        return;\n      } // reset when we've reached the end\n\n\n      if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n        this.state = STATE_POSSIBLE;\n      }\n\n      this.state = this.process(inputDataClone); // the recognizer has recognized a gesture\n      // so trigger an event\n\n      if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n        this.tryEmit(inputDataClone);\n      }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function process(inputData) {},\n    // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function getTouchAction() {},\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function reset() {}\n  };\n  /**\n   * get a usable string, used as event postfix\n   * @param {Const} state\n   * @returns {String} state\n   */\n\n  function stateStr(state) {\n    if (state & STATE_CANCELLED) {\n      return 'cancel';\n    } else if (state & STATE_ENDED) {\n      return 'end';\n    } else if (state & STATE_CHANGED) {\n      return 'move';\n    } else if (state & STATE_BEGAN) {\n      return 'start';\n    }\n\n    return '';\n  }\n  /**\n   * direction cons to string\n   * @param {Const} direction\n   * @returns {String}\n   */\n\n\n  function directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n      return 'down';\n    } else if (direction == DIRECTION_UP) {\n      return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n      return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n      return 'right';\n    }\n\n    return '';\n  }\n  /**\n   * get a recognizer by name if it is bound to a manager\n   * @param {Recognizer|String} otherRecognizer\n   * @param {Recognizer} recognizer\n   * @returns {Recognizer}\n   */\n\n\n  function getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n\n    if (manager) {\n      return manager.get(otherRecognizer);\n    }\n\n    return otherRecognizer;\n  }\n  /**\n   * This recognizer is just used as a base for the simple attribute recognizers.\n   * @constructor\n   * @extends Recognizer\n   */\n\n\n  function AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n  }\n\n  inherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n      /**\n       * @type {Number}\n       * @default 1\n       */\n      pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function attrTest(input) {\n      var optionPointers = this.options.pointers;\n      return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function process(input) {\n      var state = this.state;\n      var eventType = input.eventType;\n      var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n      var isValid = this.attrTest(input); // on cancel input and we've recognized before, return STATE_CANCELLED\n\n      if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n        return state | STATE_CANCELLED;\n      } else if (isRecognized || isValid) {\n        if (eventType & INPUT_END) {\n          return state | STATE_ENDED;\n        } else if (!(state & STATE_BEGAN)) {\n          return STATE_BEGAN;\n        }\n\n        return state | STATE_CHANGED;\n      }\n\n      return STATE_FAILED;\n    }\n  });\n  /**\n   * Pan\n   * Recognized when the pointer is down and moved in the allowed direction.\n   * @constructor\n   * @extends AttrRecognizer\n   */\n\n  function PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n    this.pX = null;\n    this.pY = null;\n  }\n\n  inherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n      event: 'pan',\n      threshold: 10,\n      pointers: 1,\n      direction: DIRECTION_ALL\n    },\n    getTouchAction: function getTouchAction() {\n      var direction = this.options.direction;\n      var actions = [];\n\n      if (direction & DIRECTION_HORIZONTAL) {\n        actions.push(TOUCH_ACTION_PAN_Y);\n      }\n\n      if (direction & DIRECTION_VERTICAL) {\n        actions.push(TOUCH_ACTION_PAN_X);\n      }\n\n      return actions;\n    },\n    directionTest: function directionTest(input) {\n      var options = this.options;\n      var hasMoved = true;\n      var distance = input.distance;\n      var direction = input.direction;\n      var x = input.deltaX;\n      var y = input.deltaY; // lock to axis?\n\n      if (!(direction & options.direction)) {\n        if (options.direction & DIRECTION_HORIZONTAL) {\n          direction = x === 0 ? DIRECTION_NONE : x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n          hasMoved = x != this.pX;\n          distance = Math.abs(input.deltaX);\n        } else {\n          direction = y === 0 ? DIRECTION_NONE : y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n          hasMoved = y != this.pY;\n          distance = Math.abs(input.deltaY);\n        }\n      }\n\n      input.direction = direction;\n      return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n    attrTest: function attrTest(input) {\n      return AttrRecognizer.prototype.attrTest.call(this, input) && (this.state & STATE_BEGAN || !(this.state & STATE_BEGAN) && this.directionTest(input));\n    },\n    emit: function emit(input) {\n      this.pX = input.deltaX;\n      this.pY = input.deltaY;\n      var direction = directionStr(input.direction);\n\n      if (direction) {\n        input.additionalEvent = this.options.event + direction;\n      }\n\n      this._super.emit.call(this, input);\n    }\n  });\n  /**\n   * Pinch\n   * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n   * @constructor\n   * @extends AttrRecognizer\n   */\n\n  function PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n  }\n\n  inherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n      event: 'pinch',\n      threshold: 0,\n      pointers: 2\n    },\n    getTouchAction: function getTouchAction() {\n      return [TOUCH_ACTION_NONE];\n    },\n    attrTest: function attrTest(input) {\n      return this._super.attrTest.call(this, input) && (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n    emit: function emit(input) {\n      if (input.scale !== 1) {\n        var inOut = input.scale < 1 ? 'in' : 'out';\n        input.additionalEvent = this.options.event + inOut;\n      }\n\n      this._super.emit.call(this, input);\n    }\n  });\n  /**\n   * Press\n   * Recognized when the pointer is down for x ms without any movement.\n   * @constructor\n   * @extends Recognizer\n   */\n\n  function PressRecognizer() {\n    Recognizer.apply(this, arguments);\n    this._timer = null;\n    this._input = null;\n  }\n\n  inherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n      event: 'press',\n      pointers: 1,\n      time: 251,\n      // minimal time of the pointer to be pressed\n      threshold: 9 // a minimal movement is ok, but keep it low\n\n    },\n    getTouchAction: function getTouchAction() {\n      return [TOUCH_ACTION_AUTO];\n    },\n    process: function process(input) {\n      var options = this.options;\n      var validPointers = input.pointers.length === options.pointers;\n      var validMovement = input.distance < options.threshold;\n      var validTime = input.deltaTime > options.time;\n      this._input = input; // we only allow little movement\n      // and we've reached an end event, so a tap is possible\n\n      if (!validMovement || !validPointers || input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime) {\n        this.reset();\n      } else if (input.eventType & INPUT_START) {\n        this.reset();\n        this._timer = setTimeoutContext(function () {\n          this.state = STATE_RECOGNIZED;\n          this.tryEmit();\n        }, options.time, this);\n      } else if (input.eventType & INPUT_END) {\n        return STATE_RECOGNIZED;\n      }\n\n      return STATE_FAILED;\n    },\n    reset: function reset() {\n      clearTimeout(this._timer);\n    },\n    emit: function emit(input) {\n      if (this.state !== STATE_RECOGNIZED) {\n        return;\n      }\n\n      if (input && input.eventType & INPUT_END) {\n        this.manager.emit(this.options.event + 'up', input);\n      } else {\n        this._input.timeStamp = now();\n        this.manager.emit(this.options.event, this._input);\n      }\n    }\n  });\n  /**\n   * Rotate\n   * Recognized when two or more pointer are moving in a circular motion.\n   * @constructor\n   * @extends AttrRecognizer\n   */\n\n  function RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n  }\n\n  inherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n      event: 'rotate',\n      threshold: 0,\n      pointers: 2\n    },\n    getTouchAction: function getTouchAction() {\n      return [TOUCH_ACTION_NONE];\n    },\n    attrTest: function attrTest(input) {\n      return this._super.attrTest.call(this, input) && (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n  });\n  /**\n   * Swipe\n   * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n   * @constructor\n   * @extends AttrRecognizer\n   */\n\n  function SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n  }\n\n  inherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n      event: 'swipe',\n      threshold: 10,\n      velocity: 0.3,\n      direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n      pointers: 1\n    },\n    getTouchAction: function getTouchAction() {\n      return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n    attrTest: function attrTest(input) {\n      var direction = this.options.direction;\n      var velocity;\n\n      if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n        velocity = input.overallVelocity;\n      } else if (direction & DIRECTION_HORIZONTAL) {\n        velocity = input.overallVelocityX;\n      } else if (direction & DIRECTION_VERTICAL) {\n        velocity = input.overallVelocityY;\n      }\n\n      return this._super.attrTest.call(this, input) && direction & input.offsetDirection && input.distance > this.options.threshold && input.maxPointers == this.options.pointers && abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n    emit: function emit(input) {\n      var direction = directionStr(input.offsetDirection);\n\n      if (direction) {\n        this.manager.emit(this.options.event + direction, input);\n      }\n\n      this.manager.emit(this.options.event, input);\n    }\n  });\n  /**\n   * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n   * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n   * a single tap.\n   *\n   * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n   * multi-taps being recognized.\n   * @constructor\n   * @extends Recognizer\n   */\n\n  function TapRecognizer() {\n    Recognizer.apply(this, arguments); // previous time and center,\n    // used for tap counting\n\n    this.pTime = false;\n    this.pCenter = false;\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n  }\n\n  inherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n      event: 'tap',\n      pointers: 1,\n      taps: 1,\n      interval: 300,\n      // max time between the multi-tap taps\n      time: 250,\n      // max time of the pointer to be down (like finger on the screen)\n      threshold: 9,\n      // a minimal movement is ok, but keep it low\n      posThreshold: 10 // a multi-tap can be a bit off the initial position\n\n    },\n    getTouchAction: function getTouchAction() {\n      return [TOUCH_ACTION_MANIPULATION];\n    },\n    process: function process(input) {\n      var options = this.options;\n      var validPointers = input.pointers.length === options.pointers;\n      var validMovement = input.distance < options.threshold;\n      var validTouchTime = input.deltaTime < options.time;\n      this.reset();\n\n      if (input.eventType & INPUT_START && this.count === 0) {\n        return this.failTimeout();\n      } // we only allow little movement\n      // and we've reached an end event, so a tap is possible\n\n\n      if (validMovement && validTouchTime && validPointers) {\n        if (input.eventType != INPUT_END) {\n          return this.failTimeout();\n        }\n\n        var validInterval = this.pTime ? input.timeStamp - this.pTime < options.interval : true;\n        var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n        this.pTime = input.timeStamp;\n        this.pCenter = input.center;\n\n        if (!validMultiTap || !validInterval) {\n          this.count = 1;\n        } else {\n          this.count += 1;\n        }\n\n        this._input = input; // if tap count matches we have recognized it,\n        // else it has began recognizing...\n\n        var tapCount = this.count % options.taps;\n\n        if (tapCount === 0) {\n          // no failing requirements, immediately trigger the tap event\n          // or wait as long as the multitap interval to trigger\n          if (!this.hasRequireFailures()) {\n            return STATE_RECOGNIZED;\n          } else {\n            this._timer = setTimeoutContext(function () {\n              this.state = STATE_RECOGNIZED;\n              this.tryEmit();\n            }, options.interval, this);\n            return STATE_BEGAN;\n          }\n        }\n      }\n\n      return STATE_FAILED;\n    },\n    failTimeout: function failTimeout() {\n      this._timer = setTimeoutContext(function () {\n        this.state = STATE_FAILED;\n      }, this.options.interval, this);\n      return STATE_FAILED;\n    },\n    reset: function reset() {\n      clearTimeout(this._timer);\n    },\n    emit: function emit() {\n      if (this.state == STATE_RECOGNIZED) {\n        this._input.tapCount = this.count;\n        this.manager.emit(this.options.event, this._input);\n      }\n    }\n  });\n  /**\n   * Simple way to create a manager with a default set of recognizers.\n   * @param {HTMLElement} element\n   * @param {Object} [options]\n   * @constructor\n   */\n\n  function Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n  }\n  /**\n   * @const {string}\n   */\n\n\n  Hammer.VERSION = '2.0.7';\n  /**\n   * default settings\n   * @namespace\n   */\n\n  Hammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [// RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n    [RotateRecognizer, {\n      enable: false\n    }], [PinchRecognizer, {\n      enable: false\n    }, ['rotate']], [SwipeRecognizer, {\n      direction: DIRECTION_HORIZONTAL\n    }], [PanRecognizer, {\n      direction: DIRECTION_HORIZONTAL\n    }, ['swipe']], [TapRecognizer], [TapRecognizer, {\n      event: 'doubletap',\n      taps: 2\n    }, ['tap']], [PressRecognizer]],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n      /**\n       * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n       * @type {String}\n       * @default 'none'\n       */\n      userSelect: 'none',\n\n      /**\n       * Disable the Windows Phone grippers when pressing an element.\n       * @type {String}\n       * @default 'none'\n       */\n      touchSelect: 'none',\n\n      /**\n       * Disables the default callout shown when you touch and hold a touch target.\n       * On iOS, when you touch and hold a touch target such as a link, Safari displays\n       * a callout containing information about the link. This property allows you to disable that callout.\n       * @type {String}\n       * @default 'none'\n       */\n      touchCallout: 'none',\n\n      /**\n       * Specifies whether zooming is enabled. Used by IE10>\n       * @type {String}\n       * @default 'none'\n       */\n      contentZooming: 'none',\n\n      /**\n       * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n       * @type {String}\n       * @default 'none'\n       */\n      userDrag: 'none',\n\n      /**\n       * Overrides the highlight color shown when the user taps a link or a JavaScript\n       * clickable element in iOS. This property obeys the alpha value, if specified.\n       * @type {String}\n       * @default 'rgba(0,0,0,0)'\n       */\n      tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n  };\n  var STOP = 1;\n  var FORCED_STOP = 2;\n  /**\n   * Manager\n   * @param {HTMLElement} element\n   * @param {Object} [options]\n   * @constructor\n   */\n\n  function Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n    this.options.inputTarget = this.options.inputTarget || element;\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n    toggleCssProps(this, true);\n    each(this.options.recognizers, function (item) {\n      var recognizer = this.add(new item[0](item[1]));\n      item[2] && recognizer.recognizeWith(item[2]);\n      item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n  }\n\n  Manager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function set(options) {\n      assign(this.options, options); // Options that need a little more setup\n\n      if (options.touchAction) {\n        this.touchAction.update();\n      }\n\n      if (options.inputTarget) {\n        // Clean up existing event listeners and reinitialize\n        this.input.destroy();\n        this.input.target = options.inputTarget;\n        this.input.init();\n      }\n\n      return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function stop(force) {\n      this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function recognize(inputData) {\n      var session = this.session;\n\n      if (session.stopped) {\n        return;\n      } // run the touch-action polyfill\n\n\n      this.touchAction.preventDefaults(inputData);\n      var recognizer;\n      var recognizers = this.recognizers; // this holds the recognizer that is being recognized.\n      // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n      // if no recognizer is detecting a thing, it is set to `null`\n\n      var curRecognizer = session.curRecognizer; // reset when the last recognizer is recognized\n      // or when we're in a new session\n\n      if (!curRecognizer || curRecognizer && curRecognizer.state & STATE_RECOGNIZED) {\n        curRecognizer = session.curRecognizer = null;\n      }\n\n      var i = 0;\n\n      while (i < recognizers.length) {\n        recognizer = recognizers[i]; // find out if we are allowed try to recognize the input for this one.\n        // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n        // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n        //      that is being recognized.\n        // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n        //      this can be setup with the `recognizeWith()` method on the recognizer.\n\n        if (session.stopped !== FORCED_STOP && ( // 1\n        !curRecognizer || recognizer == curRecognizer || // 2\n        recognizer.canRecognizeWith(curRecognizer))) {\n          // 3\n          recognizer.recognize(inputData);\n        } else {\n          recognizer.reset();\n        } // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n        // current active recognizer. but only if we don't already have an active recognizer\n\n\n        if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n          curRecognizer = session.curRecognizer = recognizer;\n        }\n\n        i++;\n      }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function get(recognizer) {\n      if (recognizer instanceof Recognizer) {\n        return recognizer;\n      }\n\n      var recognizers = this.recognizers;\n\n      for (var i = 0; i < recognizers.length; i++) {\n        if (recognizers[i].options.event == recognizer) {\n          return recognizers[i];\n        }\n      }\n\n      return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function add(recognizer) {\n      if (invokeArrayArg(recognizer, 'add', this)) {\n        return this;\n      } // remove existing\n\n\n      var existing = this.get(recognizer.options.event);\n\n      if (existing) {\n        this.remove(existing);\n      }\n\n      this.recognizers.push(recognizer);\n      recognizer.manager = this;\n      this.touchAction.update();\n      return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function remove(recognizer) {\n      if (invokeArrayArg(recognizer, 'remove', this)) {\n        return this;\n      }\n\n      recognizer = this.get(recognizer); // let's make sure this recognizer exists\n\n      if (recognizer) {\n        var recognizers = this.recognizers;\n        var index = inArray(recognizers, recognizer);\n\n        if (index !== -1) {\n          recognizers.splice(index, 1);\n          this.touchAction.update();\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function on(events, handler) {\n      if (events === undefined) {\n        return;\n      }\n\n      if (handler === undefined) {\n        return;\n      }\n\n      var handlers = this.handlers;\n      each(splitStr(events), function (event) {\n        handlers[event] = handlers[event] || [];\n        handlers[event].push(handler);\n      });\n      return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function off(events, handler) {\n      if (events === undefined) {\n        return;\n      }\n\n      var handlers = this.handlers;\n      each(splitStr(events), function (event) {\n        if (!handler) {\n          delete handlers[event];\n        } else {\n          handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n        }\n      });\n      return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function emit(event, data) {\n      // we also want to trigger dom events\n      if (this.options.domEvents) {\n        triggerDomEvent(event, data);\n      } // no handlers, so skip it all\n\n\n      var handlers = this.handlers[event] && this.handlers[event].slice();\n\n      if (!handlers || !handlers.length) {\n        return;\n      }\n\n      data.type = event;\n\n      data.preventDefault = function () {\n        data.srcEvent.preventDefault();\n      };\n\n      var i = 0;\n\n      while (i < handlers.length) {\n        handlers[i](data);\n        i++;\n      }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function destroy() {\n      this.element && toggleCssProps(this, false);\n      this.handlers = {};\n      this.session = {};\n      this.input.destroy();\n      this.element = null;\n    }\n  };\n  /**\n   * add/remove the css properties as defined in manager.options.cssProps\n   * @param {Manager} manager\n   * @param {Boolean} add\n   */\n\n  function toggleCssProps(manager, add) {\n    var element = manager.element;\n\n    if (!element.style) {\n      return;\n    }\n\n    var prop;\n    each(manager.options.cssProps, function (value, name) {\n      prop = prefixed(element.style, name);\n\n      if (add) {\n        manager.oldCssProps[prop] = element.style[prop];\n        element.style[prop] = value;\n      } else {\n        element.style[prop] = manager.oldCssProps[prop] || '';\n      }\n    });\n\n    if (!add) {\n      manager.oldCssProps = {};\n    }\n  }\n  /**\n   * trigger dom event\n   * @param {String} event\n   * @param {Object} data\n   */\n\n\n  function triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n  }\n\n  assign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n  });\n  var hammer = Hammer;\n\n  var microevent = createCommonjsModule(function (module) {\n  /**\n   * MicroEvent - to make any js object an event emitter (server or browser)\n   * \n   * - pure javascript - server compatible, browser compatible\n   * - dont rely on the browser doms\n   * - super simple - you get it immediatly, no mistery, no magic involved\n   *\n   * - create a MicroEventDebug with goodies to debug\n   *   - make it safer to use\n  */\n\n  var MicroEvent\t= function(){};\n  MicroEvent.prototype\t= {\n  \tbind\t: function(event, fct){\n  \t\tthis._events = this._events || {};\n  \t\tthis._events[event] = this._events[event]\t|| [];\n  \t\tthis._events[event].push(fct);\n  \t},\n  \tunbind\t: function(event, fct){\n  \t\tthis._events = this._events || {};\n  \t\tif( event in this._events === false  )\treturn;\n  \t\tthis._events[event].splice(this._events[event].indexOf(fct), 1);\n  \t},\n  \ttrigger\t: function(event /* , args... */){\n  \t\tthis._events = this._events || {};\n  \t\tif( event in this._events === false  )\treturn;\n  \t\tfor(var i = 0; i < this._events[event].length; i++){\n  \t\t\tthis._events[event][i].apply(this, Array.prototype.slice.call(arguments, 1));\n  \t\t}\n  \t}\n  };\n\n  /**\n   * mixin will delegate all MicroEvent.js function in the destination object\n   *\n   * - require('MicroEvent').mixin(Foobar) will make Foobar able to use MicroEvent\n   *\n   * @param {Object} the object which will support MicroEvent\n  */\n  MicroEvent.mixin\t= function(destObject){\n  \tvar props\t= ['bind', 'unbind', 'trigger'];\n  \tfor(var i = 0; i < props.length; i ++){\n  \t\tdestObject.prototype[props[i]]\t= MicroEvent.prototype[props[i]];\n  \t}\n  };\n\n  // export in common js\n  if( 'object' !== \"undefined\" && ('exports' in module)){\n  \tmodule.exports\t= MicroEvent;\n  }\n  });\n\n  var PageSpread;\n\n  var page_spread = PageSpread =\n  /*#__PURE__*/\n  function () {\n    function PageSpread(el) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      _classCallCheck(this, PageSpread);\n\n      this.el = el;\n      this.options = options;\n      this.visibility = 'gone';\n      this.positioned = false;\n      this.active = false;\n      this.id = this.options.id;\n      this.type = this.options.type;\n      this.pageIds = this.options.pageIds;\n      this.width = this.options.width;\n      this.left = this.options.left;\n      this.maxZoomScale = this.options.maxZoomScale;\n      return;\n    }\n\n    _createClass(PageSpread, [{\n      key: \"isZoomable\",\n      value: function isZoomable() {\n        return this.getMaxZoomScale() > 1 && this.getEl().getAttribute('data-zoomable') !== 'false';\n      }\n    }, {\n      key: \"isScrollable\",\n      value: function isScrollable() {\n        return this.getEl().classList.contains('verso--scrollable');\n      }\n    }, {\n      key: \"getEl\",\n      value: function getEl() {\n        return this.el;\n      }\n    }, {\n      key: \"getOverlayEls\",\n      value: function getOverlayEls() {\n        return this.getEl().querySelectorAll('.verso__overlay');\n      }\n    }, {\n      key: \"getPageEls\",\n      value: function getPageEls() {\n        return this.getEl().querySelectorAll('.verso__page');\n      }\n    }, {\n      key: \"getRect\",\n      value: function getRect() {\n        return this.getEl().getBoundingClientRect();\n      }\n    }, {\n      key: \"getContentRect\",\n      value: function getContentRect() {\n        var i, len, pageEl, pageRect, rect, ref, ref1, ref2, ref3, ref4;\n        rect = {\n          top: null,\n          left: null,\n          right: null,\n          bottom: null,\n          width: null,\n          height: null\n        };\n        ref = this.getPageEls();\n\n        for (i = 0, len = ref.length; i < len; i++) {\n          pageEl = ref[i];\n          pageRect = pageEl.getBoundingClientRect();\n\n          if (pageRect.top < rect.top || rect.top == null) {\n            rect.top = pageRect.top;\n          }\n\n          if (pageRect.left < rect.left || rect.left == null) {\n            rect.left = pageRect.left;\n          }\n\n          if (pageRect.right > rect.right || rect.right == null) {\n            rect.right = pageRect.right;\n          }\n\n          if (pageRect.bottom > rect.bottom || rect.bottom == null) {\n            rect.bottom = pageRect.bottom;\n          }\n        }\n\n        rect.top = (ref1 = rect.top) != null ? ref1 : 0;\n        rect.left = (ref2 = rect.left) != null ? ref2 : 0;\n        rect.right = (ref3 = rect.right) != null ? ref3 : 0;\n        rect.bottom = (ref4 = rect.bottom) != null ? ref4 : 0;\n        rect.width = rect.right - rect.left;\n        rect.height = rect.bottom - rect.top;\n        return rect;\n      }\n    }, {\n      key: \"getId\",\n      value: function getId() {\n        return this.id;\n      }\n    }, {\n      key: \"getType\",\n      value: function getType() {\n        return this.type;\n      }\n    }, {\n      key: \"getPageIds\",\n      value: function getPageIds() {\n        return this.pageIds;\n      }\n    }, {\n      key: \"getWidth\",\n      value: function getWidth() {\n        return this.width;\n      }\n    }, {\n      key: \"getLeft\",\n      value: function getLeft() {\n        return this.left;\n      }\n    }, {\n      key: \"getMaxZoomScale\",\n      value: function getMaxZoomScale() {\n        return this.maxZoomScale;\n      }\n    }, {\n      key: \"getVisibility\",\n      value: function getVisibility() {\n        return this.visibility;\n      }\n    }, {\n      key: \"setVisibility\",\n      value: function setVisibility(visibility) {\n        if (this.visibility !== visibility) {\n          this.getEl().style.display = visibility === 'visible' ? 'block' : 'none';\n          this.visibility = visibility;\n        }\n\n        return this;\n      }\n    }, {\n      key: \"position\",\n      value: function position() {\n        if (this.positioned === false) {\n          this.getEl().style.left = \"\".concat(this.getLeft(), \"%\");\n          this.positioned = true;\n        }\n\n        return this;\n      }\n    }, {\n      key: \"activate\",\n      value: function activate() {\n        this.active = true;\n        this.getEl().setAttribute('data-active', this.active);\n      }\n    }, {\n      key: \"deactivate\",\n      value: function deactivate() {\n        this.active = false;\n        this.getEl().setAttribute('data-active', this.active);\n      }\n    }]);\n\n    return PageSpread;\n  }();\n\n  var Animation;\n\n  var animation = Animation =\n  /*#__PURE__*/\n  function () {\n    function Animation(el) {\n      _classCallCheck(this, Animation);\n\n      this.el = el;\n      this.run = 0;\n      return;\n    }\n\n    _createClass(Animation, [{\n      key: \"animate\",\n      value: function animate() {\n        var _this = this;\n\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n\n        var duration, easing, ref, ref1, ref2, ref3, ref4, run, scale, transform, _transitionEnd, x, y;\n\n        x = (ref = options.x) != null ? ref : 0;\n        y = (ref1 = options.y) != null ? ref1 : 0;\n        scale = (ref2 = options.scale) != null ? ref2 : 1;\n        easing = (ref3 = options.easing) != null ? ref3 : 'ease-out';\n        duration = (ref4 = options.duration) != null ? ref4 : 0;\n        run = ++this.run;\n        transform = \"translateX(\".concat(x, \") translateY(\").concat(y, \") scale(\").concat(scale, \")\");\n\n        if (this.el.style.transform === transform) {\n          callback();\n        } else if (duration > 0) {\n          _transitionEnd = function transitionEnd() {\n            if (run !== _this.run) {\n              return;\n            }\n\n            _this.el.removeEventListener('transitionend', _transitionEnd);\n\n            _this.el.style.transition = 'none';\n            callback();\n          };\n\n          this.el.addEventListener('transitionend', _transitionEnd, false);\n          this.el.style.transition = \"transform \".concat(easing, \" \").concat(duration, \"ms\");\n          this.el.style.transform = transform;\n        } else {\n          this.el.style.transition = 'none';\n          this.el.style.transform = transform;\n          callback();\n        }\n\n        return this;\n      }\n    }]);\n\n    return Animation;\n  }();\n\n  var Animation$1, Hammer$1, MicroEvent, PageSpread$1, Verso;\n  Hammer$1 = hammer;\n  MicroEvent = microevent;\n  PageSpread$1 = page_spread;\n  Animation$1 = animation;\n\n  Verso =\n  /*#__PURE__*/\n  function () {\n    function Verso(el1) {\n      var options1 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      _classCallCheck(this, Verso);\n\n      var ref, ref1, ref2, ref3, ref4, ref5;\n      this.el = el1;\n      this.options = options1;\n      this.swipeVelocity = (ref = this.options.swipeVelocity) != null ? ref : 0.3;\n      this.swipeThreshold = (ref1 = this.options.swipeThreshold) != null ? ref1 : 10;\n      this.navigationDuration = (ref2 = this.options.navigationDuration) != null ? ref2 : 240;\n      this.navigationPanDuration = (ref3 = this.options.navigationPanDuration) != null ? ref3 : 200;\n      this.zoomDuration = (ref4 = this.options.zoomDuration) != null ? ref4 : 200;\n      this.doubleTapDelay = (ref5 = this.options.doubleTapDelay) != null ? ref5 : 300;\n      this.position = -1;\n      this.pinching = false;\n      this.panning = false;\n      this.transform = {\n        left: 0,\n        top: 0,\n        scale: 1\n      };\n      this.startTransform = {\n        left: 0,\n        top: 0,\n        scale: 1\n      };\n      this.tap = {\n        count: 0,\n        delay: this.doubleTapDelay\n      };\n      this.scrollerEl = this.el.querySelector('.verso__scroller');\n      this.pageSpreadEls = this.el.querySelectorAll('.verso__page-spread');\n      this.pageSpreads = this.traversePageSpreads(this.pageSpreadEls);\n      this.pageIds = this.buildPageIds(this.pageSpreads);\n      this.animation = new Animation$1(this.scrollerEl);\n      this.hammer = new Hammer$1.Manager(this.scrollerEl, {\n        touchAction: 'none',\n        enable: false,\n        inputClass: this.getHammerInputClass()\n      });\n      this.hammer.add(new Hammer$1.Pan({\n        threshold: 5,\n        direction: Hammer$1.DIRECTION_ALL\n      }));\n      this.hammer.add(new Hammer$1.Tap({\n        event: 'singletap',\n        interval: 0\n      }));\n      this.hammer.add(new Hammer$1.Pinch());\n      this.hammer.add(new Hammer$1.Press({\n        time: 500\n      }));\n      this.hammer.on('panstart', this.onPanStart.bind(this));\n      this.hammer.on('panmove', this.onPanMove.bind(this));\n      this.hammer.on('panend', this.onPanEnd.bind(this));\n      this.hammer.on('pancancel', this.onPanEnd.bind(this));\n      this.hammer.on('singletap', this.onSingletap.bind(this));\n      this.hammer.on('pinchstart', this.onPinchStart.bind(this));\n      this.hammer.on('pinchmove', this.onPinchMove.bind(this));\n      this.hammer.on('pinchend', this.onPinchEnd.bind(this));\n      this.hammer.on('pinchcancel', this.onPinchEnd.bind(this));\n      this.hammer.on('press', this.onPress.bind(this));\n      this.scrollerEl.addEventListener('contextmenu', this.onContextmenu.bind(this), false);\n      this.scrollerEl.addEventListener('wheel', this.onWheel.bind(this), false);\n      return;\n    }\n\n    _createClass(Verso, [{\n      key: \"start\",\n      value: function start() {\n        var pageId, ref;\n        pageId = (ref = this.getPageSpreadPositionFromPageId(this.options.pageId)) != null ? ref : 0;\n        this.hammer.set({\n          enable: true\n        });\n        this.navigateTo(pageId, {\n          duration: 0\n        });\n        this.resizeListener = this.onResize.bind(this);\n        this.touchStartListener = this.onTouchStart.bind(this);\n        this.touchEndListener = this.onTouchEnd.bind(this);\n        this.el.addEventListener('touchstart', this.touchStartListener, false);\n        this.el.addEventListener('touchend', this.touchEndListener, false);\n        window.addEventListener('resize', this.resizeListener, false);\n        return this;\n      }\n    }, {\n      key: \"destroy\",\n      value: function destroy() {\n        this.hammer.destroy();\n        this.el.removeEventListener('touchstart', this.touchStartListener);\n        this.el.removeEventListener('touchend', this.touchEndListener);\n        window.removeEventListener('resize', this.resizeListener);\n        return this;\n      }\n    }, {\n      key: \"first\",\n      value: function first(options) {\n        return this.navigateTo(0, options);\n      }\n    }, {\n      key: \"prev\",\n      value: function prev(options) {\n        return this.navigateTo(this.getPosition() - 1, options);\n      }\n    }, {\n      key: \"next\",\n      value: function next(options) {\n        return this.navigateTo(this.getPosition() + 1, options);\n      }\n    }, {\n      key: \"last\",\n      value: function last(options) {\n        return this.navigateTo(this.getPageSpreadCount() - 1, options);\n      }\n    }, {\n      key: \"navigateTo\",\n      value: function navigateTo(position) {\n        var _this = this;\n\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var activePageSpread, carousel, currentPageSpread, currentPosition, duration, ref, ref1, touchAction, velocity;\n\n        if (position < 0 || position > this.getPageSpreadCount() - 1) {\n          return;\n        }\n\n        currentPosition = this.getPosition();\n        currentPageSpread = this.getPageSpreadFromPosition(currentPosition);\n        activePageSpread = this.getPageSpreadFromPosition(position);\n        carousel = this.getCarouselFromPageSpread(activePageSpread);\n        velocity = (ref = options.velocity) != null ? ref : 1;\n        duration = (ref1 = options.duration) != null ? ref1 : this.navigationDuration;\n        duration = duration / Math.abs(velocity);\n        touchAction = activePageSpread.isScrollable() ? 'pan-y' : 'none';\n\n        if (currentPageSpread != null) {\n          currentPageSpread.deactivate();\n        }\n\n        activePageSpread.activate();\n        carousel.visible.forEach(function (pageSpread) {\n          return pageSpread.position().setVisibility('visible');\n        });\n        this.hammer.set({\n          touchAction: touchAction\n        });\n        this.transform.left = this.getLeftTransformFromPageSpread(position, activePageSpread);\n        this.setPosition(position);\n\n        if (this.transform.scale > 1) {\n          this.transform.top = 0;\n          this.transform.scale = 1;\n          this.trigger('zoomedOut', {\n            position: currentPosition\n          });\n        }\n\n        this.trigger('beforeNavigation', {\n          currentPosition: currentPosition,\n          newPosition: position\n        });\n        this.animation.animate({\n          x: \"\".concat(this.transform.left, \"%\"),\n          duration: duration\n        }, function () {\n          carousel = _this.getCarouselFromPageSpread(_this.getActivePageSpread());\n          carousel.gone.forEach(function (pageSpread) {\n            return pageSpread.setVisibility('gone');\n          });\n\n          _this.trigger('afterNavigation', {\n            newPosition: _this.getPosition(),\n            previousPosition: currentPosition\n          });\n        });\n      }\n    }, {\n      key: \"getPosition\",\n      value: function getPosition() {\n        return this.position;\n      }\n    }, {\n      key: \"setPosition\",\n      value: function setPosition(position) {\n        this.position = position;\n        return this;\n      }\n    }, {\n      key: \"getLeftTransformFromPageSpread\",\n      value: function getLeftTransformFromPageSpread(position, pageSpread) {\n        var left;\n        left = 0;\n\n        if (position === this.getPageSpreadCount() - 1) {\n          left = 100 - pageSpread.getWidth() - pageSpread.getLeft();\n        } else if (position > 0) {\n          left = (100 - pageSpread.getWidth()) / 2 - pageSpread.getLeft();\n        }\n\n        return left;\n      }\n    }, {\n      key: \"getCarouselFromPageSpread\",\n      value: function getCarouselFromPageSpread(pageSpreadSubject) {\n        var carousel;\n        carousel = {\n          visible: [],\n          gone: []\n        }; // Identify the page spreads that should be a part of the carousel.\n\n        this.pageSpreads.forEach(function (pageSpread) {\n          var visible;\n          visible = false;\n\n          if (pageSpread.getLeft() <= pageSpreadSubject.getLeft()) {\n            if (pageSpread.getLeft() + pageSpread.getWidth() > pageSpreadSubject.getLeft() - 100) {\n              visible = true;\n            }\n          } else {\n            if (pageSpread.getLeft() - pageSpread.getWidth() < pageSpreadSubject.getLeft() + 100) {\n              visible = true;\n            }\n          }\n\n          if (visible === true) {\n            carousel.visible.push(pageSpread);\n          } else {\n            carousel.gone.push(pageSpread);\n          }\n        });\n        return carousel;\n      }\n    }, {\n      key: \"traversePageSpreads\",\n      value: function traversePageSpreads(els) {\n        var el, id, j, left, len, maxZoomScale, pageIds, pageSpread, pageSpreads, type, width;\n        pageSpreads = [];\n        left = 0;\n\n        for (j = 0, len = els.length; j < len; j++) {\n          el = els[j];\n          id = el.getAttribute('data-id');\n          type = el.getAttribute('data-type');\n          pageIds = el.getAttribute('data-page-ids');\n          pageIds = pageIds != null ? pageIds.split(',').map(function (i) {\n            return i;\n          }) : [];\n          maxZoomScale = el.getAttribute('data-max-zoom-scale');\n          maxZoomScale = maxZoomScale != null ? +maxZoomScale : 1;\n          width = el.getAttribute('data-width');\n          width = width != null ? +width : 100;\n          pageSpread = new PageSpread$1(el, {\n            id: id,\n            type: type,\n            pageIds: pageIds,\n            maxZoomScale: maxZoomScale,\n            width: width,\n            left: left\n          });\n          left += width;\n          pageSpreads.push(pageSpread);\n        }\n\n        return pageSpreads;\n      }\n    }, {\n      key: \"buildPageIds\",\n      value: function buildPageIds(pageSpreads) {\n        var pageIds;\n        pageIds = {};\n        pageSpreads.forEach(function (pageSpread, i) {\n          pageSpread.options.pageIds.forEach(function (pageId) {\n            pageIds[pageId] = pageSpread;\n          });\n        });\n        return pageIds;\n      }\n    }, {\n      key: \"isCoordinateInsideElement\",\n      value: function isCoordinateInsideElement(x, y, el) {\n        var rect;\n        rect = el.getBoundingClientRect();\n        return x >= rect.left && x <= rect.right && y >= rect.top && y <= rect.bottom;\n      }\n    }, {\n      key: \"getCoordinateInfo\",\n      value: function getCoordinateInfo(x, y, pageSpread) {\n        var contentRect, info, j, k, len, len1, overlayEl, overlayEls, pageEl, pageEls;\n        x -= this.el.offsetLeft;\n        y -= this.el.offsetTop;\n        info = {\n          x: x,\n          y: y,\n          contentX: 0,\n          contentY: 0,\n          pageX: 0,\n          pageY: 0,\n          overlayEls: [],\n          pageEl: null,\n          isInsideContentX: false,\n          isInsideContentY: false,\n          isInsideContent: false\n        };\n        contentRect = pageSpread.getContentRect();\n        overlayEls = pageSpread.getOverlayEls();\n        pageEls = pageSpread.getPageEls();\n\n        for (j = 0, len = overlayEls.length; j < len; j++) {\n          overlayEl = overlayEls[j];\n\n          if (this.isCoordinateInsideElement(x, y, overlayEl)) {\n            info.overlayEls.push(overlayEl);\n          }\n        }\n\n        for (k = 0, len1 = pageEls.length; k < len1; k++) {\n          pageEl = pageEls[k];\n\n          if (this.isCoordinateInsideElement(x, y, pageEl)) {\n            info.pageEl = pageEl;\n            break;\n          }\n        }\n\n        info.contentX = (x - contentRect.left) / Math.max(1, contentRect.width);\n        info.contentY = (y - contentRect.top) / Math.max(1, contentRect.height);\n\n        if (info.pageEl != null) {\n          info.isInsideContentX = info.contentX >= 0 && info.contentX <= 1;\n          info.isInsideContentY = info.contentY >= 0 && info.contentY <= 1;\n          info.isInsideContent = info.isInsideContentX && info.isInsideContentY;\n        }\n\n        return info;\n      }\n    }, {\n      key: \"getPageSpreadCount\",\n      value: function getPageSpreadCount() {\n        return this.pageSpreads.length;\n      }\n    }, {\n      key: \"getActivePageSpread\",\n      value: function getActivePageSpread() {\n        return this.getPageSpreadFromPosition(this.getPosition());\n      }\n    }, {\n      key: \"getPageSpreadFromPosition\",\n      value: function getPageSpreadFromPosition(position) {\n        return this.pageSpreads[position];\n      }\n    }, {\n      key: \"getPageSpreadPositionFromPageId\",\n      value: function getPageSpreadPositionFromPageId(pageId) {\n        var idx, j, len, pageSpread, ref;\n        ref = this.pageSpreads;\n\n        for (idx = j = 0, len = ref.length; j < len; idx = ++j) {\n          pageSpread = ref[idx];\n\n          if (pageSpread.options.pageIds.indexOf(pageId) > -1) {\n            return idx;\n          }\n        }\n      }\n    }, {\n      key: \"getPageSpreadBounds\",\n      value: function getPageSpreadBounds(pageSpread) {\n        var pageSpreadContentRect, pageSpreadRect;\n        pageSpreadRect = pageSpread.getRect();\n        pageSpreadContentRect = pageSpread.getContentRect();\n        return {\n          left: (pageSpreadContentRect.left - pageSpreadRect.left) / pageSpreadRect.width * 100,\n          top: (pageSpreadContentRect.top - pageSpreadRect.top) / pageSpreadRect.height * 100,\n          width: pageSpreadContentRect.width / pageSpreadRect.width * 100,\n          height: pageSpreadContentRect.height / pageSpreadRect.height * 100,\n          pageSpreadRect: pageSpreadRect,\n          pageSpreadContentRect: pageSpreadContentRect\n        };\n      }\n    }, {\n      key: \"clipCoordinate\",\n      value: function clipCoordinate(coordinate, scale, size, offset) {\n        if (size * scale < 100) {\n          coordinate = offset * -scale + 50 - size * scale / 2;\n        } else {\n          coordinate = Math.min(coordinate, offset * -scale);\n          coordinate = Math.max(coordinate, offset * -scale - size * scale + 100);\n        }\n\n        return coordinate;\n      }\n    }, {\n      key: \"zoomTo\",\n      value: function zoomTo() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var callback = arguments.length > 1 ? arguments[1] : undefined;\n        var activePageSpread, carouselOffset, carouselScaledOffset, curScale, pageSpreadBounds, ref, ref1, scale, x, y;\n        scale = options.scale;\n        curScale = this.transform.scale;\n        activePageSpread = this.getActivePageSpread();\n        pageSpreadBounds = this.getPageSpreadBounds(activePageSpread);\n        carouselOffset = activePageSpread.getLeft();\n        carouselScaledOffset = carouselOffset * curScale;\n        x = (ref = options.x) != null ? ref : 0;\n        y = (ref1 = options.y) != null ? ref1 : 0;\n\n        if (scale !== 1) {\n          x -= pageSpreadBounds.pageSpreadRect.left;\n          y -= pageSpreadBounds.pageSpreadRect.top;\n          x = x / (pageSpreadBounds.pageSpreadRect.width / curScale) * 100;\n          y = y / (pageSpreadBounds.pageSpreadRect.height / curScale) * 100;\n          x = this.transform.left + carouselScaledOffset + x - x * scale / curScale;\n          y = this.transform.top + y - y * scale / curScale; // Make sure the animation doesn't exceed the content bounds.\n\n          if (options.bounds !== false && scale > 1) {\n            x = this.clipCoordinate(x, scale, pageSpreadBounds.width, pageSpreadBounds.left);\n            y = this.clipCoordinate(y, scale, pageSpreadBounds.height, pageSpreadBounds.top);\n          }\n        } else {\n          x = 0;\n          y = 0;\n        } // Account for the page spreads left of the active one.\n\n\n        x -= carouselOffset * scale;\n        this.transform.left = x;\n        this.transform.top = y;\n        this.transform.scale = scale;\n        this.animation.animate({\n          x: \"\".concat(x, \"%\"),\n          y: \"\".concat(y, \"%\"),\n          scale: scale,\n          easing: options.easing,\n          duration: options.duration\n        }, callback);\n      }\n    }, {\n      key: \"refresh\",\n      value: function refresh() {\n        this.pageSpreadEls = this.el.querySelectorAll('.verso__page-spread');\n        this.pageSpreads = this.traversePageSpreads(this.pageSpreadEls);\n        this.pageIds = this.buildPageIds(this.pageSpreads);\n        return this;\n      }\n    }, {\n      key: \"getHammerInputClass\",\n      value: function getHammerInputClass() {\n        var mobileRegex, supportTouch;\n        mobileRegex = /mobile|tablet|ip(ad|hone|od)|android/i;\n        supportTouch = 'ontouchstart' in window;\n\n        if (supportTouch && mobileRegex.test(navigator.userAgent)) {\n          return Hammer$1.TouchInput;\n        } else {\n          return null;\n        }\n      } //#############\n\n      /* Events */\n      //#############\n\n    }, {\n      key: \"onPanStart\",\n      value: function onPanStart(e) {\n        var edgeThreshold, width, x; // Only allow panning if zoomed in or doing a horizontal pan.\n        // This ensures vertical scrolling works for scrollable page spreads.\n\n        if (this.transform.scale > 1 || e.direction === Hammer$1.DIRECTION_LEFT || e.direction === Hammer$1.DIRECTION_RIGHT) {\n          x = e.center.x;\n          edgeThreshold = 30;\n          width = this.scrollerEl.offsetWidth; // Prevent panning when edge-swiping on iOS.\n\n          if (x > edgeThreshold && x < width - edgeThreshold) {\n            this.startTransform.left = this.transform.left;\n            this.startTransform.top = this.transform.top;\n            this.panning = true;\n            this.trigger('panStart');\n          }\n        }\n      }\n    }, {\n      key: \"onPanMove\",\n      value: function onPanMove(e) {\n        var activePageSpread, carouselOffset, carouselScaledOffset, pageSpreadBounds, scale, x, y;\n\n        if (this.pinching === true || this.panning === false) {\n          return;\n        }\n\n        if (this.transform.scale > 1) {\n          activePageSpread = this.getActivePageSpread();\n          carouselOffset = activePageSpread.getLeft();\n          carouselScaledOffset = carouselOffset * this.transform.scale;\n          pageSpreadBounds = this.getPageSpreadBounds(activePageSpread);\n          scale = this.transform.scale;\n          x = this.startTransform.left + carouselScaledOffset + e.deltaX / this.scrollerEl.offsetWidth * 100;\n          y = this.startTransform.top + e.deltaY / this.scrollerEl.offsetHeight * 100;\n          x = this.clipCoordinate(x, scale, pageSpreadBounds.width, pageSpreadBounds.left);\n          y = this.clipCoordinate(y, scale, pageSpreadBounds.height, pageSpreadBounds.top);\n          x -= carouselScaledOffset;\n          this.transform.left = x;\n          this.transform.top = y;\n          this.animation.animate({\n            x: \"\".concat(x, \"%\"),\n            y: \"\".concat(y, \"%\"),\n            scale: scale,\n            easing: 'linear'\n          });\n        } else {\n          x = this.transform.left + e.deltaX / this.scrollerEl.offsetWidth * 100;\n          this.animation.animate({\n            x: \"\".concat(x, \"%\"),\n            easing: 'linear'\n          });\n        }\n      }\n    }, {\n      key: \"onPanEnd\",\n      value: function onPanEnd(e) {\n        var position, velocity;\n\n        if (this.panning === false) {\n          return;\n        }\n\n        this.panning = false;\n        this.trigger('panEnd');\n\n        if (this.transform.scale === 1 && this.pinching === false) {\n          position = this.getPosition();\n          velocity = e.overallVelocityX;\n\n          if (Math.abs(velocity) >= this.swipeVelocity) {\n            if (Math.abs(e.deltaX) >= this.swipeThreshold) {\n              if (e.offsetDirection === Hammer$1.DIRECTION_LEFT) {\n                this.next({\n                  velocity: velocity,\n                  duration: this.navigationPanDuration\n                });\n              } else if (e.offsetDirection === Hammer$1.DIRECTION_RIGHT) {\n                this.prev({\n                  velocity: velocity,\n                  duration: this.navigationPanDuration\n                });\n              }\n            }\n          }\n\n          if (position === this.getPosition()) {\n            this.animation.animate({\n              x: \"\".concat(this.transform.left, \"%\"),\n              duration: this.navigationPanDuration\n            });\n            this.trigger('attemptedNavigation', {\n              position: this.getPosition()\n            });\n          }\n        }\n      }\n    }, {\n      key: \"onPinchStart\",\n      value: function onPinchStart(e) {\n        if (!this.getActivePageSpread().isZoomable()) {\n          return;\n        }\n\n        this.pinching = true;\n        this.el.setAttribute('data-pinching', true);\n        this.startTransform.scale = this.transform.scale;\n      }\n    }, {\n      key: \"onPinchMove\",\n      value: function onPinchMove(e) {\n        if (this.pinching === false) {\n          return;\n        }\n\n        this.zoomTo({\n          x: e.center.x,\n          y: e.center.y,\n          scale: this.startTransform.scale * e.scale,\n          bounds: false,\n          easing: 'linear'\n        });\n      }\n    }, {\n      key: \"onPinchEnd\",\n      value: function onPinchEnd(e) {\n        var _this2 = this;\n\n        var activePageSpread, maxZoomScale, position, scale;\n\n        if (this.pinching === false) {\n          return;\n        }\n\n        activePageSpread = this.getActivePageSpread();\n        maxZoomScale = activePageSpread.getMaxZoomScale();\n        scale = Math.max(1, Math.min(this.transform.scale, maxZoomScale));\n        position = this.getPosition();\n\n        if (this.startTransform.scale === 1 && scale > 1) {\n          this.trigger('zoomedIn', {\n            position: position\n          });\n        } else if (this.startTransform.scale > 1 && scale === 1) {\n          this.trigger('zoomedOut', {\n            position: position\n          });\n        }\n\n        this.zoomTo({\n          x: e.center.x,\n          y: e.center.y,\n          scale: scale,\n          duration: this.zoomDuration\n        }, function () {\n          _this2.pinching = false;\n\n          _this2.el.setAttribute('data-pinching', false);\n        });\n      }\n    }, {\n      key: \"onPress\",\n      value: function onPress(e) {\n        this.trigger('pressed', this.getCoordinateInfo(e.center.x, e.center.y, this.getActivePageSpread()));\n      }\n    }, {\n      key: \"onContextmenu\",\n      value: function onContextmenu(e) {\n        e.preventDefault();\n        this.trigger('contextmenu', this.getCoordinateInfo(e.clientX, e.clientY, this.getActivePageSpread()));\n        return false;\n      }\n    }, {\n      key: \"onWheel\",\n      value: function onWheel(e) {\n        var _this3 = this;\n\n        var activePageSpread, position, scale;\n        activePageSpread = this.getActivePageSpread();\n\n        if (activePageSpread.isZoomable() === false) {\n          return;\n        }\n\n        if (e.deltaY > 0 && this.transform.scale === 1) {\n          scale = activePageSpread.getMaxZoomScale();\n          position = this.getPosition();\n          this.zoomTo({\n            x: e.clientX,\n            y: e.clientY,\n            scale: scale,\n            duration: this.zoomDuration\n          }, function () {\n            _this3.trigger('zoomedIn', {\n              position: position\n            });\n          });\n        } else if (e.deltaY < 0 && this.transform.scale > 1) {\n          position = this.getPosition();\n          this.zoomTo({\n            x: e.clientX,\n            y: e.clientY,\n            scale: 1,\n            duration: this.zoomDuration\n          }, function () {\n            _this3.trigger('zoomedOut', {\n              position: position\n            });\n          });\n        }\n      }\n    }, {\n      key: \"onSingletap\",\n      value: function onSingletap(e) {\n        var _this4 = this;\n\n        var activePageSpread, coordinateInfo, maxZoomScale, position, scale, zoomEvent, zoomedIn;\n        activePageSpread = this.getActivePageSpread();\n        coordinateInfo = this.getCoordinateInfo(e.center.x, e.center.y, activePageSpread);\n        clearTimeout(this.tap.timeout);\n\n        if (this.tap.count === 1) {\n          this.tap.count = 0;\n          this.trigger('doubleClicked', coordinateInfo);\n\n          if (activePageSpread.isZoomable()) {\n            maxZoomScale = activePageSpread.getMaxZoomScale();\n            zoomedIn = this.transform.scale > 1;\n            scale = zoomedIn ? 1 : maxZoomScale;\n            zoomEvent = zoomedIn ? 'zoomedOut' : 'zoomedIn';\n            position = this.getPosition();\n            this.zoomTo({\n              x: e.center.x,\n              y: e.center.y,\n              scale: scale,\n              duration: this.zoomDuration\n            }, function () {\n              _this4.trigger(zoomEvent, {\n                position: position\n              });\n            });\n          }\n        } else {\n          this.tap.count++;\n          this.tap.timeout = setTimeout(function () {\n            _this4.tap.count = 0;\n\n            _this4.trigger('clicked', coordinateInfo);\n          }, this.tap.delay);\n        }\n      }\n    }, {\n      key: \"onTouchStart\",\n      value: function onTouchStart(e) {\n        if (!this.getActivePageSpread().isScrollable()) {\n          e.preventDefault();\n        }\n      }\n    }, {\n      key: \"onTouchEnd\",\n      value: function onTouchEnd(e) {\n        if (!this.getActivePageSpread().isScrollable()) {\n          e.preventDefault();\n        }\n      }\n    }, {\n      key: \"onResize\",\n      value: function onResize() {\n        var activePageSpread, position;\n\n        if (this.transform.scale > 1) {\n          position = this.getPosition();\n          activePageSpread = this.getActivePageSpread();\n          this.transform.left = this.getLeftTransformFromPageSpread(position, activePageSpread);\n          this.transform.top = 0;\n          this.transform.scale = 1;\n          this.zoomTo({\n            x: this.transform.left,\n            y: this.transform.top,\n            scale: this.transform.scale,\n            duration: 0\n          });\n          this.trigger('zoomedOut', {\n            position: position\n          });\n        }\n      }\n    }]);\n\n    return Verso;\n  }();\n\n  MicroEvent.mixin(Verso);\n  var verso = Verso;\n\n  return verso;\n\n})));\n//# sourceMappingURL=verso.js.map\n","MicroEvent = require 'microevent'\nMustache = require 'mustache'\n\nclass PagedPublicationHotspots\n    constructor: ->\n        @currentPageSpreadId = null\n        @pageSpreadsLoaded = {}\n        @cache = {}\n\n        @bind 'hotspotsReceived', @hotspotsReceived.bind(@)\n        @bind 'afterNavigation', @afterNavigation.bind(@)\n        @bind 'pagesLoaded', @pagesLoaded.bind(@)\n        @bind 'resized', @resized.bind(@)\n\n        return\n\n    renderHotspots: (data) ->\n        frag = document.createDocumentFragment()\n        contentRect = data.versoPageSpread.getContentRect()\n        pageSpreadEl = data.pageSpread.getEl()\n        hotspotEls = pageSpreadEl.querySelectorAll '.sgn-pp__hotspot'\n        boundingRect = pageSpreadEl.getBoundingClientRect()\n\n        hotspotEl.parentNode.removeChild hotspotEl for hotspotEl in hotspotEls\n\n        for id, hotspot of data.hotspots\n            position = @getPosition data.pages, data.ratio, hotspot\n            el = @renderHotspot hotspot, position, contentRect, boundingRect\n            \n            frag.appendChild el\n\n        pageSpreadEl.appendChild frag\n\n        @\n\n    renderHotspot: (hotspot, position, contentRect, boundingRect) ->\n        el = document.createElement 'div'\n        top = Math.round contentRect.height / 100 * position.top\n        left = Math.round contentRect.width / 100 * position.left\n        width = Math.round contentRect.width / 100 * position.width\n        height = Math.round contentRect.height / 100 * position.height\n\n        top += Math.round contentRect.top\n        left += Math.round contentRect.left\n        top -= boundingRect.top\n        left -= boundingRect.left\n\n        el.className = 'sgn-pp__hotspot verso__overlay'\n        el.setAttribute 'data-id', hotspot.id if hotspot.id?\n        el.setAttribute 'data-type', hotspot.type if hotspot.type?\n        el.innerHTML = Mustache.render hotspot.template ? '', hotspot\n\n        el.style.top = \"#{top}px\"\n        el.style.left = \"#{left}px\"\n        el.style.width = \"#{width}px\"\n        el.style.height = \"#{height}px\"\n\n        el\n\n    getPosition: (pages, ratio, hotspot) ->\n        minX = null\n        minY = null\n        maxX = null\n        maxY = null\n        pageNumbers = pages.map (page) -> page.pageNumber\n\n        for pageNumber of hotspot.locations\n            continue if pageNumbers.indexOf(+pageNumber) is -1\n\n            hotspot.locations[pageNumber].forEach (coords) ->\n                x = coords[0]\n                y = coords[1]\n\n                x +=1 if pages[1] and pageNumbers[1] is +pageNumber\n                x /= pages.length\n\n                if not minX?\n                    minX = maxX = x\n                    minY = maxY = y\n\n                minX = x if x < minX\n                maxX = x if x > maxX\n                minY = y if y < minY\n                maxY = y if y > maxY\n\n        width = maxX - minX\n        height = maxY - minY\n\n        top: minY / ratio * 100\n        left: minX * 100\n        width: width * 100\n        height: height / ratio * 100\n\n    requestHotspots: (pageSpreadId, pages) ->\n        @trigger 'hotspotsRequested',\n            id: pageSpreadId\n            pages: pages\n\n        return\n\n    hotspotsReceived: (e) ->\n        pageSpreadId = e.pageSpread.getId()\n\n        @setCache pageSpreadId, e\n        @renderHotspots e\n\n        return\n\n    getCache: (pageSpreadId) ->\n        @cache[pageSpreadId]\n\n    setCache: (pageSpreadId, data) ->\n        @cache[pageSpreadId] = data\n\n        @\n\n    afterNavigation: (e) ->\n        return if not e.pageSpread?\n\n        id = e.pageSpread.getId()\n\n        @currentPageSpreadId = id\n        @requestHotspots id, e.pageSpread.getPages() if @pageSpreadsLoaded[id]\n\n        return\n\n    pagesLoaded: (e) ->\n        @pageSpreadsLoaded[e.pageSpreadId] = true\n        @requestHotspots e.pageSpreadId, e.pages if @currentPageSpreadId is e.pageSpreadId\n\n        return\n\n    resized: (e) ->\n        data = @getCache @currentPageSpreadId\n\n        @renderHotspots data if data?\n\n        return\n\nMicroEvent.mixin PagedPublicationHotspots\n\nmodule.exports = PagedPublicationHotspots\n\n\n","MicroEvent = require 'microevent'\nSGN = require '../../sgn'\nkeyCodes = require '../../key-codes'\n\nclass PagedPublicationControls\n    constructor: (el, @options = {}) ->\n        @els =\n            root: el\n            progress: el.querySelector '.sgn-pp__progress'\n            progressBar: el.querySelector '.sgn-pp-progress__bar'\n            progressLabel: el.querySelector '.sgn-pp__progress-label'\n            prevControl: el.querySelector '.sgn-pp__control[data-direction=prev]'\n            nextControl: el.querySelector '.sgn-pp__control[data-direction=next]'\n            close: el.querySelector '.sgn-pp--close'\n\n        @keyDownListener = SGN.util.throttle @keyDown, 150, @\n\n        @els.root.addEventListener 'keydown', @keyDownListener, false if @options.keyboard is true\n        @els.prevControl.addEventListener 'click', @prevClicked.bind(@), false if @els.prevControl?\n        @els.nextControl.addEventListener 'click', @nextClicked.bind(@), false if @els.nextControl?\n        @els.close.addEventListener 'click', @closeClicked.bind(@), false if @els.close?\n\n        @bind 'beforeNavigation', @beforeNavigation.bind(@)\n\n        return\n\n    destroy: ->\n        @els.root.removeEventListener 'keydown', @keyDownListener\n\n        return\n\n    beforeNavigation: (e) ->\n        showProgress = typeof e.progressLabel is 'string' and e.progressLabel.length > 0\n        visibilityClassName = 'sgn-pp--hidden'\n\n        if @els.progress? and @els.progressBar?\n            @els.progressBar.style.width = \"#{e.progress}%\"\n\n            if showProgress is true\n                @els.progress.classList.remove visibilityClassName\n            else\n                @els.progress.classList.add visibilityClassName\n\n        if @els.progressLabel?\n            if showProgress is true\n                @els.progressLabel.textContent = e.progressLabel\n                @els.progressLabel.classList.remove visibilityClassName\n            else\n                @els.progressLabel.classList.add visibilityClassName\n\n        if @els.prevControl?\n            if e.verso.newPosition is 0\n                @els.prevControl.classList.add visibilityClassName\n            else\n                @els.prevControl.classList.remove visibilityClassName\n\n        if @els.nextControl?\n            if e.verso.newPosition is e.pageSpreadCount - 1\n                @els.nextControl.classList.add visibilityClassName\n            else\n                @els.nextControl.classList.remove visibilityClassName\n\n        return\n\n    prevClicked: (e) ->\n        e.preventDefault()\n\n        @trigger 'prev'\n\n        return\n\n    nextClicked: (e) ->\n        e.preventDefault()\n\n        @trigger 'next'\n\n        return\n    \n    closeClicked: (e) ->\n        e.preventDefault()\n\n        @trigger 'close'\n\n        return\n\n    keyDown: (e) ->\n        keyCode = e.keyCode\n\n        if keyCodes.ARROW_LEFT is keyCode\n            @trigger 'prev', duration: 0\n        else if keyCodes.ARROW_RIGHT is keyCode or keyCodes.SPACE is keyCode\n            @trigger 'next', duration: 0\n        else if keyCodes.NUMBER_ONE is keyCode\n            @trigger 'first', duration: 0\n\n        return\n\nMicroEvent.mixin PagedPublicationControls\n\nmodule.exports = PagedPublicationControls\n","module.exports =\n    ESC: 27\n    ARROW_RIGHT: 39\n    ARROW_LEFT: 37\n    SPACE: 32\n    NUMBER_ONE: 49\n","MicroEvent = require 'microevent'\n\nclass PagedPublicationEventTracking\n    constructor: ->\n        @hidden = true\n        @pageSpread = null\n\n        @bind 'appeared', @appeared.bind(@)\n        @bind 'disappeared', @disappeared.bind(@)\n        @bind 'beforeNavigation', @beforeNavigation.bind(@)\n        @bind 'afterNavigation', @afterNavigation.bind(@)\n        @bind 'attemptedNavigation', @attemptedNavigation.bind(@)\n        @bind 'clicked', @clicked.bind(@)\n        @bind 'doubleClicked', @doubleClicked.bind(@)\n        @bind 'pressed', @pressed.bind(@)\n        @bind 'panStart', @panStart.bind(@)\n        @bind 'zoomedIn', @zoomedIn.bind(@)\n        @bind 'zoomedOut', @zoomedOut.bind(@)\n        @bind 'destroyed', @destroy.bind(@)\n\n        return\n\n    destroy: ->\n        @pageSpreadDisappeared()\n\n        return\n\n    trackEvent: (type, properties = {}) ->\n        @trigger 'trackEvent', type: type, properties: properties\n\n        return\n\n    trackOpened: (properties) ->\n        @trackEvent 'paged-publication-opened', properties\n\n        @\n\n    trackPageClicked: (properties) ->\n        @trackEvent 'paged-publication-page-clicked', properties\n\n        @\n\n    trackPageDoubleClicked: (properties) ->\n        @trackEvent 'paged-publication-page-double-clicked', properties\n\n        @\n\n    trackPageLongPressed: (properties) ->\n        @trackEvent 'paged-publication-page-long-pressed', properties\n\n        @\n\n    trackPageHotspotsClicked: (properties) ->\n        @trackEvent 'paged-publication-page-hotspots-clicked', properties\n\n        @\n\n    trackPageSpreadAppeared: (properties) ->\n        @trackEvent 'paged-publication-page-spread-appeared', properties\n\n        @\n\n    trackPageSpreadDisappeared: (properties) ->\n        @trackEvent 'paged-publication-page-spread-disappeared', properties\n\n        @\n\n    trackPageSpreadZoomedIn: (properties) ->\n        @trackEvent 'paged-publication-page-spread-zoomed-in', properties\n\n        @\n\n    trackPageSpreadZoomedOut: (properties) ->\n        @trackEvent 'paged-publication-page-spread-zoomed-out', properties\n\n        @\n\n    appeared: (e) ->\n        @pageSpreadAppeared e.pageSpread\n\n        return\n\n    disappeared: ->\n        @pageSpreadDisappeared()\n\n        return\n\n    beforeNavigation: ->\n        @pageSpreadDisappeared()\n\n        return\n\n    afterNavigation: (e) ->\n        @pageSpreadAppeared e.pageSpread\n\n        return\n\n    attemptedNavigation: (e) ->\n        @pageSpreadAppeared e.pageSpread\n\n        return\n\n    clicked: (e) ->\n        if e.page?\n            properties =\n                pageNumber: e.page.pageNumber\n                x: e.verso.pageX\n                y: e.verso.pageY\n\n            @trackPageClicked pagedPublicationPage: properties\n            @trackPageHotspotsClicked pagedPublicationPage: properties if e.verso.overlayEls.length > 0\n\n        return\n\n    doubleClicked: (e) =>\n        if e.page?\n            @trackPageDoubleClicked pagedPublicationPage:\n                pageNumber: e.page.pageNumber\n                x: e.verso.pageX\n                y: e.verso.pageY\n\n        return\n\n    pressed: (e) ->\n        if e.page?\n            @trackPageLongPressed pagedPublicationPage:\n                pageNumber: e.page.pageNumber\n                x: e.verso.pageX\n                y: e.verso.pageY\n\n        return\n\n    panStart: (e) ->\n        @pageSpreadDisappeared() if e.scale is 1\n\n        return\n\n    zoomedIn: (e) ->\n        if e.pageSpread?\n            @trackPageSpreadZoomedIn pagedPublicationPageSpread:\n                pageNumbers: e.pageSpread.getPages().map (page) -> page.pageNumber\n\n        return\n\n    zoomedOut: (e) ->\n        if e.pageSpread?\n            @trackPageSpreadZoomedOut pagedPublicationPageSpread:\n                pageNumbers: e.pageSpread.getPages().map (page) -> page.pageNumber\n\n        return\n\n    pageSpreadAppeared: (pageSpread) ->\n        if pageSpread? and @hidden is true\n            @pageSpread = pageSpread\n\n            @trackPageSpreadAppeared pagedPublicationPageSpread:\n                pageNumbers: pageSpread.getPages().map (page) -> page.pageNumber\n\n            @hidden = false\n\n        return\n\n    pageSpreadDisappeared: ->\n        if @pageSpread? and @hidden is false\n            @trackPageSpreadDisappeared pagedPublicationPageSpread:\n                pageNumbers: @pageSpread.getPages().map (page) -> page.pageNumber\n\n            @hidden = true\n            @pageSpread = null\n\n        return\n\nMicroEvent.mixin PagedPublicationEventTracking\n\nmodule.exports = PagedPublicationEventTracking\n","MicroEvent = require 'microevent'\nSGN = require '../../sgn'\nCore = require './core'\nHotspots = require './hotspots'\nControls = require './controls'\nEventTracking = require './event-tracking'\n\nclass Viewer\n    constructor: (@el, @options = {}) ->\n        @_core = new Core @el,\n            id: @options.id\n            pages: @options.pages\n            pageSpreadWidth: @options.pageSpreadWidth\n            pageSpreadMaxZoomScale: @options.pageSpreadMaxZoomScale\n            pageId: @options.pageId\n            idleDelay: @options.idleDelay\n            resizeDelay: @options.resizeDelay\n            color: @options.color\n        @_hotspots = new Hotspots()\n        @_controls = new Controls @el, keyboard: @options.keyboard\n        @_eventTracking = new EventTracking()\n        @viewSession = SGN.util.uuid()\n        @hotspots = null\n        @hotspotQueue = []\n        @popover = null\n\n        @_setupEventListeners()\n\n        return\n\n        return\n\n    start: ->\n        @_eventTracking.trackOpened()\n        @_core.trigger 'started'\n\n        @\n\n    destroy: ->\n        @_core.trigger 'destroyed'\n        @_hotspots.trigger 'destroyed'\n        @_controls.trigger 'destroyed'\n        @_eventTracking.trigger 'destroyed'\n\n        @trigger 'destroyed'\n\n        @\n\n    navigateTo: (position, options) ->\n        @navigateToIndex position, options\n\n        @\n\n    navigateToIndex: (position, options) ->\n        @_core.getVerso().navigateTo position, options\n\n        @\n    \n    navigateToPageId: (pageId, options) ->\n        position = @_core.getVerso().getPageSpreadPositionFromPageId pageId\n        \n        @_core.getVerso().navigateTo position, options\n\n    first: (options) ->\n        @_core.getVerso().first options\n\n        @\n\n    prev: (options) ->\n        @_core.getVerso().prev options\n\n        @\n\n    next: (options) ->\n        @_core.getVerso().next options\n\n        @\n\n    last: (options) ->\n        @_core.getVerso().last options\n\n        @\n\n    _trackEvent: (e) ->\n        type = e.type\n        idType = 'legacy'\n        properties = pagedPublication:\n            id: [idType, @options.id]\n            ownedBy: [idType, @options.ownedBy]\n        eventTracker = @options.eventTracker\n\n        properties[key] = value for key, value of e.properties\n\n        eventTracker.trackEvent type, properties if eventTracker?\n\n        return\n\n    _setupEventListeners: ->\n        @_eventTracking.bind 'trackEvent', (e) =>\n            @_trackEvent e\n\n            return\n\n        @_controls.bind 'prev', (e) =>\n            @prev e\n            \n            return\n        @_controls.bind 'next', (e) =>\n            @next e\n            \n            return\n        @_controls.bind 'first', (e) =>\n            @first e\n            \n            return\n        @_controls.bind 'last', (e) =>\n            @last e\n            \n            return\n        @_controls.bind 'close', (e) =>\n            @destroy e\n\n            return\n        @_hotspots.bind 'hotspotsRequested', (e) =>\n            @trigger 'hotspotsRequested', e\n\n            return\n\n        @_core.bind 'appeared', (e) =>\n            @_eventTracking.trigger 'appeared', e\n            @trigger 'appeared', e\n\n            return\n        @_core.bind 'disappeared', (e) =>\n            @_eventTracking.trigger 'disappeared', e\n            @trigger 'disappeared', e\n\n            return\n        @_core.bind 'beforeNavigation', (e) =>\n            @_eventTracking.trigger 'beforeNavigation', e\n            @_controls.trigger 'beforeNavigation', e\n            @trigger 'beforeNavigation', e\n\n            return\n        @_core.bind 'afterNavigation', (e) =>\n            @_eventTracking.trigger 'afterNavigation', e\n            @_hotspots.trigger 'afterNavigation', e\n            @trigger 'afterNavigation', e\n\n            return\n        @_core.bind 'attemptedNavigation', (e) =>\n            @_eventTracking.trigger 'attemptedNavigation', e\n            @trigger 'attemptedNavigation', e\n\n            return\n        @_core.bind 'clicked', (e) =>\n            @_eventTracking.trigger 'clicked', e\n            @trigger 'clicked', e\n\n            return\n        @_core.bind 'doubleClicked', (e) =>\n            @_eventTracking.trigger 'doubleClicked', e\n            @trigger 'doubleClicked', e\n\n            return\n        @_core.bind 'contextmenu', (e) =>\n            @trigger 'contextmenu', e\n\n            return\n        @_core.bind 'pressed', (e) =>\n            @_eventTracking.trigger 'pressed', e\n            @trigger 'pressed', e\n\n            return\n        @_core.bind 'panStart', (e) =>\n            @_eventTracking.trigger 'panStart', e\n            @trigger 'panStart', e\n\n            return\n        @_core.bind 'zoomedIn', (e) =>\n            @_eventTracking.trigger 'zoomedIn', e\n            @trigger 'zoomedIn', e\n\n            return\n        @_core.bind 'zoomedOut', (e) =>\n            @_eventTracking.trigger 'zoomedOut', e\n            @trigger 'zoomedOut', e\n\n            return\n        @_core.bind 'pageLoaded', (e) =>\n            @_eventTracking.trigger 'pageLoaded', e\n            @trigger 'pageLoaded', e\n\n            return\n        @_core.bind 'pagesLoaded', (e) =>\n            @_hotspots.trigger 'pagesLoaded', e\n            @trigger 'pagesLoaded', e\n\n            return\n        @_core.bind 'resized', (e) =>\n            @_hotspots.trigger 'resized'\n            @trigger 'resized', e\n\n            return\n\n        @bind 'hotspotsRequested', @hotspotsRequested.bind(@)\n        @bind 'beforeNavigation', @beforeNavigation.bind(@)\n        @bind 'clicked', @clicked.bind(@)\n        @bind 'contextmenu', @contextmenu.bind(@)\n        @bind 'pressed', @pressed.bind(@)\n\n        return\n\n    pickHotspot: (e, callback) ->\n        return if not @hotspots?\n\n        if @popover?\n            @popover.destroy()\n            @popover = null\n        \n        hotspots = e.verso.overlayEls.map (overlayEl) =>\n            @hotspots[overlayEl.getAttribute('data-id')]\n\n        if hotspots.length is 1\n            callback hotspots[0]\n        else if hotspots.length > 1\n            @popover = SGN.CoreUIKit.singleChoicePopover\n                el: @el\n                header: SGN.translations.t 'paged_publication.hotspot_picker.header'\n                x: e.verso.x\n                y: e.verso.y\n                items: hotspots\n                    .filter (hotspot) -> hotspot.type is 'offer'\n                    .map (hotspot) ->\n                        id: hotspot.id\n                        title: hotspot.offer.heading\n                        subtitle: hotspot.offer.pricing.currency + '' + hotspot.offer.pricing.price\n            , (e) =>\n                callback @hotspots[e.id]\n\n                return\n        \n        return\n\n    processHotspotQueue: ->\n        return if not @hotspots?\n\n        @hotspotQueue = @hotspotQueue.filter (hotspotRequest) =>\n            hotspots = {}\n            versoPageSpread = @_core.getVerso().pageSpreads.find (pageSpread) ->\n                pageSpread.getId() is hotspotRequest.id\n\n            for id, hotspot of @hotspots\n                continue if hotspots[id]?\n\n                for page in hotspotRequest.pages\n                    if hotspot.locations[page.pageNumber]?\n                        hotspots[id] =\n                            type: hotspot.type\n                            id: hotspot.id\n                            locations: hotspot.locations\n                        \n                        break\n\n            @_hotspots.trigger 'hotspotsReceived',\n                pageSpread: @_core.pageSpreads.get hotspotRequest.id\n                versoPageSpread: versoPageSpread\n                ratio: @options.hotspotRatio\n                pages: hotspotRequest.pages\n                hotspots: hotspots\n\n            false\n\n        return\n\n    hotspotsRequested: (e) ->\n        @hotspotQueue.push e\n        @processHotspotQueue()\n\n        return\n    \n    applyHotspots: (hotspots = {}) ->\n        @hotspots = hotspots\n\n        @processHotspotQueue()\n\n        return\n    \n    beforeNavigation: ->\n        @popover.destroy() if @popover?\n\n        return\n    \n    clicked: (e) ->\n        @pickHotspot e, (hotspot) =>\n            @trigger 'hotspotClicked', hotspot\n\n            return\n            \n        return\n    \n    contextmenu: (e) ->\n        @pickHotspot e, (hotspot) =>\n            @trigger 'hotspotContextmenu', hotspot\n\n            return\n        \n        return\n    \n    pressed: (e) ->\n        @pickHotspot e, (hotspot) =>\n            @trigger 'hotspotPressed', hotspot\n\n            return\n            \n        return\n\nMicroEvent.mixin Viewer\n\nmodule.exports = Viewer\n","MicroEvent = require 'microevent'\nSGN = require '../../core'\n\nmodule.exports = class Bootstrapper\n    constructor: (@options = {}) ->\n        return\n\n    createViewer: (data) ->\n        new SGN.PagedPublicationKit.Viewer @options.el,\n            id: @options.id\n            ownedBy: data.details.dealer_id\n            color: '#' + data.details.branding.pageflip.color\n            hotspotRatio: data.details.dimensions.height\n            keyboard: true\n            pageId: @options.pageId\n            eventTracker: @options.eventTracker\n            pages: @transformPages data.pages\n\n    transformPages: (pages) ->\n        pages.map (page, i) ->\n            pageNumber = i + 1\n\n            id: 'page' + pageNumber\n            label: pageNumber + ''\n            pageNumber: pageNumber\n            images:\n                medium: page.view\n                large: page.zoom\n\n    applyHotspots: (viewer, hotspots) ->\n        obj = {}\n\n        hotspots.forEach (hotspot) -> obj[hotspot.id] = hotspot\n        \n        viewer.applyHotspots obj\n\n        return\n    \n    fetch: (callback) ->\n        SGN.util.async.parallel [@fetchDetails.bind(@), @fetchPages.bind(@)], (result) ->\n            data =\n                details: result[0][1]\n                pages: result[1][1]\n\n            if data.details? and data.pages?\n                callback null, data\n            else\n                callback new Error()\n\n            return\n        \n        return\n\n    fetchDetails: (callback) ->\n        SGN.CoreKit.request\n            url: \"/v2/catalogs/#{@options.id}\"\n        , callback\n\n        return\n\n    fetchPages: (callback) ->\n        SGN.CoreKit.request\n            url: \"/v2/catalogs/#{@options.id}/pages\"\n        , callback\n\n        return\n\n    fetchHotspots: (callback) ->\n        SGN.CoreKit.request\n            url: \"/v2/catalogs/#{@options.id}/hotspots\"\n        , callback\n\n        return","Incito = require 'incito-browser'\nMicroEvent = require 'microevent'\n\nclass Viewer\n    constructor: (@el, @options = {}) ->\n        @incito = new Incito @el,\n            incito: @options.incito\n            \n        return\n    \n    start: ->\n        @incito.start()\n\n        @_trackEvent\n            type: 'x-incito-publication-opened'\n            properties:\n                id: @options.id\n\n        @\n    \n    destroy: ->\n        @incito.destroy()\n\n        return\n    \n    _trackEvent: (e) ->\n        type = e.type\n        properties =\n            id: @options.id\n        eventTracker = @options.eventTracker\n\n        properties[key] = value for key, value of e.properties\n\n        eventTracker.trackEvent type, properties if eventTracker?\n\nMicroEvent.mixin Viewer\n\nmodule.exports = Viewer","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.Incito = factory());\n}(this, (function () { 'use strict';\n\n  function _typeof(obj) {\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _assertThisInitialized(self);\n  }\n\n  var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n  function createCommonjsModule(fn, module) {\n  \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n  }\n\n  var microevent = createCommonjsModule(function (module) {\n  /**\n   * MicroEvent - to make any js object an event emitter (server or browser)\n   * \n   * - pure javascript - server compatible, browser compatible\n   * - dont rely on the browser doms\n   * - super simple - you get it immediatly, no mistery, no magic involved\n   *\n   * - create a MicroEventDebug with goodies to debug\n   *   - make it safer to use\n  */\n\n  var MicroEvent\t= function(){};\n  MicroEvent.prototype\t= {\n  \tbind\t: function(event, fct){\n  \t\tthis._events = this._events || {};\n  \t\tthis._events[event] = this._events[event]\t|| [];\n  \t\tthis._events[event].push(fct);\n  \t},\n  \tunbind\t: function(event, fct){\n  \t\tthis._events = this._events || {};\n  \t\tif( event in this._events === false  )\treturn;\n  \t\tthis._events[event].splice(this._events[event].indexOf(fct), 1);\n  \t},\n  \ttrigger\t: function(event /* , args... */){\n  \t\tthis._events = this._events || {};\n  \t\tif( event in this._events === false  )\treturn;\n  \t\tfor(var i = 0; i < this._events[event].length; i++){\n  \t\t\tthis._events[event][i].apply(this, Array.prototype.slice.call(arguments, 1));\n  \t\t}\n  \t}\n  };\n\n  /**\n   * mixin will delegate all MicroEvent.js function in the destination object\n   *\n   * - require('MicroEvent').mixin(Foobar) will make Foobar able to use MicroEvent\n   *\n   * @param {Object} the object which will support MicroEvent\n  */\n  MicroEvent.mixin\t= function(destObject){\n  \tvar props\t= ['bind', 'unbind', 'trigger'];\n  \tfor(var i = 0; i < props.length; i ++){\n  \t\tdestObject.prototype[props[i]]\t= MicroEvent.prototype[props[i]];\n  \t}\n  };\n\n  // export in common js\n  if( 'object' !== \"undefined\" && ('exports' in module)){\n  \tmodule.exports\t= MicroEvent;\n  }\n  });\n\n  var _isObject = function (it) {\n    return typeof it === 'object' ? it !== null : typeof it === 'function';\n  };\n\n  var _anObject = function (it) {\n    if (!_isObject(it)) throw TypeError(it + ' is not an object!');\n    return it;\n  };\n\n  var _fails = function (exec) {\n    try {\n      return !!exec();\n    } catch (e) {\n      return true;\n    }\n  };\n\n  // Thank's IE8 for his funny defineProperty\n  var _descriptors = !_fails(function () {\n    return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n  });\n\n  var _global = createCommonjsModule(function (module) {\n  // https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n  var global = module.exports = typeof window != 'undefined' && window.Math == Math\n    ? window : typeof self != 'undefined' && self.Math == Math ? self\n    // eslint-disable-next-line no-new-func\n    : Function('return this')();\n  if (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n  });\n\n  var document$1 = _global.document;\n  // typeof document.createElement is 'object' in old IE\n  var is = _isObject(document$1) && _isObject(document$1.createElement);\n  var _domCreate = function (it) {\n    return is ? document$1.createElement(it) : {};\n  };\n\n  var _ie8DomDefine = !_descriptors && !_fails(function () {\n    return Object.defineProperty(_domCreate('div'), 'a', { get: function () { return 7; } }).a != 7;\n  });\n\n  // 7.1.1 ToPrimitive(input [, PreferredType])\n\n  // instead of the ES6 spec version, we didn't implement @@toPrimitive case\n  // and the second argument - flag - preferred type is a string\n  var _toPrimitive = function (it, S) {\n    if (!_isObject(it)) return it;\n    var fn, val;\n    if (S && typeof (fn = it.toString) == 'function' && !_isObject(val = fn.call(it))) return val;\n    if (typeof (fn = it.valueOf) == 'function' && !_isObject(val = fn.call(it))) return val;\n    if (!S && typeof (fn = it.toString) == 'function' && !_isObject(val = fn.call(it))) return val;\n    throw TypeError(\"Can't convert object to primitive value\");\n  };\n\n  var dP = Object.defineProperty;\n\n  var f = _descriptors ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n    _anObject(O);\n    P = _toPrimitive(P, true);\n    _anObject(Attributes);\n    if (_ie8DomDefine) try {\n      return dP(O, P, Attributes);\n    } catch (e) { /* empty */ }\n    if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n    if ('value' in Attributes) O[P] = Attributes.value;\n    return O;\n  };\n\n  var _objectDp = {\n  \tf: f\n  };\n\n  var _propertyDesc = function (bitmap, value) {\n    return {\n      enumerable: !(bitmap & 1),\n      configurable: !(bitmap & 2),\n      writable: !(bitmap & 4),\n      value: value\n    };\n  };\n\n  var _hide = _descriptors ? function (object, key, value) {\n    return _objectDp.f(object, key, _propertyDesc(1, value));\n  } : function (object, key, value) {\n    object[key] = value;\n    return object;\n  };\n\n  var hasOwnProperty = {}.hasOwnProperty;\n  var _has = function (it, key) {\n    return hasOwnProperty.call(it, key);\n  };\n\n  var id = 0;\n  var px = Math.random();\n  var _uid = function (key) {\n    return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n  };\n\n  var _core = createCommonjsModule(function (module) {\n  var core = module.exports = { version: '2.5.3' };\n  if (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n  });\n  var _core_1 = _core.version;\n\n  var _redefine = createCommonjsModule(function (module) {\n  var SRC = _uid('src');\n  var TO_STRING = 'toString';\n  var $toString = Function[TO_STRING];\n  var TPL = ('' + $toString).split(TO_STRING);\n\n  _core.inspectSource = function (it) {\n    return $toString.call(it);\n  };\n\n  (module.exports = function (O, key, val, safe) {\n    var isFunction = typeof val == 'function';\n    if (isFunction) _has(val, 'name') || _hide(val, 'name', key);\n    if (O[key] === val) return;\n    if (isFunction) _has(val, SRC) || _hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n    if (O === _global) {\n      O[key] = val;\n    } else if (!safe) {\n      delete O[key];\n      _hide(O, key, val);\n    } else if (O[key]) {\n      O[key] = val;\n    } else {\n      _hide(O, key, val);\n    }\n  // add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n  })(Function.prototype, TO_STRING, function toString() {\n    return typeof this == 'function' && this[SRC] || $toString.call(this);\n  });\n  });\n\n  // 7.2.1 RequireObjectCoercible(argument)\n  var _defined = function (it) {\n    if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n    return it;\n  };\n\n  var SHARED = '__core-js_shared__';\n  var store = _global[SHARED] || (_global[SHARED] = {});\n  var _shared = function (key) {\n    return store[key] || (store[key] = {});\n  };\n\n  var _wks = createCommonjsModule(function (module) {\n  var store = _shared('wks');\n\n  var Symbol = _global.Symbol;\n  var USE_SYMBOL = typeof Symbol == 'function';\n\n  var $exports = module.exports = function (name) {\n    return store[name] || (store[name] =\n      USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : _uid)('Symbol.' + name));\n  };\n\n  $exports.store = store;\n  });\n\n  var _fixReWks = function (KEY, length, exec) {\n    var SYMBOL = _wks(KEY);\n    var fns = exec(_defined, SYMBOL, ''[KEY]);\n    var strfn = fns[0];\n    var rxfn = fns[1];\n    if (_fails(function () {\n      var O = {};\n      O[SYMBOL] = function () { return 7; };\n      return ''[KEY](O) != 7;\n    })) {\n      _redefine(String.prototype, KEY, strfn);\n      _hide(RegExp.prototype, SYMBOL, length == 2\n        // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n        // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n        ? function (string, arg) { return rxfn.call(string, this, arg); }\n        // 21.2.5.6 RegExp.prototype[@@match](string)\n        // 21.2.5.9 RegExp.prototype[@@search](string)\n        : function (string) { return rxfn.call(string, this); }\n      );\n    }\n  };\n\n  // @@replace logic\n  _fixReWks('replace', 2, function (defined, REPLACE, $replace) {\n    // 21.1.3.14 String.prototype.replace(searchValue, replaceValue)\n    return [function replace(searchValue, replaceValue) {\n      var O = defined(this);\n      var fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return fn !== undefined\n        ? fn.call(searchValue, O, replaceValue)\n        : $replace.call(String(O), searchValue, replaceValue);\n    }, $replace];\n  });\n\n  var utils;\n  utils = {\n    formatUnit: function formatUnit(unit) {\n      if (unit == null) {\n        return 0;\n      } else if (typeof unit === 'number') {\n        return \"\".concat(unit, \"px\");\n      } else if (typeof unit === 'string') {\n        return unit.replace('dp', 'px');\n      } else {\n        return 0;\n      }\n    },\n    isDefinedStr: function isDefinedStr(value) {\n      return typeof value === 'string' && value.length > 0;\n    },\n    escapeHTML: function escapeHTML() {\n      var unsafe = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      return unsafe.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;').replace(/'/g, '&#039;');\n    },\n    throttle: function throttle(func, limit) {\n      var inThrottle;\n      inThrottle = void 0;\n      return function () {\n        var args, context;\n        args = arguments;\n        context = this;\n\n        if (!inThrottle) {\n          func.apply(context, args);\n          inThrottle = true;\n          setTimeout(function () {\n            inThrottle = false;\n          }, limit);\n        }\n      };\n    }\n  };\n  var utils_1 = utils;\n\n  var View,\n      utils$1,\n      indexOf = [].indexOf;\n  utils$1 = utils_1;\n\n  var view = View = function () {\n    var View =\n    /*#__PURE__*/\n    function () {\n      function View() {\n        var attrs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        _classCallCheck(this, View);\n\n        this.attrs = attrs;\n        this.el = this.createElement();\n        this.setAttributes();\n        return;\n      }\n\n      _createClass(View, [{\n        key: \"render\",\n        value: function render() {\n          return this;\n        }\n      }, {\n        key: \"createElement\",\n        value: function createElement() {\n          var className, el, ref;\n          el = document.createElement(this.tagName);\n          className = (ref = this.className) != null ? ref : '';\n          el.className = 'incito__view ' + className;\n          return el;\n        }\n      }, {\n        key: \"setAttributes\",\n        value: function setAttributes() {\n          var _this = this;\n\n          var ref, ref1, ref2, ref3, ref4, ref5, shadow, strokeStyles, transforms; // Identifier.\n\n          if (utils$1.isDefinedStr(this.attrs.id)) {\n            this.el.setAttribute('data-id', this.attrs.id);\n          } // Role.\n\n\n          if (utils$1.isDefinedStr(this.attrs.role)) {\n            this.el.setAttribute('data-role', this.attrs.role);\n          } // Accessibility label.\n\n\n          if (utils$1.isDefinedStr(this.attrs.accessibility_label)) {\n            this.el.setAttribute('aria-label', this.attrs.accessibility_label);\n          } // Accessibility visibility.\n\n\n          if (this.attrs.accessibility_hidden === true) {\n            this.el.setAttribute('aria-hidden', true);\n          } // Title.\n\n\n          if (utils$1.isDefinedStr(this.attrs.title)) {\n            this.el.setAttribute('title', this.attrs.title);\n          } // Gravity.\n\n\n          if (utils$1.isDefinedStr(this.attrs.gravity)) {\n            this.el.setAttribute('data-gravity', this.attrs.gravity);\n          } // Link.\n\n\n          if (utils$1.isDefinedStr(this.attrs.link)) {\n            this.el.setAttribute('data-link', '');\n            this.el.addEventListener('click', function () {\n              window.open(_this.attrs.link, '_blank');\n            }, false);\n          } // Width.\n\n\n          if (this.attrs.layout_width === 'match_parent') {\n            this.el.style.width = '100%';\n          } else if (this.attrs.layout_width === 'wrap_content') {\n            this.el.style.display = 'inline-block';\n          } else if (this.attrs.layout_width != null) {\n            this.el.style.width = utils$1.formatUnit(this.attrs.layout_width);\n          } // Height.\n\n\n          if (this.attrs.layout_height === 'match_parent') {\n            this.el.style.height = '100%';\n          } else if (this.attrs.layout_height === 'wrap_content') {\n            this.el.style.height = 'auto';\n          } else if (this.attrs.layout_height != null) {\n            this.el.style.height = utils$1.formatUnit(this.attrs.layout_height);\n          } // Min width.\n\n\n          if (this.attrs.min_width != null) {\n            this.el.style.minWidth = utils$1.formatUnit(this.attrs.min_width);\n          } // Max width.\n\n\n          if (this.attrs.max_width != null) {\n            this.el.style.maxWidth = utils$1.formatUnit(this.attrs.max_width);\n          } // Min height.\n\n\n          if (this.attrs.min_height != null) {\n            this.el.style.minHeight = utils$1.formatUnit(this.attrs.min_height);\n          } // Max height.\n\n\n          if (this.attrs.max_height != null) {\n            this.el.style.maxHeight = utils$1.formatUnit(this.attrs.max_height);\n          } // Position in relation to parent.\n\n\n          if (this.attrs.layout_top != null) {\n            this.el.style.top = utils$1.formatUnit(this.attrs.layout_top);\n          }\n\n          if (this.attrs.layout_left != null) {\n            this.el.style.left = utils$1.formatUnit(this.attrs.layout_left);\n          }\n\n          if (this.attrs.layout_right != null) {\n            this.el.style.right = utils$1.formatUnit(this.attrs.layout_right);\n          }\n\n          if (this.attrs.layout_bottom != null) {\n            this.el.style.bottom = utils$1.formatUnit(this.attrs.layout_bottom);\n          } // Background.\n\n\n          if (utils$1.isDefinedStr(this.attrs.background_color)) {\n            this.el.style.backgroundColor = this.attrs.background_color;\n          }\n\n          if (utils$1.isDefinedStr(this.attrs.background_image)) {\n            this.el.setAttribute('data-src', this.attrs.background_image);\n            this.lazyload = true;\n          }\n\n          if ((ref = this.attrs.background_tile_mode) === 'repeat_x' || ref === 'repeat_y' || ref === 'repeat') {\n            this.el.style.backgroundRepeat = this.attrs.background_tile_mode.replace('_', '-');\n          }\n\n          if (utils$1.isDefinedStr(this.attrs.background_image_position)) {\n            this.el.style.backgroundPosition = this.attrs.background_image_position.replace('_', ' ');\n          }\n\n          if (this.attrs.background_image_scale_type === 'center_crop') {\n            this.el.style.backgroundSize = 'cover';\n          } else if (this.attrs.background_image_scale_type === 'center_inside') {\n            this.el.style.backgroundSize = 'contain';\n          } // Margin.\n\n\n          if (this.attrs.layout_margin != null) {\n            this.el.style.margin = utils$1.formatUnit(this.attrs.layout_margin);\n          } else {\n            if (this.attrs.layout_margin_top != null) {\n              this.el.style.marginTop = utils$1.formatUnit(this.attrs.layout_margin_top);\n            }\n\n            if (this.attrs.layout_margin_left != null) {\n              this.el.style.marginLeft = utils$1.formatUnit(this.attrs.layout_margin_left);\n            }\n\n            if (this.attrs.layout_margin_right != null) {\n              this.el.style.marginRight = utils$1.formatUnit(this.attrs.layout_margin_right);\n            }\n\n            if (this.attrs.layout_margin_bottom != null) {\n              this.el.style.marginBottom = utils$1.formatUnit(this.attrs.layout_margin_bottom);\n            }\n          } // Padding.\n\n\n          if (this.attrs.padding != null) {\n            this.el.style.padding = utils$1.formatUnit(this.attrs.padding);\n          } else {\n            if (this.attrs.padding_top != null) {\n              this.el.style.paddingTop = utils$1.formatUnit(this.attrs.padding_top);\n            }\n\n            if (this.attrs.padding_left != null) {\n              this.el.style.paddingLeft = utils$1.formatUnit(this.attrs.padding_left);\n            }\n\n            if (this.attrs.padding_right != null) {\n              this.el.style.paddingRight = utils$1.formatUnit(this.attrs.padding_right);\n            }\n\n            if (this.attrs.padding_bottom != null) {\n              this.el.style.paddingBottom = utils$1.formatUnit(this.attrs.padding_bottom);\n            }\n          } // Corner radius.\n\n\n          if (this.attrs.corner_radius != null) {\n            this.el.style.borderRadius = utils$1.formatUnit(this.attrs.corner_radius);\n          } else {\n            if (this.attrs.corner_top_left_radius != null) {\n              this.el.style.borderTopLeftRadius = utils$1.formatUnit(this.attrs.corner_top_left_radius);\n            }\n\n            if (this.attrs.corner_top_right_radius != null) {\n              this.el.style.borderTopRightRadius = utils$1.formatUnit(this.attrs.corner_top_right_radius);\n            }\n\n            if (this.attrs.corner_bottom_left_radius != null) {\n              this.el.style.borderBottomLeftRadius = utils$1.formatUnit(this.attrs.corner_bottom_left_radius);\n            }\n\n            if (this.attrs.corner_bottom_right_radius != null) {\n              this.el.style.borderBottomRightRadius = utils$1.formatUnit(this.attrs.corner_bottom_right_radius);\n            }\n          } // Clip children.\n\n\n          if (this.attrs.clip_children === false) {\n            this.el.style.overflow = 'visible';\n          } // Shadow.\n\n\n          shadow = this.getShadow();\n\n          if (shadow != null) {\n            this.el.style.boxShadow = \"\".concat(shadow.dx, \"px \").concat(shadow.dy, \"px \").concat(shadow.radius, \"px \").concat(shadow.color);\n          } // Stroke.\n\n\n          strokeStyles = ['solid', 'dotted', 'dashed'];\n\n          if (this.attrs.stroke_width != null) {\n            this.el.style.borderWidth = utils$1.formatUnit(this.attrs.stroke_width);\n          }\n\n          if (this.attrs.stroke_color != null) {\n            this.el.style.borderColor = this.attrs.stroke_color;\n          }\n\n          if (ref1 = this.attrs.stroke_style, indexOf.call(strokeStyles, ref1) >= 0) {\n            this.el.style.borderStyle = this.attrs.stroke_style;\n          }\n\n          if (this.attrs.stroke_top_width != null) {\n            this.el.style.borderTopWidth = utils$1.formatUnit(this.attrs.stroke_top_width);\n          }\n\n          if (this.attrs.stroke_top_color != null) {\n            this.el.style.borderTopColor = this.attrs.stroke_top_color;\n          }\n\n          if (ref2 = this.attrs.stroke_top_style, indexOf.call(strokeStyles, ref2) >= 0) {\n            this.el.style.borderTopStyle = this.attrs.stroke_top_style;\n          }\n\n          if (this.attrs.stroke_left_width != null) {\n            this.el.style.borderLeftWidth = utils$1.formatUnit(this.attrs.stroke_left_width);\n          }\n\n          if (this.attrs.stroke_left_color != null) {\n            this.el.style.borderLeftColor = this.attrs.stroke_left_color;\n          }\n\n          if (ref3 = this.attrs.stroke_left_style, indexOf.call(strokeStyles, ref3) >= 0) {\n            this.el.style.borderLeftStyle = this.attrs.stroke_left_style;\n          }\n\n          if (this.attrs.stroke_right_width != null) {\n            this.el.style.borderRightWidth = utils$1.formatUnit(this.attrs.stroke_right_width);\n          }\n\n          if (this.attrs.stroke_right_color != null) {\n            this.el.style.borderRightColor = this.attrs.stroke_right_color;\n          }\n\n          if (ref4 = this.attrs.stroke_right_style, indexOf.call(strokeStyles, ref4) >= 0) {\n            this.el.style.borderRightStyle = this.attrs.stroke_right_style;\n          }\n\n          if (this.attrs.stroke_bottom_width != null) {\n            this.el.style.borderBottomWidth = utils$1.formatUnit(this.attrs.stroke_bottom_width);\n          }\n\n          if (this.attrs.stroke_bottom_color != null) {\n            this.el.style.borderBottomColor = this.attrs.stroke_bottom_color;\n          }\n\n          if (ref5 = this.attrs.stroke_bottom_style, indexOf.call(strokeStyles, ref5) >= 0) {\n            this.el.style.borderBottomStyle = this.attrs.stroke_bottom_style;\n          } // Transforms.\n\n\n          transforms = this.getTransforms();\n\n          if (transforms.length > 0) {\n            this.el.style.transform = transforms.join(' ');\n          } // Transform origin.\n\n\n          if (Array.isArray(this.attrs.transform_origin) && this.attrs.transform_origin.length === 2) {\n            this.el.style.transformOrigin = [utils$1.formatUnit(this.attrs.transform_origin[0]), utils$1.formatUnit(this.attrs.transform_origin[1])].join(' ');\n          }\n        }\n      }, {\n        key: \"getTransforms\",\n        value: function getTransforms() {\n          var transforms, translateX, translateY;\n          transforms = [];\n          translateX = utils$1.formatUnit(this.attrs.transform_translate_x);\n          translateY = utils$1.formatUnit(this.attrs.transform_translate_y);\n\n          if (translateX !== 0) {\n            transforms.push(\"translateX(\".concat(translateX, \")\"));\n          }\n\n          if (translateY !== 0) {\n            transforms.push(\"translateY(\".concat(translateY, \")\"));\n          }\n\n          if (typeof this.attrs.transform_rotate === 'number' && this.attrs.transform_rotate !== 0) {\n            transforms.push(\"rotate(\".concat(this.attrs.transform_rotate, \"deg)\"));\n          }\n\n          if (typeof this.attrs.transform_scale === 'number' && this.attrs.transform_scale !== 1) {\n            transforms.push(\"scale(\".concat(this.attrs.transform_scale, \")\"));\n          }\n\n          return transforms;\n        }\n      }, {\n        key: \"getShadow\",\n        value: function getShadow() {\n          var color, dx, dy, radius;\n\n          if (utils$1.isDefinedStr(this.attrs.shadow_color)) {\n            dx = typeof this.attrs.shadow_dx === 'number' ? this.attrs.shadow_dx : 0;\n            dy = typeof this.attrs.shadow_dy === 'number' ? this.attrs.shadow_dy : 0;\n            radius = typeof this.attrs.shadow_radius === 'number' ? this.attrs.shadow_radius : 0;\n            color = this.attrs.shadow_color;\n            return {\n              dx: dx,\n              dy: dy,\n              radius: radius,\n              color: color\n            };\n          }\n        }\n      }]);\n\n      return View;\n    }();\n    View.prototype.tagName = 'div';\n    View.prototype.className = null;\n    return View;\n  }.call(commonjsGlobal);\n\n  var view = View;\n\n  var FragView;\n\n  var frag = FragView =\n  /*#__PURE__*/\n  function () {\n    function FragView() {\n      _classCallCheck(this, FragView);\n    }\n\n    _createClass(FragView, [{\n      key: \"render\",\n      value: function render() {\n        this.el = document.createDocumentFragment();\n        return this;\n      }\n    }]);\n\n    return FragView;\n  }();\n\n  var require$$0 = view;\n\n  var Image, View$1, utils$2;\n  View$1 = require$$0;\n  utils$2 = utils_1;\n\n  var image = Image = function () {\n    var Image =\n    /*#__PURE__*/\n    function (_View) {\n      _inherits(Image, _View);\n\n      function Image() {\n        _classCallCheck(this, Image);\n\n        return _possibleConstructorReturn(this, (Image.__proto__ || Object.getPrototypeOf(Image)).apply(this, arguments));\n      }\n\n      _createClass(Image, [{\n        key: \"render\",\n        value: function render() {\n          if (utils$2.isDefinedStr(this.attrs.src)) {\n            this.el.setAttribute('data-src', this.attrs.src);\n          }\n\n          if (utils$2.isDefinedStr(this.attrs.label)) {\n            this.el.setAttribute('alt', this.attrs.label);\n          } else {\n            this.el.setAttribute('alt', '');\n          }\n\n          return this;\n        }\n      }]);\n\n      return Image;\n    }(View$1);\n    Image.prototype.tagName = 'img';\n    Image.prototype.className = 'incito__image-view';\n    Image.prototype.lazyload = true;\n    return Image;\n  }.call(commonjsGlobal);\n\n  var dP$1 = _objectDp.f;\n  var FProto = Function.prototype;\n  var nameRE = /^\\s*function ([^ (]*)/;\n  var NAME = 'name';\n\n  // 19.2.4.2 name\n  NAME in FProto || _descriptors && dP$1(FProto, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return ('' + this).match(nameRE)[1];\n      } catch (e) {\n        return '';\n      }\n    }\n  });\n\n  var toString = {}.toString;\n\n  var _cof = function (it) {\n    return toString.call(it).slice(8, -1);\n  };\n\n  // 7.2.8 IsRegExp(argument)\n\n\n  var MATCH = _wks('match');\n  var _isRegexp = function (it) {\n    var isRegExp;\n    return _isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : _cof(it) == 'RegExp');\n  };\n\n  // @@split logic\n  _fixReWks('split', 2, function (defined, SPLIT, $split) {\n    var isRegExp = _isRegexp;\n    var _split = $split;\n    var $push = [].push;\n    var $SPLIT = 'split';\n    var LENGTH = 'length';\n    var LAST_INDEX = 'lastIndex';\n    if (\n      'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n      'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n      'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n      '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n      '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n      ''[$SPLIT](/.?/)[LENGTH]\n    ) {\n      var NPCG = /()??/.exec('')[1] === undefined; // nonparticipating capturing group\n      // based on es5-shim implementation, need to rework it\n      $split = function (separator, limit) {\n        var string = String(this);\n        if (separator === undefined && limit === 0) return [];\n        // If `separator` is not a regex, use native split\n        if (!isRegExp(separator)) return _split.call(string, separator, limit);\n        var output = [];\n        var flags = (separator.ignoreCase ? 'i' : '') +\n                    (separator.multiline ? 'm' : '') +\n                    (separator.unicode ? 'u' : '') +\n                    (separator.sticky ? 'y' : '');\n        var lastLastIndex = 0;\n        var splitLimit = limit === undefined ? 4294967295 : limit >>> 0;\n        // Make `global` and avoid `lastIndex` issues by working with a copy\n        var separatorCopy = new RegExp(separator.source, flags + 'g');\n        var separator2, match, lastIndex, lastLength, i;\n        // Doesn't need flags gy, but they don't hurt\n        if (!NPCG) separator2 = new RegExp('^' + separatorCopy.source + '$(?!\\\\s)', flags);\n        while (match = separatorCopy.exec(string)) {\n          // `separatorCopy.lastIndex` is not reliable cross-browser\n          lastIndex = match.index + match[0][LENGTH];\n          if (lastIndex > lastLastIndex) {\n            output.push(string.slice(lastLastIndex, match.index));\n            // Fix browsers whose `exec` methods don't consistently return `undefined` for NPCG\n            // eslint-disable-next-line no-loop-func\n            if (!NPCG && match[LENGTH] > 1) match[0].replace(separator2, function () {\n              for (i = 1; i < arguments[LENGTH] - 2; i++) if (arguments[i] === undefined) match[i] = undefined;\n            });\n            if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));\n            lastLength = match[0][LENGTH];\n            lastLastIndex = lastIndex;\n            if (output[LENGTH] >= splitLimit) break;\n          }\n          if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n        }\n        if (lastLastIndex === string[LENGTH]) {\n          if (lastLength || !separatorCopy.test('')) output.push('');\n        } else output.push(string.slice(lastLastIndex));\n        return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n      };\n    // Chakra, V8\n    } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {\n      $split = function (separator, limit) {\n        return separator === undefined && limit === 0 ? [] : _split.call(this, separator, limit);\n      };\n    }\n    // 21.1.3.17 String.prototype.split(separator, limit)\n    return [function split(separator, limit) {\n      var O = defined(this);\n      var fn = separator == undefined ? undefined : separator[SPLIT];\n      return fn !== undefined ? fn.call(separator, O, limit) : $split.call(String(O), separator, limit);\n    }, $split];\n  });\n\n  var TextView,\n      View$2,\n      utils$3,\n      indexOf$1 = [].indexOf;\n  View$2 = require$$0;\n  utils$3 = utils_1;\n\n  var text = TextView = function () {\n    var TextView =\n    /*#__PURE__*/\n    function (_View) {\n      _inherits(TextView, _View);\n\n      function TextView() {\n        _classCallCheck(this, TextView);\n\n        return _possibleConstructorReturn(this, (TextView.__proto__ || Object.getPrototypeOf(TextView)).apply(this, arguments));\n      }\n\n      _createClass(TextView, [{\n        key: \"render\",\n        value: function render() {\n          var parsedText, ref, text, textShadow, textStyles;\n          textStyles = (this.attrs.text_style || '').split('|');\n          text = this.attrs.text;\n\n          if (Array.isArray(this.attrs.spans) && this.attrs.spans.length > 0) {\n            parsedText = this.parseSpans(text, this.attrs.spans);\n            text = parsedText.map(function (item) {\n              var escapedText, spanName;\n              escapedText = utils$3.escapeHTML(item.text || '');\n\n              if (item.span != null && item.span.name === 'link' && item.span.url != null) {\n                return '<a href=\"' + encodeURI(item.span.url) + '\" rel=\"external\" target=\"_blank\">' + escapedText + '</a>';\n              } else if (item.span != null && item.span.name != null) {\n                spanName = item.span.name;\n                return '<span data-name=\"' + spanName + '\">' + escapedText + '</span>';\n              } else {\n                return escapedText;\n              }\n            });\n            text = text.join('');\n          } else {\n            text = utils$3.escapeHTML(text);\n          }\n\n          if (this.attrs.text_prevent_widow) {\n            this.el.innerHTML = text.replace(/\\&nbsp;([^\\s]+)$/, ' $1').replace(/\\s([^\\s]+)\\s*$/, '&nbsp;$1');\n          } else {\n            this.el.innerHTML = text;\n          } // Font family.\n\n\n          if (Array.isArray(this.attrs.font_family) && this.attrs.font_family.length > 0) {\n            this.el.style.fontFamily = this.attrs.font_family.join(', ');\n          } // Text size.\n\n\n          if (this.attrs.text_size != null) {\n            this.el.style.fontSize = \"\".concat(this.attrs.text_size, \"px\");\n          } // Line height.\n\n\n          if (this.attrs.line_spacing_multiplier != null) {\n            this.el.style.lineHeight = this.attrs.line_spacing_multiplier;\n          } // Text color.\n\n\n          if (this.attrs.text_color != null) {\n            this.el.style.color = this.attrs.text_color;\n          } // Text styles.\n\n\n          if (indexOf$1.call(textStyles, 'bold') >= 0) {\n            this.el.style.fontWeight = 'bold';\n          }\n\n          if (indexOf$1.call(textStyles, 'italic') >= 0) {\n            this.el.style.fontStyle = 'italic';\n          } // Text shadow.\n\n\n          textShadow = this.getTextShadow();\n\n          if (textShadow != null) {\n            this.el.style.textShadow = \"\".concat(textShadow.dx, \"px \").concat(textShadow.dy, \"px \").concat(textShadow.radius, \"px \").concat(textShadow.color);\n          } // Text alignment.\n\n\n          if (this.attrs.text_alignment === 'left') {\n            this.el.style.textAlign = 'left';\n          } else if (this.attrs.text_alignment === 'center') {\n            this.el.style.textAlign = 'center';\n          } else if (this.attrs.text_alignment === 'right') {\n            this.el.style.textAlign = 'right';\n          } // Font stretch.\n\n\n          if ((ref = this.attrs.font_stretch) === 'condensed' || ref === 'normal' || ref === 'expanded') {\n            this.el.style.fontStretch = this.attrs.font_stretch;\n          } // Max lines.\n\n\n          if (this.attrs.single_line === true || this.attrs.max_lines === 1) {\n            this.el.setAttribute('data-single-line', true);\n          } else if (typeof this.attrs.max_lines === 'number') {\n            this.el.style.display = '-webkit-box';\n            this.el.style.webkitLineClamp = this.attrs.max_lines;\n            this.el.style.webkitBoxOrient = 'vertical';\n          } // All caps.\n\n\n          if (this.attrs.text_all_caps === true) {\n            this.el.style.textTransform = 'uppercase';\n          }\n\n          return this;\n        }\n      }, {\n        key: \"parseSpans\",\n        value: function parseSpans(text) {\n          var spans = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n          var result;\n          result = [];\n\n          if (spans.length === 0) {\n            result.push({\n              text: text\n            });\n          } else if (spans[0].start > 0) {\n            result.push({\n              text: text.slice(0, spans[0].start)\n            });\n          }\n\n          spans.forEach(function (span, i) {\n            var endIndex, startIndex;\n            startIndex = span.start;\n            endIndex = span.end;\n            result.push({\n              text: text.slice(startIndex, endIndex),\n              span: span\n            });\n\n            if (i === spans.length - 1) {\n              if (endIndex < text.length) {\n                result.push({\n                  text: text.slice(endIndex, text.length)\n                });\n              }\n            } else if (endIndex < spans[i + 1].start) {\n              result.push({\n                text: text.slice(endIndex, spans[i + 1].start)\n              });\n            }\n          });\n          return result;\n        }\n      }, {\n        key: \"getTextShadow\",\n        value: function getTextShadow() {\n          var color, dx, dy, radius;\n\n          if (utils$3.isDefinedStr(this.attrs.text_shadow_color)) {\n            dx = typeof this.attrs.text_shadow_dx === 'number' ? this.attrs.text_shadow_dx : 0;\n            dy = typeof this.attrs.text_shadow_dy === 'number' ? this.attrs.text_shadow_dy : 0;\n            radius = typeof this.attrs.text_shadow_radius === 'number' ? this.attrs.text_shadow_radius : 0;\n            color = this.attrs.text_shadow_color;\n            return {\n              dx: dx,\n              dy: dy,\n              radius: radius,\n              color: color\n            };\n          }\n        }\n      }]);\n\n      return TextView;\n    }(View$2);\n    TextView.prototype.tagName = 'p';\n    TextView.prototype.className = 'incito__text-view';\n    return TextView;\n  }.call(commonjsGlobal);\n\n  var FlexLayout,\n      View$3,\n      allowedHostnames,\n      utils$4,\n      indexOf$2 = [].indexOf;\n  View$3 = require$$0;\n  utils$4 = utils_1;\n  allowedHostnames = ['www.youtube.com', 'www.vimeo.com', 'video.twentythree.net'];\n\n  var videoEmbed = FlexLayout = function () {\n    var FlexLayout =\n    /*#__PURE__*/\n    function (_View) {\n      _inherits(FlexLayout, _View);\n\n      function FlexLayout() {\n        _classCallCheck(this, FlexLayout);\n\n        return _possibleConstructorReturn(this, (FlexLayout.__proto__ || Object.getPrototypeOf(FlexLayout)).apply(this, arguments));\n      }\n\n      _createClass(FlexLayout, [{\n        key: \"render\",\n        value: function render() {\n          var linkEl, ref, src;\n\n          if (utils$4.isDefinedStr(this.attrs.src)) {\n            src = this.attrs.src;\n            linkEl = document.createElement('a');\n            linkEl.setAttribute('href', src);\n\n            if (ref = linkEl.hostname, indexOf$2.call(allowedHostnames, ref) >= 0) {\n              this.el.setAttribute('data-src', src);\n              this.lazyload = true;\n            }\n          }\n\n          return this;\n        }\n      }]);\n\n      return FlexLayout;\n    }(View$3);\n    FlexLayout.prototype.className = 'incito__video-embed-view';\n    FlexLayout.prototype.lazyload = false;\n    return FlexLayout;\n  }.call(commonjsGlobal);\n\n  var Video, View$4, utils$5;\n  View$4 = require$$0;\n  utils$5 = utils_1;\n\n  var video = Video = function () {\n    var Video =\n    /*#__PURE__*/\n    function (_View) {\n      _inherits(Video, _View);\n\n      function Video() {\n        _classCallCheck(this, Video);\n\n        return _possibleConstructorReturn(this, (Video.__proto__ || Object.getPrototypeOf(Video)).apply(this, arguments));\n      }\n\n      _createClass(Video, [{\n        key: \"render\",\n        value: function render() {\n          if (!utils$5.isDefinedStr(this.attrs.src)) {\n            return;\n          }\n\n          if (this.attrs.autoplay === true) {\n            this.el.setAttribute('autoplay', '');\n          }\n\n          if (this.attrs.loop === true) {\n            this.el.setAttribute('loop', '');\n          }\n\n          if (this.attrs.controls === true) {\n            this.el.setAttribute('controls', '');\n          }\n\n          this.el.setAttribute('muted', 'true');\n          this.el.setAttribute('preload', 'metadata');\n          this.el.setAttribute('playsinline', '');\n          this.el.setAttribute('data-src', this.attrs.src);\n          this.el.setAttribute('data-mime', this.attrs.mime);\n          return this;\n        }\n      }]);\n\n      return Video;\n    }(View$4);\n    Video.prototype.className = 'incito__video-view';\n    Video.prototype.tagName = 'video';\n    Video.prototype.lazyload = true;\n    return Video;\n  }.call(commonjsGlobal);\n\n  var LinearLayout, View$5;\n  View$5 = require$$0;\n\n  var linearLayout = LinearLayout = function () {\n    var LinearLayout =\n    /*#__PURE__*/\n    function (_View) {\n      _inherits(LinearLayout, _View);\n\n      function LinearLayout() {\n        _classCallCheck(this, LinearLayout);\n\n        return _possibleConstructorReturn(this, (LinearLayout.__proto__ || Object.getPrototypeOf(LinearLayout)).apply(this, arguments));\n      }\n\n      _createClass(LinearLayout, [{\n        key: \"render\",\n        value: function render() {\n          return this;\n        }\n      }]);\n\n      return LinearLayout;\n    }(View$5);\n    LinearLayout.prototype.className = 'incito__linear-layout-view';\n    return LinearLayout;\n  }.call(commonjsGlobal);\n\n  var AbsoluteLayout, View$6;\n  View$6 = require$$0;\n\n  var absoluteLayout = AbsoluteLayout = function () {\n    var AbsoluteLayout =\n    /*#__PURE__*/\n    function (_View) {\n      _inherits(AbsoluteLayout, _View);\n\n      function AbsoluteLayout() {\n        _classCallCheck(this, AbsoluteLayout);\n\n        return _possibleConstructorReturn(this, (AbsoluteLayout.__proto__ || Object.getPrototypeOf(AbsoluteLayout)).apply(this, arguments));\n      }\n\n      _createClass(AbsoluteLayout, [{\n        key: \"render\",\n        value: function render() {\n          return this;\n        }\n      }]);\n\n      return AbsoluteLayout;\n    }(View$6);\n    AbsoluteLayout.prototype.className = 'incito__absolute-layout-view';\n    return AbsoluteLayout;\n  }.call(commonjsGlobal);\n\n  var FlexLayout$1,\n      View$7,\n      alignContentModes,\n      alignItemModes,\n      flexDirectionModes,\n      flexJustifyModes,\n      utils$6,\n      indexOf$3 = [].indexOf;\n  View$7 = require$$0;\n  utils$6 = utils_1;\n  alignItemModes = ['stretch', 'center', 'flex-start', 'flex-end', 'baseline'];\n  alignContentModes = ['stretch', 'center', 'flex-start', 'flex-end', 'space-between', 'space-around', 'initial', 'inherit'];\n  flexJustifyModes = ['flex-start', 'flex-end', 'center', 'space-between', 'space-around'];\n  flexDirectionModes = ['row', 'column'];\n\n  var flexLayout = FlexLayout$1 = function () {\n    var FlexLayout =\n    /*#__PURE__*/\n    function (_View) {\n      _inherits(FlexLayout, _View);\n\n      function FlexLayout() {\n        _classCallCheck(this, FlexLayout);\n\n        return _possibleConstructorReturn(this, (FlexLayout.__proto__ || Object.getPrototypeOf(FlexLayout)).apply(this, arguments));\n      }\n\n      _createClass(FlexLayout, [{\n        key: \"render\",\n        value: function render() {\n          var ref, ref1, ref2, ref3;\n\n          if (ref = this.attrs.layout_flex_align_items, indexOf$3.call(alignItemModes, ref) >= 0) {\n            this.el.style.alignItems = this.attrs.layout_flex_align_items;\n            this.el.style.msAlignItems = this.attrs.layout_flex_align_items;\n          }\n\n          if (ref1 = this.attrs.layout_flex_align_content, indexOf$3.call(alignContentModes, ref1) >= 0) {\n            this.el.style.alignContent = this.attrs.layout_flex_align_content;\n            this.el.style.msAlignContent = this.attrs.layout_flex_align_content;\n          }\n\n          if (ref2 = this.attrs.layout_flex_justify_content, indexOf$3.call(flexJustifyModes, ref2) >= 0) {\n            this.el.style.justifyContent = this.attrs.layout_flex_justify_content;\n            this.el.style.msFlexPack = this.attrs.layout_flex_justify_content;\n          }\n\n          if (ref3 = this.attrs.layout_flex_direction, indexOf$3.call(flexDirectionModes, ref3) >= 0) {\n            this.el.style.flexDirection = this.attrs.layout_flex_direction;\n            this.el.style.msFlexDirection = this.attrs.layout_flex_direction;\n          }\n\n          if (typeof this.attrs.layout_flex_shrink === 'number') {\n            this.el.style.flexShrink = this.attrs.layout_flex_shrink;\n            this.el.style.msFlexShrink = this.attrs.layout_flex_shrink;\n          }\n\n          if (typeof this.attrs.layout_flex_grow === 'number') {\n            this.el.style.flexGrow = this.attrs.layout_flex_grow;\n            this.el.style.msFlexGrow = this.attrs.layout_flex_grow;\n          }\n\n          if (this.attrs.layout_flex_basis != null) {\n            this.el.style.flexBasis = utils$6.parseUnit(this.attrs.layout_flex_basis);\n            this.el.style.msFlexBasis = utils$6.parseUnit(this.attrs.layout_flex_basis);\n          }\n\n          return this;\n        }\n      }]);\n\n      return FlexLayout;\n    }(View$7);\n    FlexLayout.prototype.className = 'incito__flex-layout-view';\n    return FlexLayout;\n  }.call(commonjsGlobal);\n\n  var AbsoluteLayout$1, FlexLayout$2, FragView$1, ImageView, Incito, LinearLayout$1, MicroEvent, TextView$1, VideoEmbedView, VideoView, View$8, utils$7;\n  MicroEvent = microevent;\n  utils$7 = utils_1;\n  View$8 = require$$0;\n  FragView$1 = frag;\n  ImageView = image;\n  TextView$1 = text;\n  VideoEmbedView = videoEmbed;\n  VideoView = video;\n  LinearLayout$1 = linearLayout;\n  AbsoluteLayout$1 = absoluteLayout;\n  FlexLayout$2 = flexLayout;\n\n  Incito =\n  /*#__PURE__*/\n  function () {\n    function Incito(containerEl) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      _classCallCheck(this, Incito);\n\n      this.containerEl = containerEl;\n      this.options = options;\n      this.el = document.createElement('div');\n      this.entries = [];\n      this.ids = {};\n      return;\n    }\n\n    _createClass(Incito, [{\n      key: \"start\",\n      value: function start() {\n        var incito;\n        incito = this.options.incito || {};\n        this.el.className = 'incito';\n\n        if (incito.locale != null) {\n          this.el.setAttribute('lang', incito.locale);\n        }\n\n        this.loadFonts(incito.font_assets);\n        this.applyTheme(incito.theme);\n        this.render(this.el, incito.root_view);\n        this.containerEl.appendChild(this.el);\n        this.lazyload();\n        return this;\n      }\n    }, {\n      key: \"destroy\",\n      value: function destroy() {\n        this.containerEl.removeChild(this.el);\n\n        if (this.lazyloadCheck != null) {\n          window.removeEventListener('scroll', this.lazyloadCheck, false);\n          window.removeEventListener('resize', this.lazyloadCheck, false);\n        }\n\n        this.trigger('destroyed');\n      }\n    }, {\n      key: \"render\",\n      value: function render(el) {\n        var _this = this;\n\n        var attrs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var match, ref, view, viewName, views;\n        match = null;\n        viewName = attrs.view_name;\n        views = {\n          View: View$8,\n          FragView: FragView$1,\n          ImageView: ImageView,\n          TextView: TextView$1,\n          VideoEmbedView: VideoEmbedView,\n          VideoView: VideoView,\n          LinearLayout: LinearLayout$1,\n          AbsoluteLayout: AbsoluteLayout$1,\n          FlexLayout: FlexLayout$2\n        };\n        match = (ref = views[viewName]) != null ? ref : View$8;\n        view = new match(attrs).render();\n\n        if (view.lazyload === true) {\n          this.entries.push(view.el);\n        }\n\n        if (attrs.id != null && _typeof(attrs.meta) === 'object') {\n          this.ids[attrs.id] = attrs.meta;\n        }\n\n        if (Array.isArray(attrs.child_views)) {\n          attrs.child_views.forEach(function (childView) {\n            _this.render(view.el, childView);\n          });\n        }\n\n        el.appendChild(view.el);\n        return view.el;\n      }\n    }, {\n      key: \"applyTheme\",\n      value: function applyTheme() {\n        var theme = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        if (Array.isArray(theme.font_family)) {\n          this.el.style.fontFamily = theme.font_family.join(', ');\n        }\n\n        if (utils$7.isDefinedStr(theme.background_color)) {\n          this.el.style.backgroundColor = theme.background_color;\n        }\n\n        if (utils$7.isDefinedStr(theme.text_color)) {\n          this.el.style.color = theme.text_color;\n        }\n\n        if (typeof theme.line_spacing_multiplier === 'number') {\n          this.el.style.lineHeight = theme.line_spacing_multiplier;\n        }\n      }\n    }, {\n      key: \"loadFonts\",\n      value: function loadFonts() {\n        var fontAssets = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var font, key, ref, ref1, styleEl, text$$1, urls, value;\n\n        if ('FontFace' in window) {\n          for (key in fontAssets) {\n            value = fontAssets[key];\n            urls = value.src.map(function (src) {\n              return \"url(\".concat(src[1], \")\");\n            }).join(', ');\n            font = new FontFace(key, urls, {\n              style: (ref = value.style) != null ? ref : 'normal',\n              weight: (ref1 = value.weight) != null ? ref1 : 'normal'\n            });\n            document.fonts.add(font);\n            font.load();\n          }\n        } else {\n          styleEl = document.createElement('style');\n\n          for (key in fontAssets) {\n            value = fontAssets[key];\n            urls = value.src.map(function (src) {\n              return \"url('\".concat(src[1], \"') format('\").concat(src[0], \"')\");\n            }).join(', ');\n            text$$1 = \"@font-face {\\n    font-family: '\".concat(key, \"';\\n    src: \").concat(urls, \";\\n}\");\n            styleEl.appendChild(document.createTextNode(text$$1));\n          }\n\n          document.head.appendChild(styleEl);\n        }\n      }\n    }, {\n      key: \"lazyload\",\n      value: function lazyload() {\n        var _this2 = this;\n\n        var check, isInsideViewport, observer, threshold;\n        threshold = 1000;\n\n        if ('IntersectionObserver' in window) {\n          observer = new IntersectionObserver(function (entries) {\n            entries.forEach(function (entry) {\n              if (entry.isIntersecting || entry.intersectionRatio > 0) {\n                _this2.revealElement(entry.target);\n\n                observer.unobserve(entry.target);\n              }\n            });\n          }, {\n            rootMargin: \"\".concat(threshold, \"px\")\n          });\n          this.entries.forEach(observer.observe.bind(observer));\n        } else {\n          isInsideViewport = function isInsideViewport(el) {\n            var rect, ref, windowHeight;\n            rect = el.getBoundingClientRect();\n            windowHeight = (ref = window.innerHeight) != null ? ref : document.documentElement.clientHeight;\n            return rect.top <= windowHeight + threshold && rect.top + rect.height >= -threshold;\n          };\n\n          check = function check() {\n            _this2.entries = _this2.entries.filter(function (el) {\n              if (isInsideViewport(el)) {\n                _this2.revealElement(el);\n\n                return false;\n              } else {\n                return true;\n              }\n            });\n          };\n\n          this.lazyloadCheck = utils$7.throttle(check, 150);\n          window.addEventListener('scroll', this.lazyloadCheck, false);\n          window.addEventListener('resize', this.lazyloadCheck, false);\n          setTimeout(check, 0);\n        }\n      }\n    }, {\n      key: \"revealElement\",\n      value: function revealElement(el) {\n        var iframeEl, sourceEl, src;\n        src = el.getAttribute('data-src');\n\n        if (el.tagName.toLowerCase() === 'img') {\n          el.addEventListener('load', function () {\n            el.className += ' incito--loaded';\n          });\n          el.setAttribute('src', src);\n        } else if (el.tagName.toLowerCase() === 'video') {\n          sourceEl = document.createElement('source');\n          sourceEl.setAttribute('src', src);\n          sourceEl.setAttribute('type', el.getAttribute('data-mime'));\n          el.appendChild(sourceEl);\n        } else if (/incito__video-embed-view/gi.test(el.className)) {\n          iframeEl = document.createElement('iframe');\n          iframeEl.setAttribute('src', src);\n          el.appendChild(iframeEl);\n        } else {\n          el.style.backgroundImage = \"url(\".concat(src, \")\");\n        }\n      }\n    }]);\n\n    return Incito;\n  }();\n\n  MicroEvent.mixin(Incito);\n  var incito = Incito;\n\n  return incito;\n\n})));\n//# sourceMappingURL=incito.js.map\n","module.exports = class Controls\n    constructor: (@viewer) ->\n        @progressEl = @viewer.el.querySelector '.sgn-incito__progress'\n        @scrollListener = @scroll.bind @\n\n        if @progressEl?\n            window.addEventListener 'scroll', @scrollListener, false\n\n            @viewer.bind 'destroyed', =>\n                window.removeEventListener 'scroll', @scrollListener\n\n                return\n\n        return\n    \n    scroll: ->\n        scrollTop = window.scrollY\n        winHeight = window.innerHeight\n        docHeight = document.body.clientHeight\n        progress = Math.round (scrollTop + winHeight) / docHeight * 100\n\n        if scrollTop < 300\n            @progressEl.style.opacity = 0\n        else if scrollTop >= docHeight - winHeight\n            @progressEl.textContent = '100%'\n            @progressEl.style.opacity = 1\n        else\n            @progressEl.textContent = \"#{progress} %\"\n            @progressEl.style.opacity = 1\n\n        return","util = require '../../util'\nSGN = require '../../core'\nControls = require './controls'\nschema = require '../../../graphql/incito.graphql'\n\nmodule.exports = class Bootstrapper\n    constructor: (@options = {}) ->\n        @deviceCategory = @getDeviceCategory()\n        @pixelRatio = @getPixelRatio()\n        @pointer = @getPointer()\n        @orientation = @getOrientation()\n        @maxWidth = @getMaxWidth()\n        @versionsSupported = ['1.0.0']\n        @storageKey = \"incito-#{@options.id}\"\n\n        return\n    \n    getDeviceCategory: ->\n        util.getDeviceCategory()\n    \n    getPixelRatio: ->\n        window.devicePixelRatio or 1\n    \n    getPointer: ->\n        util.getPointer()\n    \n    getOrientation: ->\n        orientation = util.getOrientation screen.width, screen.height\n        orientation = 'horizontal' if orientation is 'quadratic'\n\n        orientation\n    \n    getMaxWidth: ->\n        if Math.abs(window.orientation) is 90\n            Math.min @options.el.offsetWidth, screen.width\n        else\n            @options.el.offsetWidth\n\n    fetch: (callback) ->\n        data = SGN.storage.session.get @storageKey\n\n        if data? and data.response? and data.width is @maxWidth\n            return callback null, data.response\n\n        SGN.GraphKit.request\n            query: schema\n            operationName: 'GetIncitoPublication'\n            variables:\n                id: @options.id\n                deviceCategory: 'DEVICE_CATEGORY_' + @deviceCategory.toUpperCase()\n                pixelRatio: @pixelRatio\n                pointer: 'POINTER_' + @pointer.toUpperCase()\n                orientation: 'ORIENTATION_' + @orientation.toUpperCase()\n                maxWidth: @maxWidth\n                versionsSupported: @versionsSupported\n        , (err, res) =>\n            if err?\n                callback err\n            else if res.errors and res.errors.length > 0\n                callback util.error(new Error(), 'graph request contained errors')\n            else\n                callback null, res\n\n                SGN.storage.session.set @storageKey,\n                    width: @maxWidth\n                    response: res\n            \n            return\n\n        return\n    \n    createViewer: (data) ->\n        if not data.incito?\n            throw util.error new Error(), 'you need to supply valid Incito to create a viewer'\n\n        viewer = new SGN.IncitoPublicationKit.Viewer @options.el,\n            id: @options.id\n            incito: data.incito\n            eventTracker: @options.eventTracker\n        controls = new Controls viewer\n\n        viewer","module.exports =\n    Viewer: require './viewer'\n\n    Bootstrapper: require './bootstrapper'","// @@match logic\nrequire('./_fix-re-wks')('match', 1, function (defined, MATCH, $match) {\n  // 21.1.3.11 String.prototype.match(regexp)\n  return [function match(regexp) {\n    'use strict';\n    var O = defined(this);\n    var fn = regexp == undefined ? undefined : regexp[MATCH];\n    return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n  }, $match];\n});\n","MicroEvent = require 'microevent'\nGator = require '../../../../vendor/gator'\nMustache = require 'mustache'\nkeyCodes = require '../../key-codes'\n\ntemplate = \"\"\"\n<div class=\"sgn-popover__background\" data-close></div>\n<div class=\"sgn-popover__menu\">\n    {{#header}}\n        <div class=\"sgn-popover__header\">{{header}}</div>\n    {{/header}}\n    <div class=\"sgn-popover__content\">\n        <ul>\n            {{#singleChoiceItems}}\n                <li data-index=\"{{index}}\">\n                    <p class=\"sgn-popover-item__title\">{{item.title}}</p>\n                    {{#item.subtitle}}\n                        <p class=\"sgn-popover-item__subtitle\">{{item.subtitle}}</p>\n                    {{/item.subtitle}}\n                </li>\n            {{/singleChoiceItems}}\n        </ul>\n    </div>\n</div>\n\"\"\"\n\nclass Popover\n    constructor: (@options = {}) ->\n        @el = document.createElement 'div'\n        @backgroundEl = document.createElement 'div'\n        @resizeListener = @resize.bind @\n        @scrollListener = @scroll.bind @\n\n        return\n\n    render: ->\n        width = @options.width ? 100\n        header = @options.header\n        template = @options.template if @options.template?\n        trigger = @trigger.bind @\n        view =\n            header: header\n            singleChoiceItems: @options.singleChoiceItems?.map (item, i) ->\n                item: item\n                index: i\n\n        @el.className = 'sgn-popover'\n        @el.setAttribute 'tabindex', -1\n        @el.innerHTML = Mustache.render template, view\n\n        @position()\n        @addEventListeners()\n\n        @\n\n    destroy: ->\n        Gator(@el).off()\n\n        window.removeEventListener 'resize', @resizeListener\n        window.removeEventListener 'scroll', @scrollListener\n\n        if @el.parentNode?\n            @el.parentNode.removeChild @el\n\n            @trigger 'destroyed'\n\n        return\n    \n    position: ->\n        top = @options.y\n        left = @options.x\n\n        menuEl = @el.querySelector '.sgn-popover__menu'\n\n        width = menuEl.offsetWidth\n        height = menuEl.offsetHeight\n        parentWidth = @el.parentNode.offsetWidth\n        parentHeight = @el.parentNode.offsetHeight\n        boundingRect = @el.parentNode.getBoundingClientRect()\n\n        top -= boundingRect.top\n        left -= boundingRect.left\n\n        top -= window.pageYOffset\n        left -= window.pageXOffset\n\n        if top + height > parentHeight\n            menuEl.style.top = parentHeight - height + 'px'\n        else\n            menuEl.style.top = top + 'px'\n\n        if left + width > parentWidth\n            menuEl.style.left = parentWidth - width + 'px'\n        else\n            menuEl.style.left = left + 'px'\n        \n        return\n    \n    addEventListeners: ->\n        trigger = @trigger.bind @\n\n        @el.addEventListener 'keyup', @keyUp.bind(@)\n\n        Gator(@el).on 'click', '[data-index]', (e) ->\n            e.preventDefault()\n            e.stopPropagation()\n\n            trigger 'selected', index: +@getAttribute 'data-index'\n\n            return\n\n        Gator(@el).on 'click', '[data-close]', (e) =>\n            e.preventDefault()\n            e.stopPropagation()\n            \n            @destroy()\n\n            return\n\n        Gator(@el).on 'click', '.sgn-popover__menu', (e) ->\n            e.stopPropagation()\n\n            return\n\n        window.addEventListener 'resize', @resizeListener, false\n        window.addEventListener 'scroll', @scrollListener, false\n\n        return\n\n    keyUp: (e) ->\n        @destroy() if e.keyCode is keyCodes.ESC\n        \n        return\n\n    resize: ->\n        @destroy()\n\n        return\n\n    scroll: ->\n        @destroy()\n\n        return\n\nMicroEvent.mixin Popover\n\nmodule.exports = Popover\n","/**\n * Copyright 2014 Craig Campbell\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * GATOR.JS\n * Simple Event Delegation\n *\n * @version 1.2.4\n *\n * Compatible with IE 9+, FF 3.6+, Safari 5+, Chrome\n *\n * Include legacy.js for compatibility with older browsers\n *\n *             .-._   _ _ _ _ _ _ _ _\n *  .-''-.__.-'00  '-' ' ' ' ' ' ' ' '-.\n * '.___ '    .   .--_'-' '-' '-' _'-' '._\n *  V: V 'vv-'   '_   '.       .'  _..' '.'.\n *    '=.____.=_.--'   :_.__.__:_   '.   : :\n *            (((____.-'        '-.  /   : :\n *                              (((-'\\ .' /\n *                            _____..'  .'\n *                           '-._____.-'\n */\nvar _matcher,\n  _level = 0,\n  _id = 0,\n  _handlers = {},\n  _gatorInstances = {};\n\nfunction _addEvent(gator, type, callback) {\n  // blur and focus do not bubble up but if you use event capturing\n  // then you will get them\n  var useCapture = type == \"blur\" || type == \"focus\";\n  gator.element.addEventListener(type, callback, useCapture);\n}\n\nfunction _cancel(e) {\n  e.preventDefault();\n  e.stopPropagation();\n}\n\n/**\n     * returns function to use for determining if an element\n     * matches a query selector\n     *\n     * @returns {Function}\n     */\nfunction _getMatcher(element) {\n  if (_matcher) {\n    return _matcher;\n  }\n\n  if (element.matches) {\n    _matcher = element.matches;\n    return _matcher;\n  }\n\n  if (element.webkitMatchesSelector) {\n    _matcher = element.webkitMatchesSelector;\n    return _matcher;\n  }\n\n  if (element.mozMatchesSelector) {\n    _matcher = element.mozMatchesSelector;\n    return _matcher;\n  }\n\n  if (element.msMatchesSelector) {\n    _matcher = element.msMatchesSelector;\n    return _matcher;\n  }\n\n  if (element.oMatchesSelector) {\n    _matcher = element.oMatchesSelector;\n    return _matcher;\n  }\n\n  // if it doesn't match a native browser method\n  // fall back to the gator function\n  _matcher = Gator.matchesSelector;\n  return _matcher;\n}\n\n/**\n     * determines if the specified element matches a given selector\n     *\n     * @param {Node} element - the element to compare against the selector\n     * @param {string} selector\n     * @param {Node} boundElement - the element the listener was attached to\n     * @returns {void|Node}\n     */\nfunction _matchesSelector(element, selector, boundElement) {\n  // no selector means this event was bound directly to this element\n  if (selector == \"_root\") {\n    return boundElement;\n  }\n\n  // if we have moved up to the element you bound the event to\n  // then we have come too far\n  if (element === boundElement) {\n    return;\n  }\n\n  // if this is a match then we are done!\n  if (_getMatcher(element).call(element, selector)) {\n    return element;\n  }\n\n  // if this element did not match but has a parent we should try\n  // going up the tree to see if any of the parent elements match\n  // for example if you are looking for a click on an <a> tag but there\n  // is a <span> inside of the a tag that it is the target,\n  // it should still work\n  if (element.parentNode) {\n    _level++;\n    return _matchesSelector(element.parentNode, selector, boundElement);\n  }\n}\n\nfunction _addHandler(gator, event, selector, callback) {\n  if (!_handlers[gator.id]) {\n    _handlers[gator.id] = {};\n  }\n\n  if (!_handlers[gator.id][event]) {\n    _handlers[gator.id][event] = {};\n  }\n\n  if (!_handlers[gator.id][event][selector]) {\n    _handlers[gator.id][event][selector] = [];\n  }\n\n  _handlers[gator.id][event][selector].push(callback);\n}\n\nfunction _removeHandler(gator, event, selector, callback) {\n  // if there are no events tied to this element at all\n  // then don't do anything\n  if (!_handlers[gator.id]) {\n    return;\n  }\n\n  // if there is no event type specified then remove all events\n  // example: Gator(element).off()\n  if (!event) {\n    for (var type in _handlers[gator.id]) {\n      if (_handlers[gator.id].hasOwnProperty(type)) {\n        _handlers[gator.id][type] = {};\n      }\n    }\n    return;\n  }\n\n  // if no callback or selector is specified remove all events of this type\n  // example: Gator(element).off('click')\n  if (!callback && !selector) {\n    _handlers[gator.id][event] = {};\n    return;\n  }\n\n  // if a selector is specified but no callback remove all events\n  // for this selector\n  // example: Gator(element).off('click', '.sub-element')\n  if (!callback) {\n    delete _handlers[gator.id][event][selector];\n    return;\n  }\n\n  // if we have specified an event type, selector, and callback then we\n  // need to make sure there are callbacks tied to this selector to\n  // begin with.  if there aren't then we can stop here\n  if (!_handlers[gator.id][event][selector]) {\n    return;\n  }\n\n  // if there are then loop through all the callbacks and if we find\n  // one that matches remove it from the array\n  for (var i = 0; i < _handlers[gator.id][event][selector].length; i++) {\n    if (_handlers[gator.id][event][selector][i] === callback) {\n      _handlers[gator.id][event][selector].splice(i, 1);\n      break;\n    }\n  }\n}\n\nfunction _handleEvent(id, e, type) {\n  if (!_handlers[id][type]) {\n    return;\n  }\n\n  var target = e.target || e.srcElement,\n    selector,\n    match,\n    matches = {},\n    i = 0,\n    j = 0;\n\n  // find all events that match\n  _level = 0;\n  for (selector in _handlers[id][type]) {\n    if (_handlers[id][type].hasOwnProperty(selector)) {\n      match = _matchesSelector(target, selector, _gatorInstances[id].element);\n\n      if (\n        match &&\n        Gator.matchesEvent(\n          type,\n          _gatorInstances[id].element,\n          match,\n          selector == \"_root\",\n          e\n        )\n      ) {\n        _level++;\n        _handlers[id][type][selector].match = match;\n        matches[_level] = _handlers[id][type][selector];\n      }\n    }\n  }\n\n  // stopPropagation() fails to set cancelBubble to true in Webkit\n  // @see http://code.google.com/p/chromium/issues/detail?id=162270\n  e.stopPropagation = function() {\n    e.cancelBubble = true;\n  };\n\n  for (i = 0; i <= _level; i++) {\n    if (matches[i]) {\n      for (j = 0; j < matches[i].length; j++) {\n        if (matches[i][j].call(matches[i].match, e) === false) {\n          Gator.cancel(e);\n          return;\n        }\n\n        if (e.cancelBubble) {\n          return;\n        }\n      }\n    }\n  }\n}\n\n/**\n     * binds the specified events to the element\n     *\n     * @param {string|Array} events\n     * @param {string} selector\n     * @param {Function} callback\n     * @param {boolean=} remove\n     * @returns {Object}\n     */\nfunction _bind(events, selector, callback, remove) {\n  // fail silently if you pass null or undefined as an alement\n  // in the Gator constructor\n  if (!this.element) {\n    return;\n  }\n\n  if (!(events instanceof Array)) {\n    events = [events];\n  }\n\n  if (!callback && typeof selector == \"function\") {\n    callback = selector;\n    selector = \"_root\";\n  }\n\n  var id = this.id,\n    i;\n\n  function _getGlobalCallback(type) {\n    return function(e) {\n      _handleEvent(id, e, type);\n    };\n  }\n\n  for (i = 0; i < events.length; i++) {\n    if (remove) {\n      _removeHandler(this, events[i], selector, callback);\n      continue;\n    }\n\n    if (!_handlers[id] || !_handlers[id][events[i]]) {\n      Gator.addEvent(this, events[i], _getGlobalCallback(events[i]));\n    }\n\n    _addHandler(this, events[i], selector, callback);\n  }\n\n  return this;\n}\n\n/**\n     * Gator object constructor\n     *\n     * @param {Node} element\n     */\nfunction Gator(element, id) {\n  // called as function\n  if (!(this instanceof Gator)) {\n    // only keep one Gator instance per node to make sure that\n    // we don't create a ton of new objects if you want to delegate\n    // multiple events from the same node\n    //\n    // for example: Gator(document).on(...\n    for (var key in _gatorInstances) {\n      if (_gatorInstances[key].element === element) {\n        return _gatorInstances[key];\n      }\n    }\n\n    _id++;\n    _gatorInstances[_id] = new Gator(element, _id);\n\n    return _gatorInstances[_id];\n  }\n\n  this.element = element;\n  this.id = id;\n}\n\n/**\n     * adds an event\n     *\n     * @param {string|Array} events\n     * @param {string} selector\n     * @param {Function} callback\n     * @returns {Object}\n     */\nGator.prototype.on = function(events, selector, callback) {\n  return _bind.call(this, events, selector, callback);\n};\n\n/**\n     * removes an event\n     *\n     * @param {string|Array} events\n     * @param {string} selector\n     * @param {Function} callback\n     * @returns {Object}\n     */\nGator.prototype.off = function(events, selector, callback) {\n  return _bind.call(this, events, selector, callback, true);\n};\n\nGator.matchesSelector = function() {};\nGator.cancel = _cancel;\nGator.addEvent = _addEvent;\nGator.matchesEvent = function() {\n  return true;\n};\n\nif (typeof module !== \"undefined\" && module.exports) {\n  module.exports = Gator;\n}\n\nif (typeof window !== \"undefined\" && window.exports) {\n  window.Gator = Gator;\n}\n","module.exports = class OfferDetails\n    constructor: (@options = {}) ->\n        @el = document.createElement 'div'\n\n        @el.className = 'sgn-offer-details'\n        @el.setAttribute 'tabindex', -1\n        @el.appendChild @options.contentEl\n\n        @resizeListener = @resize.bind @\n\n        @position()\n\n        return\n    \n    appendTo: (el) ->\n        el.appendChild @el\n\n        @el.offsetWidth\n\n        @show()\n\n        @\n    \n    show: ->\n        @el.className += ' in'\n\n        window.addEventListener 'resize', @resizeListener, false\n\n        @\n    \n    destroy: ->\n        window.removeEventListener 'resize', @resizeListener\n\n        @el.parentNode.removeChild @el\n\n        return\n    \n    position: ->\n        rect = @options.anchorEl.getBoundingClientRect()\n        top = window.pageYOffset + rect.top + @options.anchorEl.offsetHeight\n        left = window.pageXOffset + rect.left\n        width = @options.anchorEl.offsetWidth\n\n        @el.style.top = top + 'px'\n        @el.style.left = left + 'px'\n        @el.style.width = width + 'px'\n\n        return\n    \n    resize: ->\n        @position()\n\n        return","Popover = require './popover'\n\nmodule.exports = (ctx, callback) ->\n    items = ctx.items\n    popover = null\n\n    if items.length is 1\n        callback items[0]\n    else if items.length > 1\n        popover = new Popover\n            header: ctx.header,\n            x: ctx.x\n            y: ctx.y\n            singleChoiceItems: items\n\n        popover.bind 'selected', (e) ->\n            callback items[e.index]\n\n            popover.destroy()\n\n            return\n\n        popover.bind 'destroyed', ->\n            ctx.el.focus()\n\n            return\n\n        ctx.el.appendChild popover.el\n        popover.render().el.focus()\n\n    destroy: ->\n        popover.destroy() if popover?\n\n        return","Gator = require '../../../../vendor/gator'\n\nmodule.exports =\n    OfferDetails: require './offer-details'\n\n    Popover: require './popover'\n\n    singleChoicePopover: require './single-choice-popover'\n\n    on: (el, events, selector, callback) ->\n        Gator(el).on events, selector, callback\n\n    off: (el, events, selector, callback) ->\n        Gator(el).off events, selector, callback","{ isBrowser } = require './util'\n\nSGN = require './core'\n\n# Expose storage backends.\nSGN.storage =\n    local: require './storage/client-local'\n    session: require './storage/client-session'\n    cookie: require './storage/client-cookie'\n\n# Expose request handler.\nSGN.request = require './request'\n\n# Expose the different kits.\nSGN.AssetsKit = require './kits/assets'\nSGN.EventsKit = require './kits/events'\nSGN.GraphKit = require './kits/graph'\nSGN.CoreKit = require './kits/core'\nSGN.PagedPublicationKit = require './kits/paged-publication'\nSGN.IncitoPublicationKit = require './kits/incito-publication'\nSGN.CoreUIKit = require './kits/core-ui'\n\n# Set the core session from the cookie store if possible.\nsession = SGN.storage.cookie.get 'session'\n\nif typeof session is 'object'\n    SGN.config.set\n        coreSessionToken: session.token\n        coreSessionClientId: session.client_id\n\nSGN.client = do ->\n    id = SGN.storage.local.get 'client-id'\n    id = id?.data\n    firstOpen = not id?\n\n    if firstOpen\n        id = SGN.util.uuid()\n        \n        SGN.storage.local.set 'client-id', id\n\n    firstOpen: firstOpen\n    id: id\n\n# Listen for changes in the config.\nSGN.config.bind 'change', (changedAttributes) ->\n    eventTracker = changedAttributes.eventTracker\n\n    if eventTracker?\n        eventTracker.trackEvent 'first-client-session-opened', {}, '1.0.0' if SGN.client.firstOpen is true\n        eventTracker.trackEvent 'client-session-opened', {}, '1.0.0'\n\n    return\n\nif isBrowser()\n    # Autoconfigure the SDK.\n    scriptEl = document.getElementById 'sgn-sdk'\n\n    if scriptEl?\n        appKey = scriptEl.getAttribute 'data-app-key'\n        trackId = scriptEl.getAttribute 'data-track-id'\n        config = {}\n\n        config.appKey = appKey if appKey?\n        config.eventTracker = new SGN.EventsKit.Tracker(trackId: trackId) if trackId?\n\n        SGN.config.set config\n\nmodule.exports = SGN\n"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","it","isObject","exec","e","require$$0","get","a","global","module","window","Math","self","Function","__g","document","is","createElement","require$$1","dP","O","P","Attributes","anObject","S","fn","val","toString","call","valueOf","toPrimitive","IE8_DOM_DEFINE","value","object","f","bitmap","createDesc","hasOwnProperty","id","px","random","concat","undefined","core","version","__e","SRC","$toString","TPL","split","inspectSource","safe","isFunction","has","hide","join","String","this","store","USE_SYMBOL","name","uid","KEY","SYMBOL","wks","fns","defined","strfn","rxfn","fails","redefine","RegExp","string","arg","REPLACE","$replace","searchValue","replaceValue","util","FProto","nameRE","match","Config","MicroEvent","process","err","options","message","code","stack","time","Date","replace","c","r","field","url","href","location","queryParams","keys","map","encodeURIComponent","from","to","floor","ua","navigator","userAgent","indexOf","deviceCategory","platform","test","pointer","matchMedia","matches","width","height","density","logical","ref","screen","round","jan1","now","tmp","getFullYear","toGMTString","substring","lastIndexOf","getTimezoneOffset","color","hex","rgb","s","sum","x","parseInt","str","isBrowser","btoa","Buffer","arr","size","results","push","splice","deferTimer","last","threshold","scope","args","context","getTime","arguments","setTimeout","apply","src","callback","img","Image","onload","onerror","Error","lat1","lng1","lat2","lng2","dist","radlat1","radlat2","radtheta","theta","PI","sin","cos","acos","asyncCalls","sharedCallback","allResults","counter","k","makeCallback","index","bind","event","fct","_events","unbind","trigger","Array","slice","mixin","destObject","attrs","changedAttributes","config","option","Mustache","pairs","translations","factory","mustache","objectToString","isArray","escapeRegExp","hasProperty","propName","regExpTest","nonSpaceRe","isWhitespace","re","testRegExp","entityMap","&","<",">","\"","'","/","`","=","whiteRe","spaceRe","equalsRe","curlyRe","tagRe","Scanner","tail","pos","Context","view","parentContext","cache",".","parent","Writer","eos","scan","scanUntil","search","lookup","names","lookupHit","clearCache","parse","template","tags","tokens","openingTagRe","closingTagRe","closingCurlyRe","sections","spaces","hasTag","nonSpace","stripSpace","pop","compileTags","tagsToCompile","start","type","chr","token","openSection","scanner","valueLength","charAt","nestedTokens","collector","numTokens","nestTokens","lastToken","squashedTokens","squashTokens","parseTemplate","render","partials","renderTokens","originalTemplate","symbol","buffer","renderSection","renderInverted","renderPartial","unescapedValue","escapedValue","rawValue","j","escape","defaultWriter","to_html","send","result","exports","nodeName","require$$2","set","storage","localStorage","JSON","stringify","SGN","sessionStorage","MATCH","isRegExp","cof","SPLIT","$split","_split","$push","NPCG","separator","limit","separator2","lastIndex","lastLength","output","flags","ignoreCase","multiline","unicode","sticky","lastLastIndex","splitLimit","separatorCopy","source","XMLHttpRequest","ca","ct","len","isNode","cookie","trim","date","setTime","days","toUTCString","clientLocalStorage","getPool","pool","progressCallback","request","file","data","error","statusCode","body","loaded","total","addEventListener","Pulse","Tracker","dispatching","session","uuid","client","trackId","application","identity","interval","setInterval","dispatch","dispatchInterval","properties","toISOString","getContext","getPoolSize","poolLimit","shift","ref1","determinedAt","timestamp","latitude","longitude","altitude","accuracy","horizontal","vertical","speed","build","path","previousPath","uri","campaign","loc","os","screenDimensions","getScreenDimensions","getOS","language","getUtcOffsetSeconds","getUtcDstOffsetSeconds","physical","getView","getQueryParam","referrer","forEach","personId","events","nacks","dryRun","dispatchLimit","ship","response","resEvent","status","filter","poolEvent","_this","http","payload","sentAt","open","setRequestHeader","timeout","responseText","defaultOptions","destroyed","connection","connect","close","WebSocket","onopen","onOpen","onmessage","onMessage","onError","onclose","onClose","parseCookies","parsedCookies","cookies","keyValuePair","appKey","authToken","query","operationName","variables","headers","Authorization","useCookies","authCookie","callbackQueue","clientCookieStorage","renewed","sha256","runs","CoreKit","ensure","appSecret","appVersion","clientId","geo","json","locale","qs","ref2","geolocation","sign","r_locale","api_av","client_id","r_lat","r_lng","r_radius","radius","r_sensor","sensor","method","formData","ref3","responseToken","saveToken","globals","convertHex","bytesToHex","bytes","orig","arrBytesToHex","hexToBytes","convertString","bytesToString","fromCharCode","stringToBytes","charCodeAt","UTF8","decodeURIComponent","unescape","_imports","K","isPrime","n","sqrtN","sqrt","factor","getFractionalBits","nPrime","pow","bytesToWords","words","b","wordsToBytes","W","processBlock","H","M","offset","d","g","h","gamma0x","gamma0","gamma1x","gamma1","maj","sigma0","t1","m","l","digestbytes","asBytes","asString","x2","saveCookie","ttl","saveClientId","complete","queueCount","create","renew","that","aFunction","$export","own","out","exp","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","IS_PROTO","IS_BIND","B","expProto","ctx","U","R","propertyIsEnumerable","ceil","min","isNaN","toInteger","SPECIES","original","C","UNSCOPABLES","ArrayProto","TYPE","$create","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","$find","asc","$this","callbackfn","res","IObject","toLength","forced","find","PagedPublicationPageSpread","PageSpread","PagedPublicationPageSpreads","PageSpreads","PagedPublicationCore","Verso","_isObject","_anObject","_fails","_descriptors","createCommonjsModule","_global","document$1","_ie8DomDefine","_objectDp","_toPrimitive","_hide","_propertyDesc","_has","_uid","_core","_redefine","_defined","_shared","_wks","$exports","_fixReWks","_cof","_isRegexp","_aFunction","_ctx","_export","_toObject","$sort","sort","comparefn","IS_INCLUDES","_iobject","_toIobject","_toInteger","max","min$1","shared","arrayIndexOf","el","fromIndex","_toAbsoluteIndex","IE_PROTO","_enumBugKeys","_objectKeys","_objectKeysInternal","_objectGops","getOwnPropertySymbols","_objectPie","$assign","assign","_objectAssign","A","T","aLen","getSymbols","isEnum","VENDOR_PREFIXES","TYPE_FUNCTION","abs","setTimeoutContext","bindFn","invokeArrayArg","each","deprecate","deprecationMessage","log","console","warn","nextKey","extend","dest","merge","inherit","child","base","childP","baseP","_super","boolOrFn","ifUndefined","val1","val2","addEventListeners","types","handler","splitStr","removeEventListeners","removeEventListener","hasParent","node","parentNode","inStr","inArray","findByKey","toArray","uniqueArray","values","prefixed","property","prefix","prop","camelProp","toUpperCase","_uniqueId","getWindowForElement","element","doc","ownerDocument","defaultView","parentWindow","MOBILE_REGEX","SUPPORT_TOUCH","SUPPORT_POINTER_EVENTS","SUPPORT_ONLY_TOUCH","COMPUTE_INTERVAL","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","DIRECTION_NONE","DIRECTION_LEFT","DIRECTION_RIGHT","DIRECTION_UP","DIRECTION_DOWN","DIRECTION_HORIZONTAL","DIRECTION_VERTICAL","DIRECTION_ALL","PROPS_XY","PROPS_CLIENT_XY","Input","manager","inputTarget","domHandler","ev","enable","init","inputHandler","eventType","input","pointersLen","pointers","changedPointersLen","changedPointers","isFirst","isFinal","pointersLength","firstInput","simpleCloneInputData","firstMultiple","offsetCenter","center","getCenter","timeStamp","deltaTime","angle","getAngle","distance","getDistance","offsetDelta","prevDelta","prevInput","deltaX","y","deltaY","computeDeltaXY","offsetDirection","getDirection","end","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","scale","rotation","getRotation","maxPointers","velocity","velocityX","velocityY","direction","lastInterval","v","computeIntervalInputData","srcEvent","computeInputData","emit","recognize","clientX","clientY","p1","p2","atan2","evEl","evTarget","evWin","destroy","MOUSE_INPUT_MAP","mousedown","mousemove","mouseup","MOUSE_ELEMENT_EVENTS","MOUSE_WINDOW_EVENTS","MouseInput","pressed","button","which","pointerType","POINTER_INPUT_MAP","pointerdown","pointermove","pointerup","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","2","3","4","5","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","PointerEventInput","pointerEvents","MSPointerEvent","PointerEvent","removePointer","eventTypeNormalized","toLowerCase","isTouch","storeIndex","pointerId","SINGLE_TOUCH_INPUT_MAP","touchstart","touchmove","touchend","touchcancel","SINGLE_TOUCH_TARGET_EVENTS","SINGLE_TOUCH_WINDOW_EVENTS","SingleTouchInput","started","touches","all","changed","changedTouches","TOUCH_INPUT_MAP","TOUCH_TARGET_EVENTS","TouchInput","targetIds","allTouches","identifier","targetTouches","changedTargetTouches","touch","DEDUP_TIMEOUT","DEDUP_DISTANCE","TouchMouseInput","mouse","primaryTouch","lastTouches","setLastTouch","eventData","lastTouch","lts","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","t","dx","dy","PREFIXED_TOUCH_ACTION","style","NATIVE_TOUCH_ACTION","TOUCH_ACTION_AUTO","TOUCH_ACTION_MANIPULATION","TOUCH_ACTION_NONE","TOUCH_ACTION_PAN_X","TOUCH_ACTION_PAN_Y","TouchAction","getTouchActionProps","touchMap","CSS","supports","compute","TOUCH_ACTION_MAP","actions","update","touchAction","recognizers","recognizer","getTouchAction","hasPanX","hasPanY","cleanTouchActions","preventDefaults","prevented","preventDefault","hasNone","isTapPointer","isTapMovement","isTapTouchTime","preventSrc","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","Recognizer","defaults","state","simultaneous","requireFail","stateStr","directionStr","getRecognizerByNameIfManager","otherRecognizer","AttrRecognizer","PanRecognizer","pX","pY","PinchRecognizer","PressRecognizer","_timer","_input","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","count","Hammer","preset","Manager","handlers","oldCssProps","inputClass","toggleCssProps","item","add","recognizeWith","requireFailure","cssProps","dropRecognizeWith","dropRequireFailure","hasRequireFailures","canRecognizeWith","additionalEvent","tryEmit","canEmit","inputDataClone","reset","attrTest","optionPointers","isRecognized","isValid","directionTest","hasMoved","inOut","validPointers","validMovement","validTime","clearTimeout","taps","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","VERSION","domEvents","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","stop","force","stopped","curRecognizer","existing","remove","on","off","gestureEvent","createEvent","initEvent","gesture","dispatchEvent","triggerDomEvent","STATE_FAILED","Tap","Pan","Swipe","Pinch","Rotate","Press","Animation$1","Hammer$1","PageSpread$1","hammer","microevent","page_spread","visibility","positioned","active","pageIds","left","maxZoomScale","getMaxZoomScale","getEl","getAttribute","classList","contains","querySelectorAll","getBoundingClientRect","pageEl","pageRect","rect","ref4","top","right","bottom","getPageEls","display","getLeft","setAttribute","animation","Animation","run","duration","easing","transform","_transitionEnd","transition","el1","ref5","options1","swipeVelocity","swipeThreshold","navigationDuration","navigationPanDuration","zoomDuration","doubleTapDelay","position","pinching","panning","startTransform","tap","delay","scrollerEl","querySelector","pageSpreadEls","pageSpreads","traversePageSpreads","buildPageIds","getHammerInputClass","onPanStart","onPanMove","onPanEnd","onSingletap","onPinchStart","onPinchMove","onPinchEnd","onPress","onContextmenu","onWheel","pageId","getPageSpreadPositionFromPageId","navigateTo","resizeListener","onResize","touchStartListener","onTouchStart","touchEndListener","onTouchEnd","getPosition","getPageSpreadCount","activePageSpread","carousel","currentPageSpread","currentPosition","getPageSpreadFromPosition","getCarouselFromPageSpread","isScrollable","deactivate","activate","visible","pageSpread","setVisibility","getLeftTransformFromPageSpread","setPosition","newPosition","animate","getActivePageSpread","gone","previousPosition","getWidth","pageSpreadSubject","els","contentRect","info","len1","overlayEl","overlayEls","pageEls","offsetLeft","offsetTop","contentX","contentY","pageX","pageY","isInsideContentX","isInsideContentY","isInsideContent","getContentRect","getOverlayEls","isCoordinateInsideElement","idx","pageSpreadContentRect","pageSpreadRect","getRect","coordinate","carouselOffset","carouselScaledOffset","curScale","pageSpreadBounds","getPageSpreadBounds","bounds","clipCoordinate","offsetWidth","offsetHeight","next","prev","isZoomable","zoomTo","_this2","getCoordinateInfo","_this3","coordinateInfo","zoomEvent","zoomedIn","_this4","contentsRendered","hotspotsRendered","renderEl","pages","getPages","page","className","getId","imageLoads","pageCount","image","loaderEl","images","medium","appendChild","innerHTML","label","loadImage","isComplete","backgroundImage","versoPageSpread","large","removeAttribute","collection","ids","frag","createDocumentFragment","firstPage","lastPage","midstPageSpreads","pageMode","chunk","midstPages","require$$4","makeOptions","getOption","getPageMode","pageLoaded","pagesLoaded","setColor","insertBefore","getFrag","verso","createVerso","getVerso","visibilityChangeListener","visibilityChange","throttle","resize","unloadListener","unload","root","focus","pageSpreadEl","backgroundColor","removeChild","opts","getColorBrightness","overridePageSpreadContentRect","beforeNavigation","afterNavigation","attemptedNavigation","clicked","doubleClicked","contextmenu","panStart","panEnd","zoomedOut","actualHeight","actualWidth","clientRect","imageRatio","pageHeight","pageWidth","pageLabels","getVisibility","renderContents","clearContents","newSpreadEl","pageSpreadCount","progress","progressLabel","theVerso","formatProgressLabel","renderPageSpreads","resetIdleTimer","startIdleTimer","findPage","zoomIn","zoomOut","idleTimeout","getPageIds","refresh","getType","eventName","hidden","switchPageMode","PagedPublicationHotspots","currentPageSpreadId","pageSpreadsLoaded","hotspotsReceived","resized","boundingRect","hotspot","hotspotEl","hotspotEls","ratio","renderHotspot","maxX","maxY","minX","minY","pageNumber","pageNumbers","locations","coords","pageSpreadId","setCache","renderHotspots","requestHotspots","getCache","PagedPublicationControls","keyCodes","keyDownListener","keyDown","keyboard","prevControl","prevClicked","nextControl","nextClicked","closeClicked","showProgress","progressBar","textContent","keyCode","ARROW_LEFT","ARROW_RIGHT","SPACE","NUMBER_ONE","PagedPublicationEventTracking","Controls","Core","EventTracking","Hotspots","Viewer","appeared","disappeared","pageSpreadDisappeared","trackEvent","pageSpreadAppeared","trackPageClicked","trackPageHotspotsClicked","trackPageDoubleClicked","trackPageLongPressed","trackPageSpreadZoomedIn","trackPageSpreadZoomedOut","trackPageSpreadAppeared","trackPageSpreadDisappeared","require$$3","pageSpreadWidth","pageSpreadMaxZoomScale","idleDelay","resizeDelay","_hotspots","_controls","_eventTracking","viewSession","hotspots","hotspotQueue","popover","_setupEventListeners","trackOpened","navigateToIndex","first","eventTracker","ownedBy","_trackEvent","hotspotsRequested","CoreUIKit","singleChoicePopover","offer","heading","pricing","currency","price","hotspotRequest","hotspotRatio","processHotspotQueue","pickHotspot","Incito","PagedPublicationKit","details","dealer_id","branding","pageflip","dimensions","transformPages","zoom","viewer","applyHotspots","async","parallel","fetchDetails","fetchPages","_inherits","subClass","superClass","setPrototypeOf","__proto__","_possibleConstructorReturn","ReferenceError","_assertThisInitialized","commonjsGlobal","View","utils$1","utils_1","formatUnit","unit","isDefinedStr","escapeHTML","unsafe","func","inThrottle","View$1","utils$2","setAttributes","tagName","shadow","strokeStyles","transforms","role","accessibility_label","accessibility_hidden","title","gravity","link","layout_width","layout_height","min_width","minWidth","max_width","maxWidth","min_height","minHeight","max_height","maxHeight","layout_top","layout_left","layout_right","layout_bottom","background_color","background_image","lazyload","background_tile_mode","backgroundRepeat","background_image_position","backgroundPosition","background_image_scale_type","backgroundSize","layout_margin","margin","layout_margin_top","marginTop","layout_margin_left","marginLeft","layout_margin_right","marginRight","layout_margin_bottom","marginBottom","padding","padding_top","paddingTop","padding_left","paddingLeft","padding_right","paddingRight","padding_bottom","paddingBottom","corner_radius","borderRadius","corner_top_left_radius","borderTopLeftRadius","corner_top_right_radius","borderTopRightRadius","corner_bottom_left_radius","borderBottomLeftRadius","corner_bottom_right_radius","borderBottomRightRadius","clip_children","overflow","getShadow","boxShadow","stroke_width","borderWidth","stroke_color","borderColor","stroke_style","borderStyle","stroke_top_width","borderTopWidth","stroke_top_color","borderTopColor","stroke_top_style","borderTopStyle","stroke_left_width","borderLeftWidth","stroke_left_color","borderLeftColor","stroke_left_style","borderLeftStyle","stroke_right_width","borderRightWidth","stroke_right_color","borderRightColor","stroke_right_style","borderRightStyle","stroke_bottom_width","borderBottomWidth","stroke_bottom_color","borderBottomColor","stroke_bottom_style","borderBottomStyle","getTransforms","transform_origin","transformOrigin","translateX","translateY","transform_translate_x","transform_translate_y","transform_rotate","transform_scale","shadow_color","shadow_dx","shadow_dy","shadow_radius","FragView","_View","getPrototypeOf","dP$1","View$2","utils$3","indexOf$1","View$3","allowedHostnames","utils$4","text","TextView","parsedText","textShadow","textStyles","text_style","spans","parseSpans","escapedText","span","encodeURI","text_prevent_widow","font_family","fontFamily","text_size","fontSize","line_spacing_multiplier","lineHeight","text_color","fontWeight","fontStyle","getTextShadow","text_alignment","textAlign","font_stretch","fontStretch","single_line","max_lines","webkitLineClamp","webkitBoxOrient","text_all_caps","textTransform","endIndex","startIndex","text_shadow_color","text_shadow_dx","text_shadow_dy","text_shadow_radius","indexOf$2","View$4","utils$5","videoEmbed","FlexLayout","linkEl","hostname","View$5","video","Video","autoplay","loop","controls","mime","View$6","linearLayout","LinearLayout","View$7","alignContentModes","alignItemModes","flexDirectionModes","flexJustifyModes","utils$6","absoluteLayout","AbsoluteLayout","indexOf$3","AbsoluteLayout$1","FlexLayout$2","FragView$1","ImageView","LinearLayout$1","TextView$1","VideoEmbedView","VideoView","View$8","utils$7","flexLayout","layout_flex_align_items","alignItems","msAlignItems","layout_flex_align_content","alignContent","msAlignContent","layout_flex_justify_content","justifyContent","msFlexPack","layout_flex_direction","flexDirection","msFlexDirection","layout_flex_shrink","flexShrink","msFlexShrink","layout_flex_grow","flexGrow","msFlexGrow","layout_flex_basis","flexBasis","parseUnit","msFlexBasis","containerEl","entries","incito","loadFonts","font_assets","applyTheme","theme","root_view","lazyloadCheck","viewName","view_name","meta","child_views","childView","font","styleEl","text$$1","urls","fontAssets","FontFace","weight","fonts","load","createTextNode","head","check","isInsideViewport","observer","IntersectionObserver","entry","isIntersecting","intersectionRatio","revealElement","unobserve","rootMargin","observe","windowHeight","innerHeight","documentElement","clientHeight","iframeEl","sourceEl","progressEl","scrollListener","scroll","docHeight","scrollTop","winHeight","scrollY","opacity","schema","getDeviceCategory","pixelRatio","getPixelRatio","getPointer","orientation","getOrientation","getMaxWidth","versionsSupported","storageKey","devicePixelRatio","GraphKit","errors","IncitoPublicationKit","$match","regexp","Gator","Popover","_matcher","_level","_id","_handlers","_gatorInstances","_matchesSelector","selector","boundElement","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","matchesSelector","_getMatcher","_addHandler","gator","_removeHandler","_bind","addEvent","_getGlobalCallback","srcElement","matchesEvent","stopPropagation","cancelBubble","cancel","useCapture","contentEl","show","anchorEl","pageYOffset","pageXOffset","backgroundEl","header","menuEl","parentHeight","parentWidth","keyUp","ESC","scriptEl","items","formatQueryParams","withCredentials","getAllResponseHeaders","reduce","acc","current","parts","lengthComputable","FormData","append","AssetsKit","require$$6","EventsKit","require$$7","require$$8","require$$9","require$$10","require$$11","require$$12","firstOpen","local","getElementById"],"mappings":"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"}